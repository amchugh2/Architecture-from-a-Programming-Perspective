Script started on 2019-11-21 11:57:08-05:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="80" LINES="24"]
amchugh2@g7-37:~/i220a_new/work/lab14$ >block
amchugh2@g7-37:~/i220a_new/work/lab14$ a[Ka
bash: a: command not found
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbox &
[1] 3572
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
amchugh2@g7-37:~/i220a_new/work/lab14$ make block.com
make: 'block.com' is up to date.
amchugh2@g7-37:~/i220a_new/work/lab14$ op[Kd -x block.com
0000000 01eb e800 0018 02a0 3c01 7471 b90e 0032
0000020 15e8 e800 0023 7549 ebf7 e8e8 0015 b450
0000040 cd08 a221 0102 c358 b450 8a02 0216 cd01
0000060 5821 b4c3 b04c cd00 5021 5153 02bb b900
0000100 0000 a0b8 f6f0 49e9 f875 754b 59f2 585b
0000120 00c3
0000121
amchugh2@g7-37:~/i220a_new/work/lab14$ SHELL:Redirect output to block
e
bash: e: command not found
amchugh2@g7-37:~/i220a_new/work/lab14$ ./b[K[K[Kblock
bash: block: command not found
amchugh2@g7-37:~/i220a_new/work/lab14$ ./block
bash: ./block: Permission denied
amchugh2@g7-37:~/i220a_new/work/lab14$ ,[Kmount c[K[K[K[K[K[K[Kmake poll.com
as --32 -a=poll.lst poll.s -o poll.o
objcopy -O binary poll.o poll.bin
rm poll.o
dd if=poll.bin of=poll.com bs=256 skip=1
0+1 records in
0+1 records out
110 bytes copied, 0.00136688 s, 80.5 kB/s
rm poll.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ make poll.com
make: 'poll.com' is up to date.
amchugh2@g7-37:~/i220a_new/work/lab14$ ls
block	   block.lst  DIR	 lab14.log  poll.com  poll.s
block.com  block.s    key-int.s  Makefile   poll.lst
amchugh2@g7-37:~/i220a_new/work/lab14$ vim block.com
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"block.com" [noeol][converted] 1L, 112C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H√´[34m^A^@[m√®[1;7H[34m^X^@[m¬†[34m^B^A[m<qt[34m^N[m¬π[1;22H[31m2[m[34m^@[m√®[1;26H[34m^U^@[m√®[1;31H#[34m^@[mIu√∑[1;37H√´√®[1;39H√®[1;40H[34m^U^@[mP¬¥[1;46H[34m^H[m√ç!¬¢[34m^B^A[mX√ÉP¬¥[1;59H[34m^B<8a>^V^B^A[m√ç!X√É¬¥[1;76HL¬∞[1;78H[34m^@[m√ç [2;1H!PSQ¬ª[34m^B^@[m¬π[2;11H[34m^@^@[m¬∏[2;16H¬†√∞[2;18H√∂√©[2;20HIu√∏[2;23HKu√≤[2;26HY[35m[[mX√É
[94m~                                                                               [4;1H~                                                                               [5;1H~                                                                               [6;1H~                                                                               [7;1H~                                                                               [8;1H~                                                                               [9;1H~                                                                               [10;1H~                                                                               [11;1H~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[24;63H1,1[11CAll]2;block.com (~/git-repos/i220a_new/work/lab14) - VIM]1;block.com[1;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;1H√´[38;5;81m^A^@[m√®[1;7H[38;5;81m^X^@[m¬†[38;5;81m^B^A[m<qt[38;5;81m^N[m¬π[1;22H[95m2[m[38;5;81m^@[m√®[1;26H[38;5;81m^U^@[m√®[1;31H#[38;5;81m^@[mIu√∑[1;37H√´√®[1;39H√®[1;40H[38;5;81m^U^@[mP¬¥[1;46H[38;5;81m^H[m√ç!¬¢[38;5;81m^B^A[mX√ÉP¬¥[1;59H[38;5;81m^B<8a>^V^B^A[m√ç!X√É¬¥[1;76HL¬∞[1;78H[38;5;81m^@[m√ç [2;1H!PSQ¬ª[38;5;81m^B^@[m¬π[2;11H[38;5;81m^@^@[m¬∏[2;16H¬†√∞[2;18H√∂√©[2;20HIu√∏[2;23HKu√≤[2;26HY[38;5;224m[[mX√É
[94m~                                                                               [4;1H~                                                                               [5;1H~                                                                               [6;1H~                                                                               [7;1H~                                                                               [8;1H~                                                                               [9;1H~                                                                               [10;1H~                                                                               [11;1H~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[24;63H1,1[11CAll"block.com" [noeol][converted] 1L, 112C[1;1H[?25h[?25l[24;53H^Z[1;1H[24;1H
[?2004l[?1l>[?25h[?1049l[23;0;0t]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[?1006l[?1002l[?2004l
[2]+  Stopped                 vim block.com
amchugh2@g7-37:~/i220a_new/work/lab14$ vim block.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"block.s" 76L, 1751C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[34m#dos starts all .com programs at this offset[m[2;17H[38;5;130m.org[m    [31m0x100[m[4;17H[38;5;130m.code16[m

[34m#Define constants[m
[36mDOS_INT[m[9C=[7C[31m0x21[m
[36mCOUNT[m[11C=[7C[31m50[m
[36mQUIT[m[12C=[7C'[36mq[m'
[36mDELAY_LO[m[8C=[7C[31m0x0[m
[36mDELAY_HI[m[8C=[7C[31m0x2[m

[34m#Entered at program startup.[m[14;17H[36mjmp[m     [36mmain[m


[34m#data area      [m
[36minChar[m:[9C[38;5;130m.byte[m   [31m0[m

[36mmain[m:
[36mmain1[m:[22;17H[36mcall[m    [36mgetchar[m[9C[34m#read input char into inChar[m[23;17H[36mmov[m     [36minChar[m, %[36mal[m     [34m#al set to char read[m[24;63H1,1-8[9CTop]2;block.s (~/git-repos/i220a_new/work/lab14) - VIM]1;block.s[1;8H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m
[1m[96mCOUNT[m[11C=[7C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m

[96m#Entered at program startup.[m[14;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m

[1m[96mmain[m:
[1m[96mmain1[m:[22;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[23;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H1,1-8[9CTop"block.s" 76L, 1751C[1;8H[?25h[?25l[24;53H:[1;8H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25hm[?25l[?25ho[?25l[?25hr[?25l[?25hn[?25l[?25hi[?25l[?25hn[?25l[?25hg[?25l[?25h[?25l[30m[47m[1;8H[27m[23m[29m[m[30m[47m[H[2J[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[2;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[4;17H[1m[38;5;130m.code16[m[30m[47m

[34m#Define constants[m[30m[47m
[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m
[36mCOUNT[m[30m[47m[11C=[7C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[14;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m

[36mmain[m[30m[47m:
[36mmain1[m[30m[47m:[22;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H1,1-8[9CTop[1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [2;8H[24;63H2[2;8H[?25h[?25l[24;53H~@k[2;8H[24;53H   [3;1H[24;63H3,0-1[3;1H[?25h[?25l[24;53H~@k[3;1H[24;53H   [4;8H[24;63H4,1-8[4;8H[?25h[?25l[24;53H~@k[4;8H[24;53H   [3;1H[24;63H3,0-1[3;1H[?25h[?25l[24;53H~@k[3;1H[24;53H   [2;8H[24;63H2,1-8[2;8H[?25h[?25l[24;53H~@k[2;8H[24;53H   [1;8H[24;63H1[1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [2;8H[24;63H2[2;8H[?25h[?25l[24;53H~@k[2;8H[24;53H   [3;1H[24;63H3,0-1[3;1H[?25h[?25l[24;53H~@k[3;1H[24;53H   [4;8H[24;63H4,1-8[4;8H[?25h[?25l[24;53H~@k[4;8H[24;53H   [5;1H[24;63H5,0-1[5;1H[?25h[?25l[24;53H~@k[5;1H[24;53H   [6;8H[24;63H6,8  [6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [7;8H[24;63H7[7;8H[?25h[?25l[24;53H~@k[7;8H[24;53H   [8;8H[24;63H8[8;8H[?25h[?25l[24;53H~@k[8;8H[24;53H   [9;8H[24;63H9[9;8H[?25h[?25l[24;53H~@k[9;8H[24;53H   [10;8H[24;63H10,8[10;8H[?25h[?25l[24;53H~@k[10;8H[24;53H   [11;8H[24;64H1[11;8H[?25h[?25l[24;53H~@k[11;8H[24;53H   [11;9H[24;66H9[11;9H[?25h[?25l[24;53H~@k[11;9H[24;53H   [12;1H[24;64H2,0-1[12;1H[?25h[?25l[24;53H~@k[12;1H[24;53H   [13;9H[24;64H3,9  [13;9H[?25h[?25l[24;53H~@k[13;9H[24;53H   [14;16H[24;64H4,2-16[14;16H[?25h[?25l[24;53H~@k[14;16H[24;53H   [15;1H[24;64H5,0-1 [15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [16;1H[24;64H6[16;1H[?25h[?25l[24;53H~@k[16;1H[24;53H   [17;9H[24;64H7,9  [17;9H[?25h[?25l[24;53H~@k[17;9H[24;53H   [18;16H[24;64H8,9-16[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H19,0-1[9C1%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;5H[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H20,5[11C3%[18;5H[?25h[?25l[24;53H~@k[18;5H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H21,7-8[9C5%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H22,2-16[8C7%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H23,2-16[8C9%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H24,2-16[7C11%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H25,2-16[7C13%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H26,2-16[7C15%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H27,8[10C16%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H28,2-9[8C18%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H29,2-16[7C20%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H30,9[10C22%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H31,2-16[7C24%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H32,2-16[7C26%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H33,8-16[7C28%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H34,0-1[8C30%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H35,9[10C32%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H36,8[10C33%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H37,2-16[7C35%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H38,2-16[7C37%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H39,2-16[7C39%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H40,2-16[7C41%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H41,2-16[7C43%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H42,2-16[7C45%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H43,0-1[8C47%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H44,9[10C49%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H45,8[10C50%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H46,2-16[7C52%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H47,2-16[7C54%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H48,2-16[7C56%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H49,2-16[7C58%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H50,2-16[7C60%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H51,2-16[7C62%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[24;63H[K[24;63H52,0-1[8C64%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;5H[1;23r[23;1H
[1;24r[24;63H[K[24;63H53,5[10C66%[18;5H[?25h[?25l[24;53H~@k[18;5H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H54,2-16[7C67%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H55,2-16[7C69%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H56,2-16[7C71%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H57,1-8[8C73%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H58,1-8[8C75%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;63H[K[24;63H59,0-1[8C77%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H60,9[10C79%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H61,8-16[7C81%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H62,2-16[7C83%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H63,2-16[7C84%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H64,2-16[7C86%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H65,9-16[7C88%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay1[m[30m[47m[24;63H[K[24;63H66,9-16[7C90%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H67,2-9[8C92%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H68,2-9[8C94%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H69,2-9[8C96%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H70,2-9[8C98%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;9H[1;23r[23;1H
[1;24r[24;63H[K[24;63H71,2-9[8CBot[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [19;9H[24;64H2[19;9H[?25h[?25l[24;53H~@k[19;9H[24;53H   [20;16H[24;64H3,2-16[20;16H[?25h[?25l[24;53H~@k[20;16H[24;53H   [21;16H[24;64H4[21;16H[?25h[?25l[24;53H~@k[21;16H[24;53H   [22;16H[24;64H5[22;16H[?25h[?25l[24;53H~@k[22;16H[24;53H   [23;1H[24;64H6,0-1 [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [22;16H[24;64H5,2-16[22;16H[?25h[?25l[24;53H~@k[22;16H[24;53H   [21;16H[24;64H4[21;16H[?25h[?25l[24;53H~@k[21;16H[24;53H   [20;16H[24;64H3[20;16H[?25h[?25l[24;53H~@k[20;16H[24;53H   [20;9H[24;1H[1m-- INSERT --[m[30m[47m[24;63H[K[24;63H73,2-9[8CBot[20;9H[?25h[?25l[24;64H2[19;9H[?25h[?25l[24;64H1[18;9H[?25h[?25l[24;64H0[17;9H[?25h[?25l[24;63H69[16;9H[?25h[?25l[24;64H8[15;9H[?25h[?25l[24;64H7[14;9H[?25h[?25l[24;64H6,9  [13;9H[?25h[?25l[24;64H5[12;9H[?25h[?25l[24;64H4,2-9[11;9H[?25h[?25l[24;64H3[10;9H[?25h[?25l[24;64H2[9;9H[?25h[?25l[24;64H1,8[8;9H[?25h[?25l[24;64H0,9  [7;9H[?25h[?25l[24;64H1,8-9[8;9H[?25h[?25l[24;64H2,2[9;9H[?25h[?25l[24;64H3[10;9H[?25h[?25l[24;64H4[11;9H[?25h[?25l[24;64H5,9  [12;9H[?25h[?25l[24;64H4,2-9[11;9H[?25h[?25l[24;64H5,9  [12;9H[?25h[?25l[24;64H6[13;9H[?25h[?25l[24;64H5[12;9H[?25h[?25l[24;64H4,2-9[11;9H[?25h[?25l[24;64H3[10;9H[?25h[?25l[24;64H2[9;9H[?25h[?25l[24;64H1,8[8;9H[?25h[?25l[24;64H0,9  [7;9H[?25h[?25l[24;63H59,1[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mexit[m[30m[47m:[24;63H[K[24;63H58,2-9[8C98%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H57,2-9[8C96%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H56,2-9[8C94%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H55,2-9[8C92%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H54,2-9[8C90%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H53,6[10C88%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H52,1[10C86%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H51,2-9[8C84%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H50,2-9[8C83%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H49,2-9[8C81%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H48,2-9[8C79%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H47,2-9[8C77%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H46,2-9[8C75%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H45,9[10C73%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H44,9[10C71%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H43,1[10C69%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H42,2-9[8C67%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H41,2-9[8C66%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H40,2-9[8C64%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H39,2-9[8C62%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H38,2-9[8C60%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H37,2-9[8C58%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H36,9[10C56%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H35,9[10C54%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H34,1[10C52%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H33,8-9[8C50%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H32,2-9[8C49%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H31,2-9[8C47%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H30,9[10C45%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H29,2-9[8C43%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H28,2-9[8C41%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H27,9[10C39%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H26,2-9[8C37%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain[m[30m[47m:[24;63H[K[24;63H25,2-9[8C35%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H24,2-9[8C33%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m[24;63H[K[24;63H23,2-9[8C32%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#data area      [m[30m[47m[24;63H[K[24;63H22,2-9[8C30%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H21,8-9[8C28%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H20,6[10C26%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m[24;63H[K[24;63H19,1[10C24%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Entered at program startup.[m[30m[47m[24;63H[K[24;63H18,9[10C22%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H17,9[10C20%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m[24;63H[K[24;63H16,1[10C18%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m[24;63H[K[24;63H15,1[10C16%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'[24;63H[K[24;63H14,2-9[8C15%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mCOUNT[m[30m[47m[11C=[7C[31m50[m[30m[47m[24;63H[K[24;63H13,9[10C13%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m[24;63H[K[24;63H12,1[10C11%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Define constants[m[30m[47m[24;63H[K[24;63H11,9[11C9%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H10,9[11C7%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.code16[m[30m[47m[24;63H[K[24;63H9,9[12C5%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H8,9[12C3%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[24;63H[K[24;63H7,9[12C1%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[24;63H[K[24;63H6,9[11CTop[6;9H[?25h[?25l[24;63H5,1[5;1H[?25h[?25l[24;63H4,2-9[4;9H[?25h[?25l[24;63H3,1  [3;1H[?25h[?25l[24;63H4,2-9[4;9H[?25h[?25l[24;63H5,1  [5;1H[?25h[?25l[24;63H6,9[6;9H[?25h[?25l[24;63H7[7;9H[?25h[?25l[24;63H8[8;9H[?25h[?25l[24;63H9[9;9H[?25h[?25l[24;63H10,9[10;9H[?25h[?25l[24;64H1[11;9H[?25h[?25l[24;66H10[11;10H[?25h[?25l[24;67H1-17[11;17H[?25h[?25l[24;67H2-18[11;18H[?25h[?25l[24;67H3-25[11;25H[?25h[?25l[24;67H4-26[11;26H[?25h[?25l[24;67H5-27[11;27H[?25h[?25l[24;67H6-28[11;28H[?25h[?25l0[36mx[m[30m[47m[11;27H[K[24;67H5-27]2;block.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;block.s[11;27H[?25h[?25l[31m0x1[m[30m[47m[24;67H6-28[11;28H[?25h[?25l[24;64H2,1    [12;1H[?25h[?25l[24;64H1,16-28[11;28H[?25h[?25l[24;64H0[10;28H[?25h[?25l[11;23r[11;1H[L[1;24r[24;63H[K[24;63H11,1[10CTop[11;1H[?25h[?25l[34m#[m[30m[47m[24;66H2[11;2H[?25h[?25l[34m [m[30m[47m[24;66H3[11;3H[?25h[?25l[11;2H[K[24;66H2[11;2H[?25h[?25l[34mC[m[30m[47m[24;66H3[11;3H[?25h[?25l[34mH[m[30m[47m[24;66H4[11;4H[?25h[?25l[34ma[m[30m[47m[24;66H5[11;5H[?25h[?25l[11;4H[K[24;66H4[11;4H[?25h[?25l[11;3H[K[24;66H3[11;3H[?25h[?25l[34mh[m[30m[47m[24;66H4[11;4H[?25h[?25l[34ma[m[30m[47m[24;66H5[11;5H[?25h[?25l[34mn[m[30m[47m[24;66H6[11;6H[?25h[?25l[34mg[m[30m[47m[24;66H7[11;7H[?25h[?25l[34me[m[30m[47m[24;66H8[11;8H[?25h[?25l[34md[m[30m[47m[24;66H9[11;9H[?25h[?25l[34m [m[30m[47m[24;66H10[11;10H[?25h[?25l[34mf[m[30m[47m[24;67H1[11;11H[?25h[?25l[34mr[m[30m[47m[24;67H2[11;12H[?25h[?25l[34mo[m[30m[47m[24;67H3[11;13H[?25h[?25l[34mm[m[30m[47m[24;67H4[11;14H[?25h[?25l[34m [m[30m[47m[24;67H5[11;15H[?25h[?25l[34m0[m[30m[47m[24;67H6[11;16H[?25h[?25l[34mx[m[30m[47m[24;67H7[11;17H[?25h[?25l[34m1[m[30m[47m[24;67H8[11;18H[?25h[?25l[11;17H[K[24;67H7[11;17H[?25h[?25l[34m2[m[30m[47m[24;67H8[11;18H[?25h[?25l[34m [m[30m[47m[24;67H9[11;19H[?25h[?25l[34mt[m[30m[47m[24;66H20[11;20H[?25h[?25l[34mo[m[30m[47m[24;67H1[11;21H[?25h[?25l[34m [m[30m[47m[24;67H2[11;22H[?25h[?25l[34m0[m[30m[47m[24;67H3[11;23H[?25h[?25l[34mx[m[30m[47m[24;67H4[11;24H[?25h[?25l[34m1[m[30m[47m[24;67H5[11;25H[?25h[?25l[34m [m[30m[47m[24;67H6[11;26H[?25h[?25l[34mf[m[30m[47m[24;67H7[11;27H[?25h[?25l[34mo[m[30m[47m[24;67H8[11;28H[?25h[?25l[34mr[m[30m[47m[24;67H9[11;29H[?25h[?25l[34m [m[30m[47m[24;66H30[11;30H[?25h[?25l[34md[m[30m[47m[24;67H1[11;31H[?25h[?25l[34me[m[30m[47m[24;67H2[11;32H[?25h[?25l[34ml[m[30m[47m[24;67H3[11;33H[?25h[?25l[34ma[m[30m[47m[24;67H4[11;34H[?25h[?25l[34my[m[30m[47m[24;67H5[11;35H[?25h[?25l[34m [m[30m[47m[24;67H6[11;36H[?25h[?25l[34mt[m[30m[47m[24;67H7[11;37H[?25h[?25l[34mi[m[30m[47m[24;67H8[11;38H[?25h[?25l[34mm[m[30m[47m[24;67H9[11;39H[?25h[?25l[34me[m[30m[47m[24;66H40[11;40H[?25h[?25l[24;64H2,16-28[12;28H[?25h[?25l[24;64H1,40   [11;40H[?25h[?25l[24;64H0,16-28[10;28H[?25h[?25l[24;63H9,16-28 [9;28H[?25h[?25l[24;63H8,20-27[8;27H[?25h[?25l[8;26H[K[24;65H19-26[8;26H[?25h[?25l[8;25H[K[24;66H8-25[8;25H[?25h[?25l[31m2[m[30m[47m[24;66H9-26[8;26H[?25h[?25l[31m5[m[30m[47m[24;65H20-27[8;27H[?25h[?25l[24;63H7[7;27H[?25h[?25l[24;66H1-28[7;28H[?25h[?25l[24;66H2-29[7;29H[?25h[?25l[8;23r[8;1H[L[1;24r[24;63H[K[24;63H8,1[11CTop[8;1H[?25h[?25l[34m#[m[30m[47m[24;65H2[8;2H[?25h[?25l[34m [m[30m[47m[24;65H3[8;3H[?25h[?25l[34mR[m[30m[47m[24;65H4[8;4H[?25h[?25l[34md[m[30m[47m[24;65H5[8;5H[?25h[?25l[8;4H[K[24;65H4[8;4H[?25h[?25l[34me[m[30m[47m[24;65H5[8;5H[?25h[?25l[34md[m[30m[47m[24;65H6[8;6H[?25h[?25l[34mu[m[30m[47m[24;65H7[8;7H[?25h[?25l[34mc[m[30m[47m[24;65H8[8;8H[?25h[?25l[34me[m[30m[47m[24;65H9[8;9H[?25h[?25l[34m [m[30m[47m[24;65H10[8;10H[?25h[?25l[34mc[m[30m[47m[24;66H1[8;11H[?25h[?25l[34mo[m[30m[47m[24;66H2[8;12H[?25h[?25l[34mu[m[30m[47m[24;66H3[8;13H[?25h[?25l[34mn[m[30m[47m[24;66H4[8;14H[?25h[?25l[34mt[m[30m[47m[24;66H5[8;15H[?25h[?25l[34m [m[30m[47m[24;66H6[8;16H[?25h[?25l[34mo[m[30m[47m[24;66H7[8;17H[?25h[?25l[34mf[m[30m[47m[24;66H8[8;18H[?25h[?25l[34m [m[30m[47m[24;66H9[8;19H[?25h[?25l[34mc[m[30m[47m[24;65H20[8;20H[?25h[?25l[34mh[m[30m[47m[24;66H1[8;21H[?25h[?25l[34ma[m[30m[47m[24;66H2[8;22H[?25h[?25l[34mr[m[30m[47m[24;66H3[8;23H[?25h[?25l[34ma[m[30m[47m[24;66H4[8;24H[?25h[?25l[34mc[m[30m[47m[24;66H5[8;25H[?25h[?25l[34mt[m[30m[47m[24;66H6[8;26H[?25h[?25l[34me[m[30m[47m[24;66H7[8;27H[?25h[?25l[34mr[m[30m[47m[24;66H8[8;28H[?25h[?25l[34m [m[30m[47m[24;66H9[8;29H[?25h[?25l[8;28H[K[24;66H8[8;28H[?25h[?25l[34ms[m[30m[47m[24;66H9[8;29H[?25h[?25l[34m [m[30m[47m[24;65H30[8;30H[?25h[?25l[34me[m[30m[47m[24;66H1[8;31H[?25h[?25l[34mc[m[30m[47m[24;66H2[8;32H[?25h[?25l[34mh[m[30m[47m[24;66H3[8;33H[?25h[?25l[34mo[m[30m[47m[24;66H4[8;34H[?25h[?25l[34me[m[30m[47m[24;66H5[8;35H[?25h[?25l[34md[m[30m[47m[24;66H6[8;36H[?25h[?25l[34m [m[30m[47m[24;66H7[8;37H[?25h[?25l[34mo[m[30m[47m[24;66H8[8;38H[?25h[?25l[34mn[m[30m[47m[24;66H9[8;39H[?25h[?25l[34m [m[30m[47m[24;65H40[8;40H[?25h[?25l[34me[m[30m[47m[24;66H1[8;41H[?25h[?25l[34ma[m[30m[47m[24;66H2[8;42H[?25h[?25l[34mc[m[30m[47m[24;66H3[8;43H[?25h[?25l[34mh[m[30m[47m[24;66H4[8;44H[?25h[?25l[34m [m[30m[47m[24;66H5[8;45H[?25h[?25l[34mi[m[30m[47m[24;66H6[8;46H[?25h[?25l[34mt[m[30m[47m[24;66H7[8;47H[?25h[?25l[34me[m[30m[47m[24;66H8[8;48H[?25h[?25l[34mr[m[30m[47m[24;66H9[8;49H[?25h[?25l[34ma[m[30m[47m[24;65H50[8;50H[?25h[?25l[34mt[m[30m[47m[24;66H1[8;51H[?25h[?25l[34mi[m[30m[47m[24;66H2[8;52H[?25h[?25l[34mo[m[30m[47m[24;66H3[8;53H[?25h[?25l[34mn[m[30m[47m[24;66H4[8;54H[?25h[?25l[24;63H9,20-27[9;27H[?25h[?25l[24;63H8,54   [8;54H[?25h[?25l[34m [m[30m[47m[24;66H5[8;55H[?25h[?25l[34mf[m[30m[47m[24;66H6[8;56H[?25h[?25l[34mr[m[30m[47m[24;66H7[8;57H[?25h[?25l[34m,[m[30m[47m[24;66H8[8;58H[?25h[?25l[8;57H[K[24;66H7[8;57H[?25h[?25l[34mo[m[30m[47m[24;66H8[8;58H[?25h[?25l[34mm[m[30m[47m[24;66H9[8;59H[?25h[?25l[34m [m[30m[47m[24;65H60[8;60H[?25h[?25l[34m5[m[30m[47m[24;66H1[8;61H[?25h[?25l[34m0[m[30m[47m[24;66H2[8;62H[?25h[?25l[34m-[m[30m[47m[24;66H3[8;63H[?25h[?25l[34m2[m[30m[47m[24;66H4[8;64H[?25h[?25l[34m0[m[30m[47m[24;66H5[8;65H[?25h[?25l[8;64H[K[24;66H4[8;64H[?25h[?25l[34m5[m[30m[47m[24;66H5[8;65H[?25h[?25l[24;63H9,20-27[9;27H[?25h[?25l[24;63H10,16-28[10;28H[?25h[?25l[24;64H1[11;28H[?25h[?25l[24;64H2,40   [12;40H[?25h[?25l[24;64H3,16-28[13;28H[?25h[?25l[24;64H4,1    [14;1H[?25h[?25l[24;64H5,29[15;29H[?25h[?25l[24;64H6,11-29[16;29H[?25h[?25l[24;64H7,1    [17;1H[?25h[?25l[24;64H8[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H19,12-17[7C1%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H20,17-26[7C3%[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H21,1[11C5%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H22,6[11C7%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H23,8-9[9C9%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H24,51-65      10%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H25,39-61      12%[18;61H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H26,42-65      14%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H27,37-65      16%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H28,46-60      18%[18;60H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H29,9[10C20%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H30,58-65      21%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H31,51-65      23%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H32,60-64      25%[18;64H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H33,51-65      27%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H34,50-64      29%[18;64H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H35,18-29      30%[18;29H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H36,1[10C32%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H37,52[9C34%[18;52H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H38,9[10C36%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H39,11-28      38%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H40,51-65      40%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H41,47-61      41%[18;61H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H42,51-65      43%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H43,10-28      45%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H44,6-20[7C47%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H45,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H46,26-33      50%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H47,9[10C52%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H48,11-28      54%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,51-65      56%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H50,42-56      58%[18;56H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H51,41-55      60%[18;55H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H52,10-28      61%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H53,6-20[7C63%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H54,1[10C65%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H55,6[10C67%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H56,47-65      69%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H57,41-59      70%[18;59H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H58,36-54      72%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H59,2-9[8C74%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H60,2-9[8C76%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;63H[K[24;63H61,1[10C78%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H62,65[9C80%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H63,17-28      81%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H64,11-28      83%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H65,11-28      85%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H66,21-39      87%[18;39H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H67,32-39      89%[18;39H[?25h[?25l[24;64H6,21[17;39H[?25h[?25l[24;64H5,11-28[16;28H[?25h[?25l[24;64H4[15;28H[?25h[?25l[24;64H3,17[14;28H[?25h[?25l[24;64H2,65   [13;65H[?25h[?25l[24;64H1,1 [12;1H[?25h[?25l[24;64H0,2-9[11;9H[?25h[?25l[24;63H59[10;9H[?25h[?25l[24;64H8,36-54[9;54H[?25h[?25l[24;64H7,41-59[8;59H[?25h[?25l[24;64H6,47-65[7;65H[?25h[?25l[24;64H5,6    [6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H54,1[10C87%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H53,6-20[7C85%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H52,10-28      83%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H51,41-55      81%[6;55H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H50,42-56      80%[6;56H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H49,51-65      78%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H48,11-28      76%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H47,9[10C74%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H46,26-33      72%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H45,1[10C70%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H44,6-20[7C69%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H43,10-28      67%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H42,51-65      65%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H41,47-61      63%[6;61H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H40,51-65      61%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H39,11-28      60%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H38,9[10C58%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H37,52[9C56%[6;52H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H36,1[10C54%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H35,18-29      52%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H34,50-64      50%[6;64H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H33,51-65      49%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H32,60-64      47%[6;64H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H31,51-65      45%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H30,58-65      43%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H29,9[10C41%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H28,46-60      40%[6;60H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain[m[30m[47m:[24;63H[K[24;63H27,37-65      38%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H26,42-65      36%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m[24;63H[K[24;63H25,39-61      34%[6;61H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#data area      [m[30m[47m[24;63H[K[24;63H24,51-65      32%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H23,8-9[8C30%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H22,6[10C29%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m[24;63H[K[24;63H21,1[10C27%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Entered at program startup.[m[30m[47m[24;63H[K[24;63H20,17-26      25%[6;26H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H19,12-17      23%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x1[m[30m[47m[24;63H[K[24;63H18,1[10C21%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Changed from 0x2 to 0x1 for delay time[m[30m[47m[24;63H[K[24;63H17,1[10C20%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m[24;63H[K[24;63H16,11-29      18%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'[24;63H[K[24;63H15,29[9C16%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mCOUNT[m[30m[47m[11C=[7C[31m25[m[30m[47m[24;63H[K[24;63H14,1[10C14%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m# Reduce count of characters echoed on each iteration from 50-25[m[30m[47m[24;63H[K[24;63H13,16-28      12%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m[24;63H[K[24;63H12,40[9C10%[6;40H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Define constants[m[30m[47m[24;63H[K[24;63H11,16-28[7C9%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H10,16-28[7C7%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.code16[m[30m[47m[24;63H[K[24;63H9,20-27[8C5%[6;27H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H8,65[11C3%[6;65H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[24;63H[K[24;63H7,22-29[8C1%[6;29H[?25h[?25l[24;63H8,65   [7;65H[?25h[?25l[24;63H9,20-27[8;27H[?25h[?25l[24;63H10,16-28[9;28H[?25h[?25l[24;64H1[10;28H[?25h[?25l[24;64H2,40   [11;40H[?25h[?25l[24;64H3,16-28[12;28H[?25h[?25l[24;64H4,1    [13;1H[?25h[?25l[24;64H5,29[14;29H[?25h[?25l[24;64H6,11-29[15;29H[?25h[?25l[24;64H7,1    [16;1H[?25h[?25l[24;64H8[17;1H[?25h[?25l[24;64H9,12-17[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H20,17-26[7C3%[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H21,1[11C5%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H22,6[11C7%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H23,8-9[9C9%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H24,51-65      10%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H25,39-61      12%[18;61H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H26,42-65      14%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H27,37-65      16%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H28,46-60      18%[18;60H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H29,9[10C20%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H30,58-65      21%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H31,51-65      23%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H32,60-64      25%[18;64H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H33,51-65      27%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H34,50-64      29%[18;64H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H35,18-29      30%[18;29H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H36,1[10C32%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H37,52[9C34%[18;52H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H38,9[10C36%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H39,11-28      38%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H40,51-65      40%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H41,47-61      41%[18;61H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H42,51-65      43%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H43,10-28      45%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H44,6-20[7C47%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H45,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H46,26-33      50%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H47,9[10C52%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H48,11-28      54%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,51-65      56%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H50,42-56      58%[18;56H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H51,41-55      60%[18;55H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H52,10-28      61%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H53,6-20[7C63%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H54,1[10C65%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H55,6[10C67%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H56,47-65      69%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H57,41-59      70%[18;59H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H58,36-54      72%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H59,2-9[8C74%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H60,2-9[8C76%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;63H[K[24;63H61,1[10C78%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H62,65[9C80%[18;65H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H63,17-28      81%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H64,11-28      83%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H65,11-28      85%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H66,21-39      87%[18;39H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H67,32-39      89%[18;39H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay1[m[30m[47m[24;63H[K[24;63H68,31-38      90%[18;38H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H69,21-28      92%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H70,21-28      94%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H71,24-31      96%[18;31H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H72,21-28      98%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H73,20-31      Bot[18;31H[?25h[?25l[24;64H4,17-28[19;28H[?25h[?25l[24;64H5,10[20;28H[?25h[?25l[24;64H6[21;28H[?25h[?25l[24;64H7,6-20 [22;20H[?25h[?25l[24;64H8,1   [23;1H[?25h[24;1H[K[23;1H[?25l[24;53H^[[23;1H[24;53H  [23;1H[24;63H78,0-1[8CBot[23;1H[?25h[?25l[24;53H:[23;1H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"block.s" 78L, 1856C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[39;49m[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=block.lst block.s -o block.o
objcopy -O binary block.o block.bin
rm block.o
dd if=block.bin of=block.com bs=256 skip=1
0+1 records in
0+1 records out
81 bytes copied, 0.00132786 s, 61.0 kB/s
rm block.bin
as --32 -a=key-int.lst key-int.s -o key-int.o
objcopy -O binary key-int.o key-int.bin
rm key-int.o
dd if=key-int.bin of=key-int.com bs=256 skip=1
0+1 records in
0+1 records out
209 bytes copied, 0.00132859 s, 157 kB/s
rm key-int.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ ls
block	   block.lst  DIR	   key-int.lst	lab14.log  poll.com  poll.s
block.com  block.s    key-int.com  key-int.s	Makefile   poll.lst
amchugh2@g7-37:~/i220a_new/work/lab14$ vim block[K[K[K[K[Kpoll.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"poll.s" 96L, 2295C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[34m#dos starts all .com programs at this offset[m[2;17H[38;5;130m.org[m    [31m0x100[m[4;17H[38;5;130m.code16[m

[34m#Define constants[m
[36mDOS_INT[m[9C=[7C[31m0x21[m
[36mCOUNT[m[11C=[8C[31m50[m
[36mQUIT[m[12C=[7C'[36mq[m'
[36mDELAY_LO[m[8C=[7C[31m0x0[m
[36mDELAY_HI[m[8C=[7C[31m0x2[m

[34m#Entered at program startup.[m[14;17H[36mjmp[m     [36mmain[m


[34m#data area      [m
[36minChar[m:[9C[38;5;130m.byte[m   [31m0[m
[36mhasKey[m:[9C[38;5;130m.byte[m   [31m1[m

[36mmain[m:
[36mmain1[m:[23;17H[36mcall[m    [36mgetchar[m[9C[34m#read input char into inChar[m[24;63H1,1-8[9CTop]2;poll.s (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[1;8H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m
[1m[96mCOUNT[m[11C=[8C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m

[96m#Entered at program startup.[m[14;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m1[m

[1m[96mmain[m:
[1m[96mmain1[m:[23;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H1,1-8[9CTop"poll.s" 96L, 2295C[1;8H[?25h[?25l[24;53H:[1;8H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25hm[?25l[?25ho[?25l[?25hr[?25l[?25hn[?25l[?25hi[?25l[?25hn[?25l[?25hg[?25l[?25h[?25l[30m[47m[1;8H[27m[23m[29m[m[30m[47m[H[2J[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[2;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[4;17H[1m[38;5;130m.code16[m[30m[47m

[34m#Define constants[m[30m[47m
[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m
[36mCOUNT[m[30m[47m[11C=[8C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[14;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m1[m[30m[47m

[36mmain[m[30m[47m:
[36mmain1[m[30m[47m:[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H1,1-8[9CTop[1;8H[?25h[?25l[24;64H6,0-1[16;1H[?25h[?25l[24;53H~@k[16;1H[24;53H   [15;1H[24;64H5[15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [14;28H[24;64H4,10-28[14;28H[?25h[?25l[24;53H~@k[14;28H[24;53H   [15;1H[24;64H5,0-1  [15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [16;1H[24;64H6[16;1H[?25h[?25l[24;53H~@k[16;1H[24;53H   [17;16H[24;64H7,11-16[17;16H[?25h[?25l[24;53H~@k[17;16H[24;53H   [18;25H[24;64H8,16-25[18;25H[?25h[?25l[24;53H~@k[18;25H[24;53H   [18;25H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H19,18-25[7C1%[18;25H[?25h[?25l[24;53H~@k[18;25H[24;53H   [17;25H[24;64H8,16[17;25H[?25h[?25l[24;53H~@k[17;25H[24;53H   [16;16H[24;64H7,11-16[16;16H[?25h[?25l[24;53H~@k[16;16H[24;53H   [15;1H[24;64H6,0-1  [15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [14;1H[24;64H5[14;1H[?25h[?25l[24;53H~@k[14;1H[24;53H   [13;28H[24;64H4,10-28[13;28H[?25h[?25l[24;53H~@k[13;28H[24;53H   [12;28H[24;64H3,28   [12;28H[?25h[?25l[24;53H~@k[12;28H[24;53H   [11;1H[24;64H2,0-1[11;1H[?25h[?25l[24;53H~@k[11;1H[24;53H   [10;27H[24;64H1,15-27[10;27H[?25h[?25l[24;53H~@k[10;27H[24;53H   [9;27H[24;64H0[9;27H[?25h[?25l[24;53H~@k[9;27H[24;53H   [8;27H[24;63H9,15-27 [8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [7;27H[24;63H8,20[7;27H[?25h[?25l[24;53H~@k[7;27H[24;53H   [8;27H[24;63H9,15[8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [8;27H[24;1H[1m-- INSERT --[m[30m[47m[24;63H[K[24;63H9,15-27[8C1%[8;27H[?25h[?25l[24;63H8,20[7;27H[?25h[?25l[24;63H7[6;27H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[24;63H[K[24;63H6,18[10CTop[6;18H[?25h[?25l[24;63H5,1 [5;1H[?25h[?25l[24;63H4,17-24[4;24H[?25h[?25l[24;63H3,1    [3;1H[?25h[?25l[24;63H2,10-27[2;27H[?25h[?25l[24;63H1,13[1;27H[?25h[?25l[24;63H2,10[2;27H[?25h[?25l[24;63H3,1    [3;1H[?25h[?25l[24;63H4,17-24[4;24H[?25h[?25l[24;63H5,1    [5;1H[?25h[?25l[24;63H6,18[6;18H[?25h[?25l[24;63H7,20-27[7;27H[?25h[?25l[24;63H8[8;27H[?25h[?25l[24;63H9,15[9;27H[?25h[?25l[24;63H10,15-27[10;27H[?25h[?25l[24;64H1[11;27H[?25h[?25l[24;64H2,1    [12;1H[?25h[?25l[24;64H3,27[13;27H[?25h[?25l[24;64H4,9-27[14;27H[?25h[?25l[24;64H5,1   [15;1H[?25h[?25l[24;64H6[16;1H[?25h[?25l[24;64H7,12-17[17;17H[?25h[?25l[24;64H8,17-26[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H19,19-26[7C1%[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H20,1[11C2%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H21,6[11C4%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H22,8-9[9C5%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H23,13-27[7C6%[18;27H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mcheckKey[m[30m[47m[8C[34m#check if key has been pressed[m[30m[47m[24;63H[K[24;63H24,9-27[8C8%[18;27H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H25,9-27[8C9%[18;27H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H26,8-27[7C10%[18;27H[?25h[?25l[24;64H5,9[17;27H[?25h[?25l[24;64H4[16;27H[?25h[?25l[24;64H5[17;27H[?25h[?25l[24;64H6,8[18;27H[?25h[?25l[24;66H9-28[18;28H[?25h[?25l[24;66H10-29[18;29H[?25h[?25l[24;67H1-30[18;30H[?25h[?25l[24;67H2-33[18;33H[?25h[?25l[24;67H3-41[18;41H[?25h[?25l[24;67H4-42[18;42H[?25h[?25l[24;67H3-41[18;41H[?25h[?25l[24;67H2-33[18;33H[?25h[?25l[24;67H1-30[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H27,16-30      12%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H28,7[10C13%[18;7H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H29,23-30      15%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read new input key[m[30m[47m[24;63H[K[24;63H30,12-30      16%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H31,13-30      17%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H32,18-30      19%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H33,19-30      20%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H34,12-30      21%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H35,13-30      23%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H36,8-9[8C24%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H37,23-30      26%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H38,16-30      27%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H39,26-30      28%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mcheckKey[m[30m[47m:[24;63H[K[24;63H40,16-30      30%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H41,16-30      31%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m0xb[m[30m[47m, %[36mah[m[30m[47m[7C[34m#specify fn: get stdin status[m[30m[47m[24;63H[K[24;63H42,18-29      32%[18;29H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[24;63H[K[24;63H43,1[10C34%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#0 iff no key pressed[m[30m[47m[24;63H[K[24;63H44,30[9C35%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H45,10[9C36%[18;10H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H46,14-28      38%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H47,16-30      39%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H48,16-30      41%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,16-30      42%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H50,14-28      43%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H51,6-20[7C45%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H52,1[10C46%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H53,2-9[8C47%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H54,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H55,30[9C50%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H56,9[10C52%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H57,11-28      53%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H58,16-30      54%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H59,16-30      56%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H60,16-30      57%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H61,10-28      58%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H62,6-20[7C60%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H63,1[10C61%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H64,25[9C63%[18;25H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H65,9[10C64%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H66,11-28      65%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H67,16-30      67%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H68,16-30      68%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H69,16-30      69%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H70,10-28      71%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H71,6-20[7C72%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H72,1[10C73%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H73,6[10C75%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H74,12-30      76%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H75,12-30      78%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H76,12-30      79%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H77,2-9[8C80%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H78,2-9[8C82%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;63H[K[24;63H79,1[10C83%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H80,30[9C84%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H81,17-28      86%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H82,11-28      87%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H83,11-28      89%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H84,12-30      90%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H85,23-30      91%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay1[m[30m[47m[24;63H[K[24;63H86,23-30      93%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H87,21-28      94%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H88,21-28      95%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H89,23-30      97%[18;30H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H90,21-28      98%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H91,19-30      Bot[18;30H[?25h[?25l[24;64H2,17-28[19;28H[?25h[?25l[24;64H3,10[20;28H[?25h[?25l[24;64H4[21;28H[?25h[?25l[24;64H5,6-20 [22;20H[?25h[?25l[24;64H6,1   [23;1H[?25h[?25l[24;64H5,6-20[22;20H[?25h[?25l[24;64H4,10-28[21;28H[?25h[?25l[24;64H3[20;28H[?25h[?25l[24;64H2,17[19;28H[?25h[?25l[24;64H1,19-30[18;30H[?25h[?25l[24;64H0,21-28[17;28H[?25h[?25l[24;63H89,23-30[16;30H[?25h[?25l[24;64H8,21-28[15;28H[?25h[?25l[24;64H7[14;28H[?25h[?25l[24;64H6,23-30[13;30H[?25h[?25l[24;64H5[12;30H[?25h[?25l[24;64H4,12[11;30H[?25h[?25l[24;64H3,11-28[10;28H[?25h[?25l[24;64H2[9;28H[?25h[?25l[24;64H1,17[8;28H[?25h[?25l[24;64H0,30   [7;30H[?25h[?25l[24;63H79,1 [6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mexit[m[30m[47m:[24;63H[K[24;63H78,2-9[8C98%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H77,2-9[8C97%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H76,12-30      95%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H75,12-30      94%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H74,12-30      93%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H73,6[10C91%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H72,1[10C90%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H71,6-20[7C89%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H70,10-28      87%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H69,16-30      86%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H68,16-30      84%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H67,16-30      83%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H66,11-28      82%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H65,9[10C80%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H64,25[9C79%[6;25H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H63,1[10C78%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H62,6-20[7C76%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H61,10-28      75%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H60,16-30      73%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H59,16-30      72%[6;30H[?25h[?25l[24;63H60[7;30H[?25h[?25l[24;63H59[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H58,16-30      71%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H57,11-28      69%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H56,9[10C68%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H55,30[9C67%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#0 iff no key pressed[m[30m[47m[24;63H[K[24;63H54,1[10C65%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[24;63H[K[24;63H53,2-9[8C64%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m0xb[m[30m[47m, %[36mah[m[30m[47m[7C[34m#specify fn: get stdin status[m[30m[47m[24;63H[K[24;63H52,1[10C63%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H51,6-20[7C61%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mcheckKey[m[30m[47m:[24;63H[K[24;63H50,14-28      60%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H49,16-30      58%[6;30H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H48,16-30      57%[6;30H[?25h[?25l[24;63H51,6-20 [9;20H[?25h[?25l[24;64H0,14-28[8;28H[?25h[?25l[24;63H49,28-42[7;42H[?25h[?25l[24;64H8,19-33[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H47,28-42      56%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H46,14-28      54%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H45,10[9C53%[6;10H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H44,42[9C52%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H43,1[10C50%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H42,18-29      49%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H41,28-42      47%[6;42H[?25h[?25l[24;64H2,18-29[7;29H[?25h[?25l[24;64H3,1    [8;1H[?25h[?25l[24;64H4,42[9;42H[?25h[?25l[24;64H5,10[10;10H[?25h[?25l[24;64H6,14-28[11;28H[?25h[?25l[24;64H7,28-42[12;42H[?25h[?25l[24;64H8,19-33[13;33H[?25h[?25l[24;64H9,28-42[14;42H[?25h[?25l[24;63H50,14-28[15;28H[?25h[?25l[24;64H1,6-20 [16;20H[?25h[?25l[24;64H2,1   [17;1H[?25h[?25l[24;64H3,2-9[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H54,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H55,42[9C50%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H56,9[10C52%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H57,11-28      53%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H58,28-42      54%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H59,28-42      56%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H60,28-42      57%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H61,10-28      58%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H62,6-20[7C60%[18;20H[?25h[?25l[24;64H1,10-28[17;28H[?25h[?25l[24;64H0,28-42[16;42H[?25h[?25l[24;63H59[15;42H[?25h[?25l[24;64H8[14;42H[?25h[?25l[24;64H7,11-28[13;28H[?25h[?25l[24;64H6,9    [12;9H[?25h[?25l[24;64H5,42[11;42H[?25h[?25l[24;64H4,1 [10;1H[?25h[?25l[24;64H3,2-9[9;9H[?25h[?25l[24;64H2,1  [8;1H[?25h[?25l[24;64H1,6-20[7;20H[?25h[?25l[24;64H0,14-28[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H49,28-42      58%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H48,19-33      57%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H47,28-42      56%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H46,14-28      54%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H45,10[9C53%[6;10H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H44,42[9C52%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H43,1[10C50%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H42,18-29      49%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H41,28-42      47%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read new input key[m[30m[47m[24;63H[K[24;63H40,28-42      46%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H39,38-42      45%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H38,28-42      43%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H37,35-42      42%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H36,8-9[8C41%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H35,25-42      39%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mcheckKey[m[30m[47m[8C[34m#check if key has been pressed[m[30m[47m[24;63H[K[24;63H34,24-42      38%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H33,22-33      36%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H32,30-42      35%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H31,18-42      34%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H30,20-42      32%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H29,28-42      31%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H28,7[10C30%[6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H27,28-42      28%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain[m[30m[47m:[24;63H[K[24;63H26,14-42      27%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H25,19-42      26%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m1[m[30m[47m[24;63H[K[24;63H24,20-42      24%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m[24;63H[K[24;63H23,28-42      23%[6;42H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#data area      [m[30m[47m[24;63H[K[24;63H22,8-9[8C21%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H21,6[10C20%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H20,1[10C19%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m[24;63H[K[24;63H19,19-26      17%[6;26H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Entered at program startup.[m[30m[47m[24;63H[K[24;63H18,17-26      16%[6;26H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H17,12-17      15%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m[24;63H[K[24;63H16,1[10C13%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m[24;63H[K[24;63H15,1[10C12%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'[24;63H[K[24;63H14,11-29      10%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mCOUNT[m[30m[47m[11C=[8C[31m50[m[30m[47m[24;63H[K[24;63H13,29[10C9%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m[24;63H[K[24;63H12,1[11C8%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Define constants[m[30m[47m[24;63H[K[24;63H11,16-28[7C6%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H10,16-28[7C5%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.code16[m[30m[47m[24;63H[K[24;63H9,16-28[8C4%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H8,21-28[8C2%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[24;63H[K[24;63H7,22-29[8C1%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[24;63H[K[24;63H6,18[10CTop[6;18H[?25h[?25l[24;63H5,1 [5;1H[?25h[?25l[24;63H4,17-24[4;24H[?25h[?25l[24;63H5,1    [5;1H[?25h[?25l[24;63H6,18[6;18H[?25h[?25l[24;63H7,22-29[7;29H[?25h[?25l[24;63H8,21-28[8;28H[?25h[?25l[24;63H9,16[9;28H[?25h[?25l[24;63H10,16-28[10;28H[?25h[?25l[24;64H1[11;28H[?25h[?25l[24;64H2,1    [12;1H[?25h[?25l[24;64H3,29[13;29H[?25h[?25l[24;64H4,11-29[14;29H[?25h[?25l[24;64H5,1    [15;1H[?25h[?25l[24;64H6[16;1H[?25h[?25l[24;64H7,12-17[17;17H[?25h[?25l[24;64H8,17-26[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H19,19-26[7C1%[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H20,1[11C2%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H21,6[11C4%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H22,8-9[9C5%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H23,28-42[7C6%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mcheckKey[m[30m[47m[8C[34m#check if key has been pressed[m[30m[47m[24;63H[K[24;63H24,20-42[7C8%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H25,19-42[7C9%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H26,14-42      10%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H27,28-42      12%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H28,7[10C13%[18;7H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H29,28-42      15%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read new input key[m[30m[47m[24;63H[K[24;63H30,20-42      16%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H31,18-42      17%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H32,30-42      19%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H33,22-33      20%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H34,24-42      21%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H35,25-42      23%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H36,8-9[8C24%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H37,35-42      26%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H38,28-42      27%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H39,38-42      28%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mcheckKey[m[30m[47m:[24;63H[K[24;63H40,28-42      30%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H41,28-42      31%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m0xb[m[30m[47m, %[36mah[m[30m[47m[7C[34m#specify fn: get stdin status[m[30m[47m[24;63H[K[24;63H42,18-29      32%[18;29H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[24;63H[K[24;63H43,1[10C34%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#0 iff no key pressed[m[30m[47m[24;63H[K[24;63H44,42[9C35%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H45,10[9C36%[18;10H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H46,14-28      38%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H47,28-42      39%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H48,19-33      41%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,28-42      42%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H50,14-28      43%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H51,6-20[7C45%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H52,1[10C46%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H53,2-9[8C47%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H54,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H55,42[9C50%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H56,9[10C52%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H57,11-28      53%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H58,28-42      54%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H59,28-42      56%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H60,28-42      57%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H61,10-28      58%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H62,6-20[7C60%[18;20H[?25h[?25l[24;64H1,10-28[17;28H[?25h[?25l[24;64H2,6-20 [18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H63,1[10C61%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H64,26-33      63%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H65,9[10C64%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H66,11-28      65%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H67,28-42      67%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H68,28-42      68%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H69,28-42      69%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H70,10-28      71%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H71,6-20[7C72%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H72,1[10C73%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H73,6[10C75%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H74,24-42      76%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H75,24-42      78%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H76,24-42      79%[18;42H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H77,2-9[8C80%[18;9H[?25h[?25l[24;64H6,24-42[17;42H[?25h[?25l[24;64H5[16;42H[?25h[?25l[24;64H4[15;42H[?25h[?25l[24;67H5-43[15;43H[?25h[?25l[24;64H5[16;43H[?25h[?25l[24;64H6[17;43H[?25h[?25l[24;64H7,2-9  [18;9H[?25h[?25l[24;64H6,25-43[17;43H[?25h[?25l[24;67H6-44[17;44H[?25h[?25l[24;67H7-45[17;45H[?25h[?25l[24;67H8-46[17;46H[?25h[?25l[24;67H9-47[17;47H[?25h[?25l[24;66H30-48[17;48H[?25h[?25l[24;67H1-49[17;49H[?25h[?25l[24;67H2-50[17;50H[?25h[?25l[24;67H3-51[17;51H[?25h[?25l[24;67H4-52[17;52H[?25h[?25l[24;67H5-53[17;53H[?25h[?25l[24;67H6-54[17;54H[?25h[?25l[24;64H5[16;54H[?25h[?25l[24;64H4[15;54H[?25h[?25l[24;64H3,6    [14;6H[?25h[?25l[24;64H2,1[13;1H[?25h[?25l[24;64H1,6-20[12;20H[?25h[?25l[24;64H0,10-28[11;28H[?25h[?25l[24;63H69,40-54[10;54H[?25h[?25l[24;64H8[9;54H[?25h[?25l[24;64H7[8;54H[?25h[?25l[24;64H6,11-28[7;28H[?25h[?25l[24;64H5,9    [6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H64,26-33      79%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H63,1[10C78%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H62,6-20[7C76%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H61,10-28      75%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H60,40-54      73%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H59,40-54      72%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H58,40-54      71%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H57,11-28      69%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H56,9[10C68%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H55,52[9C67%[6;52H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#0 iff no key pressed[m[30m[47m[24;63H[K[24;63H54,1[10C65%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[24;63H[K[24;63H53,2-9[8C64%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m0xb[m[30m[47m, %[36mah[m[30m[47m[7C[34m#specify fn: get stdin status[m[30m[47m[24;63H[K[24;63H52,1[10C63%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H51,6-20[7C61%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mcheckKey[m[30m[47m:[24;63H[K[24;63H50,14-28      60%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H49,40-54      58%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H48,19-33      57%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H47,40-54      56%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H46,14-28      54%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H45,10[9C53%[6;10H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H44,48[9C52%[6;48H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H43,1[10C50%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H42,18-29      49%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H41,40-54      47%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read new input key[m[30m[47m[24;63H[K[24;63H40,40-54      46%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H39,50-54      45%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H38,40-54      43%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H37,47-54      42%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H36,8-9[8C41%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H35,37-54      39%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mcheckKey[m[30m[47m[8C[34m#check if key has been pressed[m[30m[47m[24;63H[K[24;63H34,36-54      38%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H33,22-33      36%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H32,42-54      35%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H31,30-54      34%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H30,32-54      32%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H29,40-54      31%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H28,7[10C30%[6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H27,40-54      28%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain[m[30m[47m:[24;63H[K[24;63H26,26-54      27%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H25,31-54      26%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m1[m[30m[47m[24;63H[K[24;63H24,32-54      24%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m[24;63H[K[24;63H23,40-54      23%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#data area      [m[30m[47m[24;63H[K[24;63H22,8-9[8C21%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H21,6[10C20%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H20,1[10C19%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m[24;63H[K[24;63H19,19-26      17%[6;26H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Entered at program startup.[m[30m[47m[24;63H[K[24;63H18,17-26      16%[6;26H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H17,12-17      15%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m[24;63H[K[24;63H16,1[10C13%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m[24;63H[K[24;63H15,1[10C12%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'[24;63H[K[24;63H14,11-29      10%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mCOUNT[m[30m[47m[11C=[8C[31m50[m[30m[47m[24;63H[K[24;63H13,29[10C9%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m[24;63H[K[24;63H12,1[11C8%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Define constants[m[30m[47m[24;63H[K[24;63H11,16-28[7C6%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H10,16-28[7C5%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.code16[m[30m[47m[24;63H[K[24;63H9,16-28[8C4%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H8,21-28[8C2%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[24;63H[K[24;63H7,22-29[8C1%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[24;63H[K[24;63H6,18[10CTop[6;18H[?25h[?25l[24;63H7,22-29[7;29H[?25h[?25l[24;63H8,21-28[8;28H[?25h[?25l[24;63H9,16[9;28H[?25h[?25l[24;63H10,16-28[10;28H[?25h[?25l[24;64H1[11;28H[?25h[?25l[24;64H2,1    [12;1H[?25h[?25l[24;64H3,29[13;29H[?25h[?25l[24;64H4,11-29[14;29H[?25h[?25l[24;64H5,1    [15;1H[?25h[?25l[24;64H6[16;1H[?25h[?25l[24;64H7,12-17[17;17H[?25h[?25l[24;64H8,17-26[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H19,19-26[7C1%[18;26H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H20,1[11C2%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H21,6[11C4%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H22,8-9[9C5%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H23,40-54[7C6%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mcheckKey[m[30m[47m[8C[34m#check if key has been pressed[m[30m[47m[24;63H[K[24;63H24,32-54[7C8%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H25,31-54[7C9%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H26,26-54      10%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H27,40-54      12%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H28,7[10C13%[18;7H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H29,40-54      15%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read new input key[m[30m[47m[24;63H[K[24;63H30,32-54      16%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H31,30-54      17%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H32,42-54      19%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H33,22-33      20%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H34,36-54      21%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H35,37-54      23%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H36,8-9[8C24%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H37,47-54      26%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H38,40-54      27%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H39,50-54      28%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mcheckKey[m[30m[47m:[24;63H[K[24;63H40,40-54      30%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H41,40-54      31%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m0xb[m[30m[47m, %[36mah[m[30m[47m[7C[34m#specify fn: get stdin status[m[30m[47m[24;63H[K[24;63H42,18-29      32%[18;29H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[24;63H[K[24;63H43,1[10C34%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#0 iff no key pressed[m[30m[47m[24;63H[K[24;63H44,48[9C35%[18;48H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H45,10[9C36%[18;10H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H46,14-28      38%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H47,40-54      39%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H48,19-33      41%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,40-54      42%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H50,14-28      43%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H51,6-20[7C45%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H52,1[10C46%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H53,2-9[8C47%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H54,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H55,52[9C50%[18;52H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H56,9[10C52%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H57,11-28      53%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H58,40-54      54%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H59,40-54      56%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H60,40-54      57%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H61,10-28      58%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H62,6-20[7C60%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H63,1[10C61%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H64,26-33      63%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H65,9[10C64%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H66,11-28      65%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H67,40-54      67%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H68,40-54      68%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H69,40-54      69%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H70,10-28      71%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H71,6-20[7C72%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H72,1[10C73%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H73,6[10C75%[18;6H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H74,36-54      76%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H75,36-54      78%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H76,36-54      79%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H77,2-9[8C80%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H78,2-9[8C82%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;63H[K[24;63H79,1[10C83%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H80,54[9C84%[18;54H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H81,17-28      86%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H82,11-28      87%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H83,11-28      89%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H84,21-39      90%[18;39H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H85,32-39      91%[18;39H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay1[m[30m[47m[24;63H[K[24;63H86,31-38      93%[18;38H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H87,21-28      94%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H88,21-28      95%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H89,24-31      97%[18;31H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H90,21-28      98%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H91,20-31      Bot[18;31H[?25h[?25l[24;64H2,17-28[19;28H[?25h[?25l[24;64H3,10[20;28H[?25h[?25l[24;64H4[21;28H[?25h[?25l[24;64H3[20;28H[?25h[?25l[24;64H2,17[19;28H[?25h[?25l[24;64H1,20-31[18;31H[?25h[?25l[24;64H0,21-28[17;28H[?25h[?25l[24;63H89,24-31[16;31H[?25h[?25l[24;64H8,21-28[15;28H[?25h[?25l[24;64H7[14;28H[?25h[?25l[24;64H6,31-3[13;38H[?25h[?25l[24;64H5,32-39[12;39H[?25h[?25l[24;64H4,21[11;39H[?25h[?25l[24;64H3,11-28[10;28H[?25h[?25l[24;64H2[9;28H[?25h[?25l[24;64H1,17[8;28H[?25h[?25l[24;64H0,54   [7;54H[?25h[?25l[24;63H79,1 [6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mexit[m[30m[47m:[24;63H[K[24;63H78,2-9[8C98%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H77,2-9[8C97%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H76,36-54      95%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H75,36-54      94%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H74,36-54      93%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H73,6[10C91%[6;6H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H72,1[10C90%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H71,6-20[7C89%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H70,10-28      87%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H69,40-54      86%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H68,40-54      84%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H67,40-54      83%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H66,11-28      82%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H65,9[10C80%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H64,26-33      79%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[24;63H[K[24;63H63,1[10C78%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H62,6-20[7C76%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H61,10-28      75%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H60,40-54      73%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H59,40-54      72%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H58,40-54      71%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H57,11-28      69%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H56,9[10C68%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H55,52[9C67%[6;52H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#0 iff no key pressed[m[30m[47m[24;63H[K[24;63H54,1[10C65%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[24;63H[K[24;63H53,2-9[8C64%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m0xb[m[30m[47m, %[36mah[m[30m[47m[7C[34m#specify fn: get stdin status[m[30m[47m[24;63H[K[24;63H52,1[10C63%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H51,6-20[7C61%[6;20H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mcheckKey[m[30m[47m:[24;63H[K[24;63H50,14-28      60%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#Set hasKey to non-zero if key has been pressed[m[30m[47m[24;63H[K[24;63H49,40-54      58%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H48,19-33      57%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[10C[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H47,40-54      56%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H46,14-28      54%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H45,10[9C53%[6;10H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H44,48[9C52%[6;48H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H43,1[10C50%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H42,18-29      49%[6;29H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H41,40-54      47%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read new input key[m[30m[47m[24;63H[K[24;63H40,40-54      46%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H39,50-54      45%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H38,40-54      43%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H37,47-54      42%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H36,8-9[8C41%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H35,37-54      39%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mcheckKey[m[30m[47m[8C[34m#check if key has been pressed[m[30m[47m[24;63H[K[24;63H34,36-54      38%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H33,22-33      36%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H32,42-54      35%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H31,30-54      34%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H30,32-54      32%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H29,40-54      31%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H28,7[10C30%[6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H27,40-54      28%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mmain[m[30m[47m:[24;63H[K[24;63H26,26-54      27%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H25,31-54      26%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m1[m[30m[47m[24;63H[K[24;63H24,32-54      24%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m[24;63H[K[24;63H23,40-54      23%[6;54H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[34m#data area      [m[30m[47m[24;63H[K[24;63H22,8-9[8C21%[6;9H[?25h[?25l[24;64H5,14-32[9;32H[?25h[?25l[24;66H9-27 [9;27H[?25h[?25l[24;66H17-35[9;35H[?25h[?25l[24;64H6,12-33[10;33H[?25h[?25l[24;64H7,19[11;33H[?25h[?25l[24;64H8,7    [12;7H[?25h[?25l[24;64H9,26-33[13;33H[?25h[?25l[24;63H30,15[14;33H[?25h[?25l[24;64H1,16[15;33H[?25h[?25l[24;64H2,21[16;33H[?25h[?25l[24;64H3,22[17;33H[?25h[?25l[24;64H4,15[18;33H[?25h[?25l[24;64H3,22[17;33H[?25h[?25l[24;64H2,21[16;33H[?25h[?25l[24;64H1,16[15;33H[?25h[?25l[24;64H2,21[16;33H[?25h[?25l[24;64H3,22[17;33H[?25h[?25l[24;64H4,15[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H35,16-33      23%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H36,8-9[8C24%[18;9H[?25h[?25l[24;64H5,16-33[17;33H[?25h[?25l[24;64H4,15[16;33H[?25h[?25l[24;64H3,22[15;33H[?25h[?25l[24;64H2,21[14;33H[?25h[?25l[24;64H1,16[13;33H[?25h[?25l[24;64H2,21[14;33H[?25h[?25l[24;64H1,16[13;33H[?25h[?25l[24;64H0,15[12;33H[?25h[?25l[24;63H29,26[11;33H[?25h[?25l[24;67H7-41[11;41H[?25h[?25l[24;63H30,19[12;41H[?25h[?25l[24;64H1,17[13;41H[?25h[?25l[24;67H6-33[13;33H[?25h[?25l[24;64H2,21[14;33H[?25h[?25l[24;64H1,16[13;33H[?25h[?25l[24;64H0,15[12;33H[?25h[?25l[24;63H29,26[11;33H[?25h[?25l[24;63H30,15[12;33H[?25h[?25l[24;67H6-34[12;34H[?25h[?25l[24;67H7-35[12;35H[?25h[?25l[24;67H8-36[12;36H[?25h[?25l[24;64H1,16-33[13;33H[?25h[?25l[24;4H[1mREPLACE --[m[30m[47m[24;63H[K[24;63H31,16-33      24%[13;33H[?25h[?25l[14;23r[14;1H[L[1;24r[13;41H[K[14;9H[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H32,1[10C24%]2;poll.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[14;1H[?25h[?25l[24;66H2-9[14;9H[?25h[?25l        [36mnon[m[30m[47m-[36mzero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H3-17[14;17H[?25h[?25l[36mc[m[30m[47m[24;66H4-18[14;18H[?25h[?25l,[24;66H5-19[14;19H[?25h[?25l[36mo[m[30m[47m[24;66H4-18[14;18H[?25h[?25l[36mm[m[30m[47m[24;66H5-19[14;19H[?25h[?25l[36mp[m[30m[47m[24;66H6-20[14;20H[?25h[?25l [24;66H7-21[14;21H[?25h[?25l[36mQ[m[30m[47m[24;66H8-22[14;22H[?25h[?25l[36mU[m[30m[47m[24;66H9-23[14;23H[?25h[?25l[36me[m[30m[47m[24;66H8-22[14;22H[?25h[?25l[36mz[m[30m[47m[24;66H7-21[14;21H[?25h[?25l    [36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H8-25[14;25H[?25h[?25l[24;4H[1mINSERTE -[m[30m[47m[24;13H[K[24;63H32,8-25[7C24%[14;25H[?25h[?25l$[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H9-26[14;26H[?25h[?25l[36mWero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H10-27[14;27H[?25h[?25l[36mQero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H1-28[14;28H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;51H[K[24;67H0-27[14;27H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;50H[K[24;66H9-26 [14;26H[?25h[?25l[36mQero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H10-27[14;27H[?25h[?25l[36mIero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H1-28[14;28H[?25h[?25l[36mOero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H2-29[14;29H[?25h[?25l[36mTero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H3-30[14;30H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;53H[K[24;67H2-29[14;29H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;52H[K[24;67H1-28[14;28H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;51H[K[24;67H0-27[14;27H[?25h[?25l[36mIero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H1-28[14;28H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;51H[K[24;67H0-27[14;27H[?25h[?25l[36mUero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H1-28[14;28H[?25h[?25l[36mIero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H2-29[14;29H[?25h[?25l[36mTero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H3-30[14;30H[?25h[?25l,[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H4-31[14;31H[?25h[?25l [36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H5-32[14;32H[?25h[?25l%[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H6-33[14;33H[?25h[?25l[36maero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H7-34[14;34H[?25h[?25l[34m;ero if keyboard has char[m[30m[47m[24;67H8-35[14;35H[?25h[?25l[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[14;58H[K[24;67H7-34[14;34H[?25h[?25l[36mlero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H8-35[14;35H[?25h[?25l[15;23r[15;1H[L[1;24r[14;35H[K[15;1H[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;63H[K[24;63H33,1[10C24%[15;1H[?25h[?25l        [1C[36mro[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H2-9[15;9H[?25h[?25l        [1C[36mro[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H3-17[15;17H[?25h[?25l[36mjero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H4-18[15;18H[?25h[?25l[36mzero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H5-19[15;19H[?25h[?25l      [36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H6-25[15;25H[?25h[?25l[36mmero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H7-26[15;26H[?25h[?25l[36maero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H8-27[15;27H[?25h[?25l[36miero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H9-28[15;28H[?25h[?25l[36mnero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;66H10-29[15;29H[?25h[?25l[36m3ero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H1-30[15;30H[?25h[?25l   [36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H2-33[15;33H[?25h[?25l        [1C[36mro[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H3-41[15;41H[?25h[?25l        [1C[36mro[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[24;67H4-49[15;49H[?25h[?25l[15;41H[36mero[m[30m[47m [36mif[m[30m[47m [36mkeyboard[m[30m[47m [36mhas[m[30m[47m [36mchar[m[30m[47m[15;65H[K[24;67H3-41[15;41H[?25h[?25l[34m#ero if keyboard has char[m[30m[47m[24;67H4-42[15;42H[?25h[?25l[24;64H2,18-35[14;35H[?25h[?25l[24;64H1,16-33[13;33H[?25h[?25l[14;23r[14;1H[L[1;24r[24;63H[K[24;63H32,1[10C23%[14;1H[?25h[?25l[24;66H2-9[14;9H[?25h[?25l[24;66H3-17[14;17H[?25h[?25l[34m#[m[30m[47m[24;66H4-18[14;18H[?25h[?25l[34m [m[30m[47m[24;66H5-19[14;19H[?25h[?25l[34mC[m[30m[47m[24;66H6-20[14;20H[?25h[?25l[34mh[m[30m[47m[24;66H7-21[14;21H[?25h[?25l[34ma[m[30m[47m[24;66H8-22[14;22H[?25h[?25l[34mn[m[30m[47m[24;66H9-23[14;23H[?25h[?25l[34mg[m[30m[47m[24;66H10-24[14;24H[?25h[?25l[34me[m[30m[47m[24;67H1-25[14;25H[?25h[?25l[34ms[m[30m[47m[24;67H2-26[14;26H[?25h[?25l[24;64H3,9-26 [15;26H[?25h[?25l[24;64H4,7[16;26H[?25h[?25l[24;64H3,9[15;26H[?25h[?25l[24;64H4,7[16;26H[?25h[?25l[24;66H8-27[16;27H[?25h[?25l[24;66H9-28[16;28H[?25h[?25l[24;66H10-29[16;29H[?25h[?25l[24;67H1-30[16;30H[?25h[?25l[24;67H2-33[16;33H[?25h[?25l[24;67H1-30[16;30H[?25h[?25l[24;67H2-33[16;33H[?25h[?25l[24;67H3-41[16;41H[?25h[?25l[24;67H4-42[16;42H[?25h[?25l[24;67H3-41[16;41H[?25h[?25l[24;67H4-42[16;42H[?25h[?25l[24;67H5-43[16;43H[?25h[?25l[24;67H6-44[16;44H[?25h[24;1H[K[16;43H[?25l[24;53H^[[16;43H[24;53H  [16;44H[24;63H34,15-43      23%[16;43H[?25h[?25l[24;53H:[16;43H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"poll.s" 99L, 2332C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[39;49m[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=poll.lst poll.s -o poll.o
objcopy -O binary poll.o poll.bin
rm poll.o
dd if=poll.bin of=poll.com bs=256 skip=1
0+1 records in
0+1 records out
114 bytes copied, 0.00117963 s, 96.6 kB/s
rm poll.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ makevim poll.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"poll.s" 99L, 2332C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#data area      [m
[36minChar[m:[9C[38;5;130m.byte[m   [31m0[m
[36mhasKey[m:[9C[38;5;130m.byte[m   [31m1[m

[36mmain[m:
[36mmain1[m:[7;17H[36mcall[m    [36mgetchar[m[9C[34m#read input char into inChar[m[8;17H[36mmov[m     [36minChar[m, %[36mal[m     [34m#al set to char read[m[9;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[10;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[11;17H[36mmov[m     $[36mCOUNT[m, %[36mcx[m     [34m#set output counter[m
[36mmain2[m:[13;17H[36mcall[m    [36mcheckKey[m[8C[34m#check if key has been pressed[m[14;17H[36mmov[m     [36mhasKey[m, %[36mal[m     [34m#put checkKey result into al[m[15;17H[36mtest[m    %[36mal[m, %[36mal[m[16;17H[34m# Changes[m[17;17H[36mcmp[m     $[36mQUIT[m, %[36mal[18;17Hjz[m      [36mmain3[m[11C[34m#ero if keyboard has char[m[19;17H[36mjz[m      [36mmain4[m[11C[34m#no key press[m[20;17H[36mxor[m     %[36mal[m, %[36mal[21;17Hmov[m     %[36mal[m, [36mhasKey[m     [34m#reset hasKey flag[m[22;17H[36mcall[m    [36mgetchar[m[9C[34m#read new input key[m
[36mmain4[m:[24;63H34,15-43      21%]2;poll.s (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[18;43H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[?25l[24;53Hf[18;43H[24;54Hf[18;43H[24;55H/[18;43H[24;56Hf[18;43H[24;57Hf[18;43H[24;58Hf[18;43H[24;59Hf[18;43H[24;60H/[18;43H[24;61Hf[18;43H[24;62Hf[18;43H[24;53H          [18;43H[27m[23m[29m[m[H[2J[1;1H[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m1[m

[1m[96mmain[m:
[1m[96mmain1[m:[7;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[8;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[9;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[10;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[11;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[13;17H[1m[96mcall[m    [1m[96mcheckKey[m[8C[96m#check if key has been pressed[m[14;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[15;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[16;17H[96m# Changes[m[17;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[18;17Hjz[m      [1m[96mmain3[m[11C[96m#ero if keyboard has char[m[19;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[20;17H[1m[96mxor[m     %[1m[96mal[m, %[1m[96mal[21;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#reset hasKey flag[m[22;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read new input key[m
[1m[96mmain4[m:[24;63H34,15-43      21%"poll.s" 99L, 2332C[18;43H[?25h[?25l[24;53H:[18;43H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25h[?25l[?25h[?25l[24;5H[K[24;5H[?25h[?25l[24;4H[K[24;4H[?25h[?25l[24;3H[K[24;3H[?25h[?25l[24;2H[K[24;2H[?25h [?25l[18;43H[24;63H34,15-43      21%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;42H[24;67H4-42[18;42H[?25h[?25l[24;53H~@k[18;42H[24;53H   [18;41H[24;67H3-41[18;41H[?25h[?25l[24;53H~@k[18;41H[24;53H   [18;40H[24;67H2-40[18;40H[?25h[?25l[24;64H2,11-25[16;25H[?25h[?25l[24;53H~@k[16;25H[24;53H   [16;25H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H32,11-25      21%[16;25H[?25h[?25l[24;64H3,8-25 [17;25H[?25h[?25l[24;66H7-21[17;21H[?25h[?25l[24;66H6-20[17;20H[?25h[?25l[24;66H5-19[17;19H[?25h[?25l[24;66H4-18[17;18H[?25h[?25l[24;66H3-17[17;17H[?25h[?25l/[1m[96mcmp[m[24;66H4-18]2;poll.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[17;18H[?25h[?25l[96m//cmp   $QUIT, %al[m[24;66H5-19[17;19H[?25h[?25l[24;64H4[18;19H[?25h[?25l[24;66H4-18[18;18H[?25h[?25l[24;66H3-17[18;17H[?25h[?25l[24;66H2-9 [18;9H[?25h[?25l[24;66H3-17[18;17H[?25h[?25l/[1m[96mjz[m[24;66H4-18[18;18H[?25h[?25l[96m//jz    main3           [m[24;66H5-19[18;19H[?25h[?25l[24;64H3[17;19H[?25h[?25l[24;64H2[16;19H[?25h[?25l[24;64H3[17;19H[?25h[?25l[1;23r[1;1H[2M[1;24r[22;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[23;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H36,22-33      23%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H37,23-41      25%[18;41H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H38,24-41      26%[18;41H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H39,8-9[8C27%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H40,34-41      28%[18;41H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H41,27-41      30%[18;41H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[96m#Set hasKey to non-zero if key has been pressed[m[24;63H[K[24;63H42,37-41      31%[18;41H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mcheckKey[m:[24;63H[K[24;63H43,27-41      32%[18;41H[?25h[?25l[24;64H2,3[17;41H[?25h[?25l[24;64H1,2[16;41H[?25h[?25l[24;64H0,34[15;41H[?25h[?25l[24;63H39,8-9  [14;9H[?25h[?25l[24;64H8,24-41[13;41H[?25h[?25l[24;64H7,23[12;41H[?25h[?25l[24;64H6,22-33[11;33H[?25h[?25l[24;64H5,29-41[10;41H[?25h[?25l[24;64H4,15[9;41H[?25h[?25l[24;64H3,20-35[8;35H[?25h[?25l[24;64H2,12-26[7;26H[?25h[?25l[24;64H1,16-33[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H30,19-41      31%[6;41H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H29,27-41      30%[6;41H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H28,7[10C28%[6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H27,27-41      27%[6;41H[?25h[?25l[24;64H8,7    [7;7H[?25h[?25l[24;64H9,27-41[8;41H[?25h[?25l[24;63H30,19[9;41H[?25h[?25l[24;64H1,16-33[10;33H[?25h[?25l[24;64H2,12-26[11;26H[?25h[?25l[24;64H3,20-35[12;35H[?25h[?25l[24;64H4,15-41[13;41H[?25h[?25l[24;64H5,29[14;41H[?25h[?25l[24;64H6,22-33[15;33H[?25h[?25l[24;64H7,23-41[16;41H[?25h[?25l[24;64H8,24[17;41H[?25h[?25l[24;64H9,8-9  [18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H40,34-41      28%[18;41H[?25h[?25l[24;63H39,8-9  [17;9H[?25h[?25l[24;64H8,24-41[16;41H[?25h[?25l[24;64H7,23[15;41H[?25h[?25l[24;64H6,22-33[14;33H[?25h[?25l[24;64H5,29-41[13;41H[?25h[?25l[24;64H4,15[12;41H[?25h[?25l[24;64H3,20-35[11;35H[?25h[?25l[24;64H4,15-41[12;41H[?25h[?25l[24;4H[1mREPLACE --[m[24;63H[K[24;63H34,15-41      28%[12;41H[?25h[?25l[24;67H4-33[12;33H[?25h[?25l[24;67H3-30[12;30H[?25h[?25l[24;67H2-29[12;29H[?25h[?25l[24;67H1-28[12;28H[?25h[?25l[24;67H0-27[12;27H[?25h[?25l[24;66H9-26 [12;26H[?25h[?25l[24;66H8-25[12;25H[?25h[?25l[24;66H7-21[12;21H[?25h[?25l[24;66H6-20[12;20H[?25h[?25l[24;66H5-19[12;19H[?25h[?25l[24;66H4-18[12;18H[?25h[?25l[24;64H3[11;18H[?25h[?25l[24;64H2[10;18H[?25h[?25l[24;64H1[9;18H[?25h[?25l[24;64H0[8;18H[?25h[?25l[24;63H29,11-18[7;18H[?25h[?25l[24;64H8,7    [6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H27,4-18[7C27%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H26,4-18[7C26%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H25,4-18[7C25%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mhasKey[m:[9C[93m.byte[m   [95m1[m[24;63H[K[24;63H24,4-18[7C23%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96minChar[m:[9C[93m.byte[m   [95m0[m[24;63H[K[24;63H23,4-18[7C22%[6;18H[?25h[?25l[24;64H4[7;18H[?25h[?25l[24;64H5[8;18H[?25h[?25l[24;64H6[9;18H[?25h[?25l[24;64H7[10;18H[?25h[?25l[24;64H8,7   [11;7H[?25h[?25l[24;64H9,11-18[12;18H[?25h[?25l[24;63H30,4-18 [13;18H[?25h[?25l[24;64H1[14;18H[?25h[?25l[24;64H2[15;18H[?25h[?25l[24;64H3[16;18H[?25h[?25l[24;66H5-19[16;19H[?25h[?25l[24;66H4-18[16;18H[?25h[?25l[24;66H3-17[16;17H[?25h[?25l[24;66H4-18[16;18H[?25h[?25l[24;66H5-19[16;19H[?25h[?25l[24;4H[1mINSERTE -[m[24;13H[K[24;63H33,5-19[7C22%[16;19H[?25h[?25l/[1m[96mcmp[m    $[1m[96mQUIT[m, %[1m[96mal[m[24;66H4-18[16;18H[?25h[?25l[1m[96mcmp[m  [24;66H3-17[16;17H[?25h[?25l[24;64H4[17;17H[?25h[?25l[24;66H4-18[17;18H[?25h[?25l[24;66H5-19[17;19H[?25h[?25l/[1m[96mjz[m     [1m[96mmain3[m           [24;66H4-18[17;18H[?25h[?25l[1m[96mjz[m  [24;66H3-17[17;17H[?25h[?25l[24;64H5,10-17[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H36,10-17      23%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H37,3-17[7C25%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H38,3-17[7C26%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H39,8-9[8C27%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H40,10-17      28%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H41,3-17[7C30%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[96m#Set hasKey to non-zero if key has been pressed[m[24;63H[K[24;63H42,17[9C31%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mcheckKey[m:[24;63H[K[24;63H43,3-17[7C32%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H44,3-17[7C34%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    $[95m0xb[m, %[1m[96mah[m[7C[96m#specify fn: get stdin status[m[24;63H[K[24;63H45,9-17[7C35%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[24;63H[K[24;63H46,1[10C36%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#0 iff no key pressed[m[24;63H[K[24;63H47,17[9C38%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H48,10[9C39%[18;10H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H49,3-17[7C40%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H50,3-17[7C42%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H51,3-17[7C43%[18;17H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H52,3-17[7C44%[18;17H[?25h[?25l[24;64H1[17;17H[?25h[?25l[24;64H0[16;17H[?25h[?25l[24;63H49[15;17H[?25h[?25l[24;63H50[16;17H[?25h[?25l[24;64H1[17;17H[?25h[?25l[24;64H0[16;17H[?25h[?25l[24;63H49[15;17H[?25h[?25l[24;64H8,10  [14;10H[?25h[?25l[24;64H7,17[13;17H[?25h[?25l[24;64H6,1 [12;1H[?25h[?25l[24;64H5,9-17[11;17H[?25h[?25l[24;64H4,3[10;17H[?25h[?25l[24;64H3[9;17H[?25h[?25l[24;64H2,17  [8;17H[?25h[?25l[24;64H1,3-17[7;17H[?25h[?25l[24;64H0,10-17[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#ero if keyboard has char[m[24;63H[K[24;63H39,8-9[8C43%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m[24;63H[K[24;63H38,3-17[7C42%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[96m# Changes[m[24;63H[K[24;63H37,3-17[7C40%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[24;63H[K[24;63H36,10-17      39%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[24;63H[K[24;63H35,10-17      38%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mcheckKey[m[8C[96m#check if key has been pressed[m[24;63H[K[24;63H34,3-17[7C36%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain2[m:[24;63H[K[24;63H33,3-17[7C35%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H32,3-17[7C34%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H31,3-17[7C32%[6;17H[?25h[?25l[24;4H[1mREPLACE --[m[24;63H[K[24;63H31,3-17[7C32%[6;17H[?25h[?25l[24;64H2[7;17H[?25h[?25l[24;64H3[8;17H[?25h[?25l[24;64H4[9;17H[?25h[?25l[24;64H3[8;17H[?25h[?25l[24;66H4-18[8;18H[?25h[?25l[24;66H5-19[8;19H[?25h[?25l[24;66H6-20[8;20H[?25h[?25l[24;66H7-21[8;21H[?25h[?25l[24;66H8-25[8;25H[?25h[?25l[24;66H9-26[8;26H[?25h[?25l[24;66H10-27[8;27H[?25h[?25l[24;67H1-28[8;28H[?25h[?25l[24;64H4,9-28 [9;28H[?25h[?25l[24;64H5,16-28[10;28H[?25h[?25l[24;64H4,9-28 [9;28H[?25h[?25l[24;64H3,11-28[8;28H[?25h[?25l[24;64H2,12-26[7;26H[?25h[?25l[24;64H1,11-28[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H30,10-28      31%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H29,21-28      30%[6;28H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H28,7[10C28%[6;7H[?25h[?25l[24;64H9,21-28[7;28H[?25h[?25l[24;63H30,10[8;28H[?25h[?25l[24;64H1,11[9;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H41,11-25      30%[18;25H[?25h[24;1H[K[18;24H[?25l[24;53H^[[18;24H[24;53H  [18;25H[24;63H41,10-24      30%[18;24H[?25h[?25l[24;53H:[18;24H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"poll.s" 99L, 2332C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=poll.lst poll.s -o poll.o
objcopy -O binary poll.o poll.bin
rm poll.o
dd if=poll.bin of=poll.com bs=256 skip=1
0+1 records in
0+1 records out
114 bytes copied, 0.00114562 s, 99.5 kB/s
rm poll.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ dose[Kbox &
[3] 6107
[1]   Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
[3]-  Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbox &
[3] 6206
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
amchugh2@g7-37:~/i220a_new/work/lab14$ vi[K[Kls
block	   block.lst  DIR	   key-int.lst	lab14.log  poll.com  poll.s
block.com  block.s    key-int.com  key-int.s	Makefile   poll.lst
amchugh2@g7-37:~/i220a_new/work/lab14$ vim ls[K[Kblock.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"block.s" 78L, 1856C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mmov[m     $[31m0x4c[m,%[36mah[m[7C[34m#specify fn: program exit[m[2;17H[36mmov[m     $[31m0x0[m,%[36mal[m[8C[34m#setup exit status[m[3;17H[36mint[m     $[36mDOS_INT[m[8C[34m#exit program[7;1H#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m
[36mdelay[m:[10C[36mpush[m    %[36max[9;17Hpush[m    %[36mbx[10;17Hpush[m    %[36mcx[11;17Hmov[m     $[36mDELAY_HI[m, %[36mbx
delay1[m:[9C[36mmov[m     $[36mDELAY_LO[m, %[36mcx
delay2[m:[9C[36mmov[m     $[31m0x0f0a0[m, %[36max[14;17Himul[m    %[36mcl[15;17Hdec[m     %[36mcx[16;17Hjnz[m     [36mdelay2[17;17Hdec[m     %[36mbx[18;17Hjnz[m     [36mdelay1[19;17Hpop[m     %[36mcx[20;17Hpop[m     %[36mbx[21;17Hpop[m     %[36max[22;17Hret[m[24;63H78,0-1[8CBot]2;block.s (~/git-repos/i220a_new/work/lab14) - VIM]1;block.s[23;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mmov[m     $[95m0x4c[m,%[1m[96mah[m[7C[96m#specify fn: program exit[m[2;17H[1m[96mmov[m     $[95m0x0[m,%[1m[96mal[m[8C[96m#setup exit status[m[3;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#exit program[7;1H#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m
[1m[96mdelay[m:[10C[1m[96mpush[m    %[1m[96max[9;17Hpush[m    %[1m[96mbx[10;17Hpush[m    %[1m[96mcx[11;17Hmov[m     $[1m[96mDELAY_HI[m, %[1m[96mbx
delay1[m:[9C[1m[96mmov[m     $[1m[96mDELAY_LO[m, %[1m[96mcx
delay2[m:[9C[1m[96mmov[m     $[95m0x0f0a0[m, %[1m[96max[14;17Himul[m    %[1m[96mcl[15;17Hdec[m     %[1m[96mcx[16;17Hjnz[m     [1m[96mdelay2[17;17Hdec[m     %[1m[96mbx[18;17Hjnz[m     [1m[96mdelay1[19;17Hpop[m     %[1m[96mcx[20;17Hpop[m     %[1m[96mbx[21;17Hpop[m     %[1m[96max[22;17Hret[m[24;63H78,0-1[8CBot"block.s" 78L, 1856C[23;1H[?25h[?25l[24;53H;[23;1H[24;53H [23;1H[?25h[?25l[24;53H:[23;1H[24;1H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[24;1H[K[24;1H[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ vim poll.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"poll.s" 99L, 2332C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mmov[m     [36mhasKey[m, %[36mal[m     [34m#put checkKey result into al[m[2;17H[36mtest[m    %[36mal[m, %[36mal[m[3;17H[34m# Changes[m[4;17H[36mcmp[m     $[36mQUIT[m, %[36mal[5;17Hjz[m      [36mmain3[m[11C[34m#ero if keyboard has char[m[6;17H[36mjz[m      [36mmain4[m[11C[34m#no key press[m[7;17H[36mxor[m     %[36mal[m, %[36mal[8;17Hmov[m     %[36mal[m, [36mhasKey[m     [34m#reset hasKey flag[m[9;17H[36mcall[m    [36mgetchar[m[9C[34m#read new input key[m
[36mmain4[m:[11;17H[36mcall[m    [36mputchar[m[9C[34m#output inChar to console[m[12;17H[36mcall[m    [36mdelay[m[11C[34m#delay for time proportional to DELAY[m[13;17H[36mdec[m     %[36mcx[m[13C[34m#decrement loop counter[m[14;17H[36mjnz[m     [36mmain2[m[11C[34m#loop if output counter nonzero[m[15;17H[36mjmp[m     [36mmain1[m[11C[34m#back to read next char[m
[36mmain3[m:[10C[36mcall[m    [36mexit[m

[34m#Set hasKey to non-zero if key has been pressed[m
[36mcheckKey[m:[20;17H[36mpush[m    %[36max[21;17Hmovb[m    $[31m0xb[m, %[36mah[m[7C[34m#specify fn: get stdin status[m[22;17H[36mint[m     $[36mDOS_INT[23;17Hmov[m     %[36mal[m, [36mhasKey[m     [34m#0 iff no key pressed[m[24;63H41,10-24      38%]2;poll.s (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[12;24H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[2;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[3;17H[96m# Changes[m[4;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[5;17Hjz[m      [1m[96mmain3[m[11C[96m#ero if keyboard has char[m[6;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[7;17H[1m[96mxor[m     %[1m[96mal[m, %[1m[96mal[8;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#reset hasKey flag[m[9;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read new input key[m
[1m[96mmain4[m:[11;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[12;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[13;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[14;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[15;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m
[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m

[96m#Set hasKey to non-zero if key has been pressed[m
[1m[96mcheckKey[m:[20;17H[1m[96mpush[m    %[1m[96max[21;17Hmovb[m    $[95m0xb[m, %[1m[96mah[m[7C[96m#specify fn: get stdin status[m[22;17H[1m[96mint[m     $[1m[96mDOS_INT[23;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#0 iff no key pressed[m[24;63H41,10-24      38%"poll.s" 99L, 2332C[12;24H[?25h[?25l[24;53H~@k[12;24H[24;53H   [11;24H[24;64H0,17[11;24H[?25h[?25l[24;53H~@k[11;24H[24;53H   [10;8H[24;63H39,7-8  [10;8H[?25h[?25l[24;53H~@k[10;8H[24;53H   [9;24H[24;64H8,7-24[9;24H[?25h[?25l[24;53H~@k[9;24H[24;53H   [8;24H[24;64H7,6[8;24H[?25h[?25l[24;53H~@k[8;24H[24;53H   [7;24H[24;64H6,13-24[7;24H[?25h[?25l[24;53H~@k[7;24H[24;53H   [6;24H[24;64H5,12[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [6;24H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mcheckKey[m[8C[96m#check if key has been pressed[m[24;1H[K[24;63H34,5-24[7C36%[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [6;24H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain2[m:[24;63H[K[24;63H33,7-24[7C35%[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [7;24H[24;64H4,5[7;24H[?25h[?25l[24;53H~@k[7;24H[24;53H   [8;24H[24;64H5,12-24[8;24H[?25h[?25l[24;53H~@k[8;24H[24;53H   [7;24H[24;64H4,5-24 [7;24H[?25h[?25l[24;53H~@k[7;24H[24;53H   [6;24H[24;64H3,7[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [6;24H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H32,10-24      34%[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [6;24H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H32,10-24      34%[6;24H[?25h[?25l[24;66H9-23 [6;23H[?25h[?25l[24;66H8-22[6;22H[?25h[?25l[24;64H3,7-21[7;21H[?25h[?25l[24;66H6-20[7;20H[?25h[?25l[24;66H5-19[7;19H[?25h[?25l[24;66H4-18[7;18H[?25h[?25l[24;66H3-17[7;17H[?25h[?25l[24;66H2-9 [7;9H[?25h[?25l[24;66H3-17[7;17H[?25h[?25l[96m#cmp    $QUIT, %al[m[24;66H4-18]2;poll.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[7;18H[?25h[?25l[24;64H4[8;18H[?25h[?25l[24;66H3-17[8;17H[?25h[?25l[24;66H2-9 [8;9H[?25h[?25l[96m#       jz      main3           [m[24;66H3-10[8;10H[?25h[?25l        [1m[96mjz[m      [1m[96mmain3[m           [24;66H2-9 [8;9H[?25h[?25l[8C        [1m[96mjz[m      [1m[96mmain3[m           [96m#ero if keyboard has char[m[24;66H3-17[8;17H[?25h[?25l[96m#       jz      main3           [m[24;66H4-18[8;18H[?25h[?25l[24;66H5-25[8;25H[?25h[?25l[8;18H[96mjz     main3           #ero if keyboard has char[m[8;66H[K[24;66H4-18[8;18H[?25h[?25l[24;64H3[7;18H[?25h[?25l[24;64H2[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H31,4-18[7C32%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H30,4-18[7C31%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H29,11-18      30%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H28,7[10C28%[6;7H[?25h[?25l[24;64H9,11-18[7;18H[?25h[?25l[24;63H30,4-18 [8;18H[?25h[?25l[24;64H1[9;18H[?25h[?25l[24;64H2[10;18H[?25h[?25l[24;66H5-19[10;19H[?25h[?25l[24;66H6-20[10;20H[?25h[?25l[24;66H7-21[10;21H[?25h[?25l[24;66H8-22[10;22H[?25h[?25l[24;66H9-23[10;23H[?25h[?25l[24;66H10-24[10;24H[?25h[?25l[24;67H1-25[10;25H[?25h[?25l[24;67H2-26[10;26H[?25h[?25l[10;25H[K[24;67H1-25[10;25H[?25h[?25l[10;24H[K[24;67H0-24[10;24H[?25h[?25l[10;23H[K[24;66H9-23 [10;23H[?25h[?25l[10;22H[K[24;66H8-22[10;22H[?25h[?25l[10;21H[K[24;66H7-21[10;21H[?25h[?25l[10;20H[K[24;66H6-20[10;20H[?25h[?25l[10;19H[K[24;66H5-19[10;19H[?25h[?25l[10;18H[K[24;66H4-18[10;18H[?25h[?25l[10;17H[K[24;66H3-17[10;17H[?25h[?25l[24;66H2-9 [10;9H[?25h[?25l[24;66H1  [10;1H[?25h[?25l[9;23r[23;1H
[1;24r[9;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[24;63H[K[24;63H31,16-33      29%[9;33H[?25h[?25l[24;64H0,15[8;33H[?25h[?25l[24;63H29,26[7;33H[?25h[?25l[24;64H8,7    [6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H27,19-33      28%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H26,12-33      26%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H25,15-33      25%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mhasKey[m:[9C[93m.byte[m   [95m1[m[24;63H[K[24;63H24,15-33      24%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96minChar[m:[9C[93m.byte[m   [95m0[m[24;63H[K[24;63H23,19-33      22%[6;33H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[96m#data area      [m[24;63H[K[24;63H22,8-9[8C21%[6;9H[?25h[?25l[24;64H3,19-33[7;33H[?25h[?25l[24;64H4,15[8;33H[?25h[?25l[24;64H5[9;33H[?25h[?25l[24;64H6,12[10;33H[?25h[?25l[24;64H7,19[11;33H[?25h[?25l[24;64H8,7    [12;7H[?25h[?25l[24;64H9,26-33[13;33H[?25h[?25l[24;63H30,15[14;33H[?25h[?25l[24;64H1,16[15;33H[?25h[?25l[24;64H2,17[16;33H[?25h[?25l[24;64H3,13[17;33H[?25h[?25l[24;64H4,21[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H35,22-33      22%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H36,15-33      24%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H37,16-33      25%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H38,8-9[8C26%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H39,26-33      28%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H40,19-33      29%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[96m#Set hasKey to non-zero if key has been pressed[m[24;63H[K[24;63H41,29-33      30%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mcheckKey[m:[24;63H[K[24;63H42,19-33      32%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H43,19-33      33%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    $[95m0xb[m, %[1m[96mah[m[7C[96m#specify fn: get stdin status[m[24;63H[K[24;63H44,18-29      34%[18;29H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[24;63H[K[24;63H45,1[10C36%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#0 iff no key pressed[m[24;63H[K[24;63H46,33[9C37%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H47,10[9C38%[18;10H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H48,14-28      40%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,19-33      41%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H50,19-33      42%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H51,19-33      44%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m[24;63H[K[24;63H52,14-28      45%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mgetchar[m:[24;63H[K[24;63H53,6-20[7C46%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H54,1[10C48%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x08[m,%[1m[96mah[m[7C[96m#specify fn: read without echo into al[m[24;63H[K[24;63H55,2-9[8C49%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H[K[24;63H56,1[10C50%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mal[m,[1m[96minChar[m      [96m#mov char read to inChar[m[24;63H[K[24;63H57,33[9C52%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H58,9[10C53%[18;9H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H59,11-28      54%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H60,19-33      56%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[96m#Write inChar to console        [m[24;63H[K[24;63H61,19-33      57%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[1m[96mputchar[m:[24;63H[K[24;63H62,19-33      58%[18;33H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H63,10-28      60%[18;28H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    $[95m02,[m%[1m[96mah[m[9C[96m#specify fn: output dl to stdout[m[24;63H[K[24;63H64,6-20[7C61%[18;20H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[24;63H[K[24;63H65,1[10C62%[18;1H[?25h[?25l[24;64H4,6-20[17;20H[?25h[?25l[24;64H3,10-28[16;28H[?25h[?25l[24;64H2,19-33[15;33H[?25h[?25l[24;64H1[14;33H[?25h[?25l[24;66H20-34[14;34H[?25h[?25l[24;67H1-35[14;35H[?25h[?25l[24;67H2-36[14;36H[?25h[?25l[24;67H3-37[14;37H[?25h[?25l[24;67H4-38[14;38H[?25h[?25l[24;67H5-39[14;39H[?25h[?25l[24;67H6-40[14;40H[?25h[?25l[24;67H7-41[14;41H[?25h[?25l[24;67H8-42[14;42H[?25h[?25l[24;67H9-43[14;43H[?25h[?25l[24;66H30-44[14;44H[?25h[?25l[24;67H1-45[14;45H[?25h[?25l[24;67H2-46[14;46H[?25h[?25l[24;67H3-47[14;47H[?25h[?25l[24;67H4-48[14;48H[?25h[?25l[24;67H5-49[14;49H[?25h[?25l[24;67H6-50[14;50H[?25h[?25l[24;67H7-51[14;51H[?25h[?25l[24;67H8-52[14;52H[?25h[?25l[24;67H9-53[14;53H[?25h[?25l[24;66H40-54[14;54H[?25h[?25l[24;67H1-55[14;55H[?25h[?25l[24;67H2-56[14;56H[?25h[?25l[24;67H3-57[14;57H[?25h[?25l[24;67H4-58[14;58H[?25h[?25l[24;67H5-59[14;59H[?25h[?25l[24;67H6-60[14;60H[?25h[?25l[24;67H7-61[14;61H[?25h[?25l[15;23r[15;1H[L[1;24r[24;63H[K[24;63H62,1[10C61%[15;1H[?25h[?25l[24;66H2-9[15;9H[?25h[?25l[24;66H3-17[15;17H[?25h[?25l[24;64H1[14;17H[?25h[?25l[24;64H0[13;17H[?25h[?25l[24;63H59[12;17H[?25h[?25l[24;64H8,9   [11;9H[?25h[?25l[24;64H7,17[10;17H[?25h[?25l[24;64H6,1 [9;1H[?25h[?25l[24;64H5,2-9[8;9H[?25h[?25l[24;64H4,1  [7;1H[?25h[?25l[24;64H3,3-17[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mcheckKey[m:[24;63H[K[24;63H52,3-17[7C60%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[96m#Set hasKey to non-zero if key has been pressed[m[24;63H[K[24;63H51,3-17[7C59%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H50,3-17[7C57%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H49,3-17[7C56%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H48,3-17[7C55%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H47,10[9C53%[6;10H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H46,17[9C52%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H45,1[10C51%[6;1H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;63H[K[24;63H44,9-17[7C50%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain4[m:[24;63H[K[24;63H43,3-17[7C48%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read new input key[m[24;63H[K[24;63H42,3-17[7C47%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#reset hasKey flag[m[24;63H[K[24;63H41,17[9C46%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mxor[m     %[1m[96mal[m, %[1m[96mal[m[24;63H[K[24;63H40,3-17[7C44%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[24;63H[K[24;63H39,10-17      43%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[96m#jz     main3           #ero if keyboard has char[m[24;63H[K[24;63H38,8-9[8C42%[6;9H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[96m#cmp    $QUIT, %al[m[24;63H[K[24;63H37,3-17[7C40%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[24;63H[K[24;63H36,3-17[7C39%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[24;63H[K[24;63H35,10-17      38%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mcheckKey[m[8C[96m#check if key has been pressed[m[24;63H[K[24;63H34,10-17      36%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain2[m:[24;63H[K[24;63H33,3-17[7C35%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H32,3-17[7C34%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H31,3-17[7C32%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H30,3-17[7C31%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H29,10-17      30%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H28,7[10C28%[6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H27,3-17[7C27%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H26,3-17[7C26%[6;17H[?25h[?25l[1;23r[1;1H[L[1;24r[24;63H[K[24;63H25,3-17[7C25%[6;17H[?25h[24;1H[K[6;16H[?25l[24;53H^[[6;16H[24;53H  [6;17H[24;63H25,2-16[7C25%[6;16H[?25h[?25l[24;66H3-17[6;17H[?25h[?25l[24;53H2[6;18H[1m[96m[48;5;242mc[m[1m[96mmp[m [24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[6;18H[24;63H25,4-18[7C25%[6;18H[?25h[?25l[24;53H3[6;19H[1m[96m[48;5;242mm[m[1m[96mp[m [24;66H5-19[6;19H[?25h[?25l[24;53H4[6;24H[1m[96m[48;5;242mp[m[48;5;242m    [m[24;66H6-24[6;24H[?25h[?25l[?25h[?25l[?25h[?25l[24;53H5[6;25H[48;5;242m [m[24;66H7-25[6;25H[?25h[?25l[24;53H6[6;26H[48;5;242m$[m[24;66H8-26[6;26H[?25h[?25l[24;53H7[6;27H[1m[96m[48;5;242mQ[m[1m[96mUIT[m,[24;66H9-27[6;27H[?25h[?25l[24;53H8[6;28H[1m[96m[48;5;242mU[m[1m[96mIT[m,[24;66H10-28[6;28H[?25h[?25l[24;53H2[7;32H[6;28H[1m[96m[48;5;242mIT[m[48;5;242m, %[m[1m[96m[48;5;242mal[m[48;5;242m      [m[96m[48;5;242m#is it a QUIT character?[m[48;5;242m 
                [m[1m[96m[48;5;242mjz[m[48;5;242m      [m[1m[96m[48;5;242mmain3[m[48;5;242m  [m[24;64H6,11-32[7;32H[?25h[?25l[?25h[?25l[?25h[?25l[8C[7;32H[48;5;242m        [m[24;67H2-40[7;40H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l [48;5;242m [m[24;67H3-41[7;41H[?25h[?25l[1C[96m[48;5;242m#[m[24;67H4-42[7;42H[?25h[?25l[1C[96m[48;5;242mq[m[24;67H5-43[7;43H[?25h[?25l[1C[96m[48;5;242mu[m[24;67H6-44[7;44H[?25h[?25l[1C[96m[48;5;242mi[m[24;67H7-45[7;45H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H8-46[7;46H[?25h[?25l[24;53H3[8;47H[7;46H[96m[48;5;242m if got QUIT character[m[48;5;242m 
                [m[1m[96m[48;5;242mmov[m[48;5;242m     $[m[1m[96m[48;5;242mCOUNT[m[48;5;242m, %[m[1m[96m[48;5;242mcx[m[48;5;242m     [m[96m[48;5;242m#set o[m[24;64H7,33-47[8;47H[?25h[?25l[1C[96m[48;5;242mu[m[24;67H4-48[8;48H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H5-49[8;49H[?25h[?25l[1C[96m[48;5;242mp[m[24;67H6-50[8;50H[?25h[?25l[1C[96m[48;5;242mu[m[24;67H7-51[8;51H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H8-52[8;52H[?25h[?25l[1C[96m[48;5;242m [m[24;67H9-53[8;53H[?25h[?25l[2C[96m[48;5;242mco[m[24;66H41-55[8;55H[?25h[?25l[1C[96m[48;5;242mu[m[24;67H2-56[8;56H[?25h[?25l[1C[96m[48;5;242mn[m[24;67H3-57[8;57H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H4-58[8;58H[?25h[?25l[1C[96m[48;5;242me[m[24;67H5-59[8;59H[?25h[?25l[1C[96m[48;5;242mr[m[24;67H6-60[8;60H[?25h[?25l[?25h[?25l[24;53H2[7;61H[96maracter[m[7;68H[K[8;1H                [1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;64H6,33-61[7;61H[?25h[?25l[1C[96m[48;5;242ma[m[24;67H4-62[7;62H[?25h[?25l[1C[96m[48;5;242mr[m[24;67H5-63[7;63H[?25h[?25l[1C[96m[48;5;242ma[m[24;67H6-64[7;64H[?25h[?25l[1C[96m[48;5;242mc[m[24;67H7-65[7;65H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H8-66[7;66H[?25h[?25l[1C[96m[48;5;242me[m[24;67H9-67[7;67H[?25h[?25l[1C[96m[48;5;242mr[m[24;66H40-68[7;68H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H^[[7;68H[24;53H2 [7;68H[24;54H^[[7;68H[24;53H   [7;67H[6;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[6;65H[K[7;1H                [1m[96mjz[m      [1m[96mmain3[m           [96m#quit if got QUIT character[m[24;1H[K[24;63H26,39-67      25%[7;67H[?25h[?25l[24;64H5,2-16 [6;16H[?25h[?25l[24;53H2[6;17H[6;9H[48;5;242m        [m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[6;17H[24;63H25,3-17[7C25%[6;17H[?25h[?25l[24;53H3[6;18H[1m[96m[48;5;242mc[m[1m[96mmp[m [24;66H4-18[6;18H[?25h[?25l[24;53H5[6;24H[1m[96m[48;5;242mmp[m[48;5;242m    [m[24;66H6-24[6;24H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H6[6;25H[48;5;242m [m[24;66H7-25[6;25H[?25h[?25l[24;53H7[6;26H[48;5;242m$[m[24;66H8-26[6;26H[?25h[?25l[24;53H9[6;28H[1m[96m[48;5;242mQU[m[1m[96mIT[m,[24;66H10-28[6;28H[?25h[?25l[24;53H10[6;29H[1m[96m[48;5;242mI[m[1m[96mT[m,[24;67H1-29[6;29H[?25h[?25l[24;54H1[6;30H[1m[96m[48;5;242mT[m,[24;67H2-30[6;30H[?25h[?25l[24;54H2[6;31H[48;5;242m,[m[24;67H3-31[6;31H[?25h[?25l[24;54H3[6;32H[48;5;242m [m[24;67H4-32[6;32H[?25h[?25l[24;54H4[6;33H[48;5;242m%[m[24;67H5-33[6;33H[?25h[?25l[24;54H6[6;40H[6;33H[1m[96m[48;5;242mal[m[48;5;242m     [m[24;67H7-40[6;40H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;54H7[6;41H[48;5;242m [m[24;67H8-41[6;41H[?25h[?25l[24;53H2 [7;42H[6;41H[96m[48;5;242m#is it a QUIT character?[m[48;5;242m 
                [m[1m[96m[48;5;242mjz[m[48;5;242m      [m[1m[96m[48;5;242mmain3[m[48;5;242m           [m[96m[48;5;242m#[m[24;64H6,14-42[7;42H[?25h[?25l[3C[96m[48;5;242mqui[m[24;67H7-45[7;45H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H8-46[7;46H[?25h[?25l[2C[96m[48;5;242m i[m[24;66H20-48[7;48H[?25h[?25l[1C[96m[48;5;242mf[m[24;67H1-49[7;49H[?25h[?25l[1C[96m[48;5;242m [m[24;67H2-50[7;50H[?25h[?25l[1C[96m[48;5;242mg[m[24;67H3-51[7;51H[?25h[?25l[4C[96m[48;5;242mot Q[m[24;67H7-55[7;55H[?25h[?25l[1C[96m[48;5;242mU[m[24;67H8-56[7;56H[?25h[?25l[1C[96m[48;5;242mI[m[24;67H9-57[7;57H[?25h[?25l[1C[96m[48;5;242mT[m[24;66H30-58[7;58H[?25h[?25l[1C[96m[48;5;242m [m[24;67H1-59[7;59H[?25h[?25l[1C[96m[48;5;242mc[m[24;67H2-60[7;60H[?25h[?25l[1C[96m[48;5;242mh[m[24;67H3-61[7;61H[?25h[?25l[1C[96m[48;5;242ma[m[24;67H4-62[7;62H[?25h[?25l[1C[96m[48;5;242mr[m[24;67H5-63[7;63H[?25h[?25l[1C[96m[48;5;242ma[m[24;67H6-64[7;64H[?25h[?25l[1C[96m[48;5;242mc[m[24;67H7-65[7;65H[?25h[?25l[1C[96m[48;5;242mt[m[24;67H8-66[7;66H[?25h[?25l[1C[96m[48;5;242me[m[24;67H9-67[7;67H[?25h[?25l[1C[96m[48;5;242mr[m[24;66H40-68[7;68H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53Hy[7;68H[6;9H        [1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[6;65H[K[7;1H                [1m[96mjz[m      [1m[96mmain3[m           [96m#quit if got QUIT character[m[24;1H[K[24;63H25,2-16[7C25%3 lines yanked[24;63H[K[6;16H[24;63H25,2-16[7C25%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [7;16H[24;64H6[7;16H[?25h[?25l[24;53H~@k[7;16H[24;53H   [8;16H[24;64H7[8;16H[?25h[?25l[24;53H~@k[8;16H[24;53H   [9;6H[24;64H8,6   [9;6H[?25h[?25l[24;53H~@k[9;6H[24;53H   [10;16H[24;64H9,9-16[10;16H[?25h[?25l[24;53H~@k[10;16H[24;53H   [11;16H[24;63H30,2[11;16H[?25h[?25l[24;53H~@k[11;16H[24;53H   [12;16H[24;64H1[12;16H[?25h[?25l[24;53H~@k[12;16H[24;53H   [13;16H[24;64H2[13;16H[?25h[?25l[24;53H~@k[13;16H[24;53H   [14;16H[24;64H3[14;16H[?25h[?25l[24;53H~@k[14;16H[24;53H   [15;16H[24;64H4,9[15;16H[?25h[?25l[24;53H~@k[15;16H[24;53H   [16;16H[24;64H5[16;16H[?25h[?25l[24;53H~@k[16;16H[24;53H   [17;16H[24;64H6,2[17;16H[?25h[?25l[24;53H~@k[17;16H[24;53H   [18;16H[24;64H7[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;1H[K[24;63H38,7-8[8C26%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H39,9-16[7C27%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H40,2-16[7C28%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[96m#Set hasKey to non-zero if key has been pressed[m[24;63H[K[24;63H41,16[9C30%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[1m[96mcheckKey[m:[24;63H[K[24;63H42,2-16[7C31%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H43,2-16[7C32%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    $[95m0xb[m, %[1m[96mah[m[7C[96m#specify fn: get stdin status[m[24;63H[K[24;63H44,8-16[7C34%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[24;63H[K[24;63H45,0-1[8C35%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#0 iff no key pressed[m[24;63H[K[24;63H46,16[9C36%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;9H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H47,9[10C38%[18;9H[?25h[?25l[24;53H~@k[18;9H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H48,2-16[7C39%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H49,2-16[7C40%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H50,2-16[7C42%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H51,2-16[7C43%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m[24;63H[K[24;63H52,2-16[7C44%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[1m[96mgetchar[m:[24;63H[K[24;63H53,2-16[7C46%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H54,0-1[8C47%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x08[m,%[1m[96mah[m[7C[96m#specify fn: read without echo into al[m[24;63H[K[24;63H55,1-8[8C48%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H[K[24;63H56,0-1[8C50%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H57,16[9C51%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mal[m,[1m[96minChar[m      [96m#mov char read to inChar[m[24;63H[K[24;63H58,8[10C52%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H59,2-16[7C53%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H60,2-16[7C55%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H61,2-16[7C56%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[96m#Write inChar to console        [m[24;63H[K[24;63H62,2-16[7C57%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[1m[96mputchar[m:[24;63H[K[24;63H63,2-16[7C59%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H64,2-16[7C60%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    $[95m02,[m%[1m[96mah[m[9C[96m#specify fn: output dl to stdout[m[24;63H[K[24;63H65,2-16[7C61%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[24;63H[K[24;63H66,0-1[8C63%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#output inChar[m[24;63H[K[24;63H67,16[9C64%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H68,8[10C65%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H69,2-16[7C67%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [17;8H[24;64H8,8   [17;8H[?25h[?25l[24;53H~@k[17;8H[24;53H   [16;16H[24;64H7,16[16;16H[?25h[?25l[24;53H~@k[16;16H[24;53H   [15;1H[24;64H6,0-1[15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [14;16H[24;64H5,2-16[14;16H[?25h[?25l[24;53H~@k[14;16H[24;53H   [13;16H[24;64H4[13;16H[?25h[?25l[24;53H~@k[13;16H[24;53H   [12;16H[24;64H3[12;16H[?25h[?25l[24;53H~@k[12;16H[24;53H   [11;16H[24;64H2[11;16H[?25h[?25l[24;53Hp[11;16H[24;53H [11;24H[12;23r[12;1H[2L[1;24r[11;25H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[12;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H62,3-24[7C65%[11;24H[?25h[?25l[24;53H~@k[11;24H[24;53H   [11;17H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H62,3-17[7C65%[11;17H[?25h[?25l[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[11;65H[K[24;66H2-9 [11;9H[?25h[?25l[24;64H3[12;9H[?25h[?25l[24;64H4,1  [13;1H[?25h[?25l[12;23r[23;1H
[1;24r[12;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H63,40-68      66%[12;68H[?25h[24;1H[K[12;67H[?25l[24;53H^[[12;67H[24;53H  [12;68H[24;63H63,39-67      66%[12;67H[?25h[?25l[24;53H:[12;67H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"poll.s" 100L, 2404C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=poll.lst poll.s -o poll.o
objcopy -O binary poll.o poll.bin
rm poll.o
dd if=poll.bin of=poll.com bs=256 skip=1
0+1 records in
0+1 records out
114 bytes copied, 0.00112997 s, 101 kB/s
rm poll.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ vi[K[Kls
block	   block.lst  DIR	   key-int.lst	lab14.log  poll.com  poll.s
block.com  block.s    key-int.com  key-int.s	Makefile   poll.lst
amchugh2@g7-37:~/i220a_new/work/lab14$ vim blo[K[K[Kpoll.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"poll.s" 100L, 2404C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mpop[m     %[36max[2;17Hret[m[6;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m
[36mgetchar[m:[8;17H[36mpush[m    %[36max[9;17Hmov[m     $[31m0x08[m,%[36mah[m[7C[34m#specify fn: read without echo into al[m[10;17H[36mint[m     $[36mDOS_INT[m[8C[34m#read stdin into %al[m[11;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[12;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[13;17H[36mmov[m     %[36mal[m,[36minChar[m      [34m#mov char read to inChar[m[14;17H[36mpop[m     %[36max[15;17Hret[m

[34m#Write inChar to console        [m
[36mputchar[m:[19;17H[36mpush[m    %[36max[20;17Hmovb[m    $[31m02,[m%[36mah[m[9C[34m#specify fn: output dl to stdout[m[21;17H[36mmovb[m    [36minChar[m,%[36mdl[m      [34m#char to output[m[22;17H[36mint[m     $[36mDOS_INT[m[8C[34m#output inChar[m[23;17H[36mpop[m     %[36max[m[24;63H63,39-67      66%]2;poll.s (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[12;67H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mpop[m     %[1m[96max[2;17Hret[m[6;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[8;17H[1m[96mpush[m    %[1m[96max[9;17Hmov[m     $[95m0x08[m,%[1m[96mah[m[7C[96m#specify fn: read without echo into al[m[10;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[11;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[12;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[13;17H[1m[96mmov[m     %[1m[96mal[m,[1m[96minChar[m      [96m#mov char read to inChar[m[14;17H[1m[96mpop[m     %[1m[96max[15;17Hret[m

[96m#Write inChar to console        [m
[1m[96mputchar[m:[19;17H[1m[96mpush[m    %[1m[96max[20;17Hmovb[m    $[95m02,[m%[1m[96mah[m[9C[96m#specify fn: output dl to stdout[m[21;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[22;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#output inChar[m[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H63,39-67      66%"poll.s" 100L, 2404C[12;67H[?25h[?25l[24;53H:[12;67H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25hm[?25l[?25ho[?25l[?25hr[?25l[?25hn[?25l[?25hi[?25l[?25hn[?25l[?25hg[?25l[?25h[?25l[30m[47m[12;67H[27m[23m[29m[m[30m[47m[H[2J[1;17H[36mpop[m[30m[47m     %[36max[2;17Hret[m[30m[47m[6;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m
[36mgetchar[m[30m[47m:[8;17H[36mpush[m[30m[47m    %[36max[9;17Hmov[m[30m[47m     $[31m0x08[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: read without echo into al[m[30m[47m[10;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[11;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[12;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[13;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[14;17H[36mpop[m[30m[47m     %[36max[15;17Hret[m[30m[47m

[34m#Write inChar to console        [m[30m[47m
[36mputchar[m[30m[47m:[19;17H[36mpush[m[30m[47m    %[36max[20;17Hmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[21;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[22;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H63,39-67      66%[12;67H[?25h[?25l[24;53H~@k[12;67H[24;53H   [13;64H[24;64H4,50-64[13;64H[?25h[?25l[24;53H~@k[13;64H[24;53H   [14;27H[24;64H5,9-27 [14;27H[?25h[?25l[24;53H~@k[14;27H[24;53H   [15;19H[24;64H6,5-19[15;19H[?25h[?25l[24;53H~@k[15;19H[24;53H   [16;1H[24;64H7,0-1 [16;1H[?25h[?25l[24;53H~@k[16;1H[24;53H   [17;32H[24;64H8,25-32[17;32H[?25h[?25l[24;53H~@k[17;32H[24;53H   [18;8H[24;64H9,8    [18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H70,10-27      67%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;67H[1;23r[23;1H
[1;24r[24;63H[K[24;63H71,53-67      68%[18;67H[?25h[?25l[24;53H~@k[18;67H[24;53H   [18;55H[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H72,41-55      70%[18;55H[?25h[?25l[24;53H~@k[18;55H[24;53H   [18;54H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#specify fn: program exit[m[30m[47m[24;63H[K[24;63H73,40-54      71%[18;54H[?25h[?25l[24;53H~@k[18;54H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H74,9-27[7C72%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;19H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H75,5-19[7C74%[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;1H[1;23r[23;1H
[1;24r[24;63H[K[24;63H76,0-1[8C75%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;5H[1;23r[23;1H
[1;24r[24;63H[K[24;63H77,5[10C76%[18;5H[?25h[?25l[24;53H~@k[18;5H[24;53H   [18;65H[1;23r[23;1H
[1;24r[24;63H[K[24;63H78,47-65      77%[18;65H[?25h[?25l[24;53H~@k[18;65H[24;53H   [18;58H[1;23r[23;1H
[1;24r[23;1H[34m#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H79,40-58      79%[18;58H[?25h[?25l[24;53H~@k[18;58H[24;53H   [18;53H[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H80,35-53      80%[18;53H[?25h[?25l[24;53H~@k[18;53H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H81,1-8[8C81%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H82,1-8[8C83%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;63H[K[24;63H83,0-1[8C84%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;67H[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H84,67[9C85%[18;67H[?25h[?25l[24;53H~@k[18;67H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H85,16-27      87%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H86,10-27      88%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H87,10-27      89%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;38H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H88,20-38      90%[18;38H[?25h[?25l[24;53H~@k[18;38H[24;53H   [18;38H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H89,31-38      92%[18;38H[?25h[?25l[24;53H~@k[18;38H[24;53H   [18;37H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay1[m[30m[47m[24;63H[K[24;63H90,30-37      93%[18;37H[?25h[?25l[24;53H~@k[18;37H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H91,20-27      94%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H92,20-27      96%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;30H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H93,23-30      97%[18;30H[?25h[?25l[24;53H~@k[18;30H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H94,20-27      98%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;30H[1;23r[23;1H
[1;24r[24;63H[K[24;63H95,19-30      Bot[18;30H[?25h[?25l[24;53H~@k[18;30H[24;53H   [19;27H[24;64H6,16-27[19;27H[?25h[?25l[24;53H~@k[19;27H[24;53H   [20;27H[24;64H7,9-27 [20;27H[?25h[?25l[24;53H~@k[20;27H[24;53H   [21;27H[24;64H8[21;27H[?25h[?25l[24;53H~@k[21;27H[24;53H   [22;19H[24;64H9,5-19[22;19H[?25h[?25l[24;53H~@k[22;19H[24;53H   [23;1H[24;63H100,0-1[23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [22;19H[24;63H99,5-19[22;19H[?25h[?25l[24;53H~@k[22;19H[24;53H   [21;27H[24;64H8,9-27[21;27H[?25h[?25l[24;53H~@k[21;27H[24;53H   [20;27H[24;64H7[20;27H[?25h[?25l[24;53H~@k[20;27H[24;53H   [19;27H[24;64H6,16-27[19;27H[?25h[?25l[24;53H~@k[19;27H[24;53H   [18;30H[24;64H5,19-30[18;30H[?25h[?25l[24;53H~@k[18;30H[24;53H   [17;27H[24;64H4,20-27[17;27H[?25h[?25l[24;53H~@k[17;27H[24;53H   [16;30H[24;64H3,23-30[16;30H[?25h[?25l[24;53H~@k[16;30H[24;53H   [15;27H[24;64H2,20-27[15;27H[?25h[?25l[24;53H~@k[15;27H[24;53H   [14;27H[24;64H1[14;27H[?25h[?25l[24;53H~@k[14;27H[24;53H   [13;37H[24;64H0,30-3[13;37H[?25h[?25l[24;53H~@k[13;37H[24;53H   [12;38H[24;63H89,31-38[12;38H[?25h[?25l[24;53H~@k[12;38H[24;53H   [11;38H[24;64H8,20[11;38H[?25h[?25l[24;53H~@k[11;38H[24;53H   [10;27H[24;64H7,10-27[10;27H[?25h[?25l[24;53H~@k[10;27H[24;53H   [9;27H[24;64H6[9;27H[?25h[?25l[24;53H~@k[9;27H[24;53H   [8;27H[24;64H5,16[8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [7;67H[24;64H4,67   [7;67H[?25h[?25l[24;53H~@k[7;67H[24;53H   [6;1H[24;64H3,0-1[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[36mexit[m[30m[47m:[24;63H[K[24;63H82,1-8[8C98%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H81,1-8[8C97%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;53H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H80,35-53      96%[6;53H[?25h[?25l[24;53H~@k[6;53H[24;53H   [6;58H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H79,40-58      94%[6;58H[?25h[?25l[24;53H~@k[6;58H[24;53H   [6;65H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H78,47-65      93%[6;65H[?25h[?25l[24;53H~@k[6;65H[24;53H   [6;5H[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H77,5[10C92%[6;5H[?25h[?25l[24;53H~@k[6;5H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#specify fn: output dl to stdout[m[30m[47m[24;63H[K[24;63H76,0-1[8C90%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H75,5-19[7C89%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H74,9-27[7C88%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;54H[1;23r[1;1H[L[1;24r[1;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H73,40-54      87%[6;54H[?25h[?25l[24;53H~@k[6;54H[24;53H   [6;55H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H72,41-55      85%[6;55H[?25h[?25l[24;53H~@k[6;55H[24;53H   [6;67H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H71,53-67      84%[6;67H[?25h[?25l[24;53H~@k[6;67H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H70,10-27      83%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m,[36minChar[m[30m[47m      [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H69,8[10C81%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H68,25-32      80%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H67,0-1[8C79%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H66,5-19[7C77%[6;19H[?25h[?25l[24;53H:[6;19H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[24;1H[K[24;1H[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ vim polls[K.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"poll.s" 100L, 2404C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[3;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m
[36mgetchar[m:[5;17H[36mpush[m    %[36max[6;17Hmov[m     $[31m0x08[m,%[36mah[m[7C[34m#specify fn: read without echo into al[m[7;17H[36mint[m     $[36mDOS_INT[m[8C[34m#read stdin into %al[m[8;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[9;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[10;17H[36mmov[m     %[36mal[m,[36minChar[m      [34m#mov char read to inChar[m[11;17H[36mpop[m     %[36max[12;17Hret[m

[34m#Write inChar to console        [m
[36mputchar[m:[16;17H[36mpush[m    %[36max[17;17Hmovb[m    $[31m02,[m%[36mah[m[9C[34m#specify fn: output dl to stdout[m[18;17H[36mmovb[m    [36minChar[m,%[36mdl[m      [34m#char to output[m[19;17H[36mint[m     $[36mDOS_INT[m[8C[34m#output inChar[m[20;17H[36mpop[m     %[36max[21;17Hret

exit[m:[24;63H66,5-19[7C70%]2;poll.s (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[12;19H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[3;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[5;17H[1m[96mpush[m    %[1m[96max[6;17Hmov[m     $[95m0x08[m,%[1m[96mah[m[7C[96m#specify fn: read without echo into al[m[7;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[8;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[9;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[10;17H[1m[96mmov[m     %[1m[96mal[m,[1m[96minChar[m      [96m#mov char read to inChar[m[11;17H[1m[96mpop[m     %[1m[96max[12;17Hret[m

[96m#Write inChar to console        [m
[1m[96mputchar[m:[16;17H[1m[96mpush[m    %[1m[96max[17;17Hmovb[m    $[95m02,[m%[1m[96mah[m[9C[96m#specify fn: output dl to stdout[m[18;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[19;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#output inChar[m[20;17H[1m[96mpop[m     %[1m[96max[21;17Hret

exit[m:[24;63H66,5-19[7C70%"poll.s" 100L, 2404C[12;19H[?25h[?25l[24;53H~@k[12;19H[24;53H   [11;19H[24;64H5[11;19H[?25h[?25l[24;53H~@k[11;19H[24;53H   [12;19H[24;64H6[12;19H[?25h[?25l[24;53H~@k[12;19H[24;53H   [13;1H[24;64H7,0-1 [13;1H[?25h[?25l[24;53H~@k[13;1H[24;53H   [14;19H[24;64H8,19 [14;19H[?25h[?25l[24;53H~@k[14;19H[24;53H   [15;8H[24;64H9,8 [15;8H[?25h[?25l[24;53H~@k[15;8H[24;53H   [16;19H[24;63H70,5-19[16;19H[?25h[?25l[24;53H~@k[16;19H[24;53H   [17;19H[24;64H1[17;19H[?25h[?25l[24;53H~@k[17;19H[24;53H   [18;19H[24;64H2[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;19H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x4c[m,%[1m[96mah[m[7C[96m#specify fn: program exit[m[24;1H[K[24;63H73,5-19[7C71%[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;19H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x0[m,%[1m[96mal[m[8C[96m#setup exit status[m[24;63H[K[24;63H74,5-19[7C72%[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;19H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#exit program[m[24;63H[K[24;63H75,5-19[7C74%[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;1H[1;23r[23;1H
[1;24r[24;63H[K[24;63H76,0-1[8C75%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [17;19H[24;64H5,5-19[17;19H[?25h[?25l[24;53H~@k[17;19H[24;53H   [16;19H[24;64H4[16;19H[?25h[?25l[24;53H~@k[16;19H[24;53H   [15;19H[24;64H3[15;19H[?25h[?25l[24;53H~@k[15;19H[24;53H   [14;19H[24;64H2[14;19H[?25h[?25l[24;53H~@k[14;19H[24;53H   [13;19H[24;64H1[13;19H[?25h[?25l[24;53H~@k[13;19H[24;53H   [12;19H[24;64H0[12;19H[?25h[?25l[24;53H~@k[12;19H[24;53H   [11;8H[24;63H69,8   [11;8H[?25h[?25l[24;53H~@k[11;8H[24;53H   [10;19H[24;64H8,19[10;19H[?25h[?25l[24;53H~@k[10;19H[24;53H   [9;1H[24;64H7,0-1[9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [8;19H[24;64H6,5-19[8;19H[?25h[?25l[24;53H~@k[8;19H[24;53H   [7;19H[24;64H5[7;19H[?25h[?25l[24;53H~@k[7;19H[24;53H   [6;19H[24;64H4[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;24H[1;23r[1;1H[L[1;24r[1;1H[1m[96mgetchar[m:[24;63H[K[24;63H63,5-24[7C74%[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m[24;63H[K[24;63H62,5-19[7C72%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [7;24H[24;64H3,5-24[7;24H[?25h[?25l[24;53H~@k[7;24H[24;53H   [6;19H[24;64H2,5-19[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H61,5-19[7C71%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [7;19H[24;64H2[7;19H[?25h[?25l[24;53H~@k[7;19H[24;53H   [7;24H[24;66H6-24[7;24H[?25h[?25l[24;53H~@k[7;24H[24;53H   [6;24H[24;64H1,10-24[6;24H[?25h[?25l[24;53H~@k[6;24H[24;53H   [6;25H[24;67H1-25[6;25H[?25h[?25l[24;53H~@k[6;25H[24;53H   [6;26H[24;67H2-26[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;27H[24;67H3-27[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;28H[24;67H4-28[6;28H[?25h[?25l[24;53H~@k[6;28H[24;53H   [6;29H[24;67H5-29[6;29H[?25h[?25l[24;53H~@k[6;29H[24;53H   [6;30H[24;67H6-30[6;30H[?25h[?25l[24;53H~@k[6;30H[24;53H   [6;31H[24;67H7-31[6;31H[?25h[?25l[24;53H~@k[6;31H[24;53H   [6;32H[24;67H8-32[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;33H[24;67H9-33[6;33H[?25h[?25l[24;53H~@k[6;33H[24;53H   [6;34H[24;66H20-34[6;34H[?25h[?25l[24;53H~@k[6;34H[24;53H   [6;35H[24;67H1-35[6;35H[?25h[?25l[24;53H~@k[6;35H[24;53H   [6;36H[24;67H2-36[6;36H[?25h[?25l[24;53H~@k[6;36H[24;53H   [6;37H[24;67H3-37[6;37H[?25h[?25l[24;53H~@k[6;37H[24;53H   [6;38H[24;67H4-38[6;38H[?25h[?25l[24;53H~@k[6;38H[24;53H   [6;39H[24;67H5-39[6;39H[?25h[?25l[24;53H~@k[6;39H[24;53H   [6;40H[24;67H6-40[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;41H[24;67H7-41[6;41H[?25h[?25l[24;53H~@k[6;41H[24;53H   [6;42H[24;67H8-42[6;42H[?25h[?25l[24;53H~@k[6;42H[24;53H   [6;43H[24;67H9-43[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;44H[24;66H30-44[6;44H[?25h[?25l[24;53H~@k[6;44H[24;53H   [6;45H[24;67H1-45[6;45H[?25h[?25l[24;53H~@k[6;45H[24;53H   [6;46H[24;67H2-46[6;46H[?25h[?25l[24;53H~@k[6;46H[24;53H   [6;47H[24;67H3-47[6;47H[?25h[?25l[24;53H~@k[6;47H[24;53H   [6;48H[24;67H4-48[6;48H[?25h[?25l[24;53H~@k[6;48H[24;53H   [6;49H[24;67H5-49[6;49H[?25h[?25l[24;53H~@k[6;49H[24;53H   [6;50H[24;67H6-50[6;50H[?25h[?25l[24;53H~@k[6;50H[24;53H   [6;51H[24;67H7-51[6;51H[?25h[?25l[24;53H~@k[6;51H[24;53H   [6;52H[24;67H8-52[6;52H[?25h[?25l[24;53H~@k[6;52H[24;53H   [6;53H[24;67H9-53[6;53H[?25h[?25l[24;53H~@k[6;53H[24;53H   [6;54H[24;66H40-54[6;54H[?25h[?25l[24;53H~@k[6;54H[24;53H   [6;55H[24;67H1-55[6;55H[?25h[?25l[24;53H~@k[6;55H[24;53H   [6;56H[24;67H2-56[6;56H[?25h[?25l[24;53H~@k[6;56H[24;53H   [6;57H[24;67H3-57[6;57H[?25h[?25l[24;53H~@k[6;57H[24;53H   [6;58H[24;67H4-58[6;58H[?25h[?25l[24;53H~@k[6;58H[24;53H   [6;59H[24;67H5-59[6;59H[?25h[?25l[24;53H~@k[6;59H[24;53H   [6;60H[24;67H6-60[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H61,46-60      71%[6;60H[?25h[?25l[24;67H7-61[6;61H[?25h[?25l[7;23r[7;1H[L[1;24r[24;63H[K[24;63H62,1[10C70%]2;poll.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[7;1H[?25h[?25l[24;66H2-9[7;9H[?25h[?25l[24;66H3-17[7;17H[?25h[?25l[96m#[m[24;66H4-18[7;18H[?25h[?25l[96m [m[24;66H5-19[7;19H[?25h[?25l[96mC[m[24;66H6-20[7;20H[?25h[?25l[96mh[m[24;66H7-21[7;21H[?25h[?25l[96ma[m[24;66H8-22[7;22H[?25h[?25l[96mn[m[24;66H9-23[7;23H[?25h[?25l[96mg[m[24;66H10-24[7;24H[?25h[?25l[96me[m[24;67H1-25[7;25H[?25h[?25l[96ms[m[24;67H2-26[7;26H[?25h[?25l[96m:[m[24;67H3-27[7;27H[?25h[?25l[96m [m[24;67H4-28[7;28H[?25h[?25l[96ma[m[24;67H5-29[7;29H[?25h[?25l[96md[m[24;67H6-30[7;30H[?25h[?25l[96md[m[24;67H7-31[7;31H[?25h[?25l[96me[m[24;67H8-32[7;32H[?25h[?25l[96md[m[24;67H9-33[7;33H[?25h[?25l[96m [m[24;66H20-34[7;34H[?25h[?25l[96mf[m[24;67H1-35[7;35H[?25h[?25l[96mr[m[24;67H2-36[7;36H[?25h[?25l[96mo[m[24;67H3-37[7;37H[?25h[?25l[96mm[m[24;67H4-38[7;38H[?25h[?25l[96m [m[24;67H5-39[7;39H[?25h[?25l[96mm[m[24;67H6-40[7;40H[?25h[?25l[96ma[m[24;67H7-41[7;41H[?25h[?25l[96mi[m[24;67H8-42[7;42H[?25h[?25l[96mn[m[24;67H9-43[7;43H[?25h[?25l[96m1[m[24;66H30-44[7;44H[?25h[?25l[96m.[m[24;67H1-45[7;45H[?25h[?25l[96m [m[24;67H2-46[7;46H[?25h[?25l[96mS[m[24;67H3-47[7;47H[?25h[?25l[96mo[m[24;67H4-48[7;48H[?25h[?25l[96m [m[24;67H5-49[7;49H[?25h[?25l[96me[m[24;67H6-50[7;50H[?25h[?25l[96mv[m[24;67H7-51[7;51H[?25h[?25l[96me[m[24;67H8-52[7;52H[?25h[?25l[96mr[m[24;67H9-53[7;53H[?25h[?25l[96my[m[24;66H40-54[7;54H[?25h[?25l[96m [m[24;67H1-55[7;55H[?25h[?25l[96mt[m[24;67H2-56[7;56H[?25h[?25l[96mi[m[24;67H3-57[7;57H[?25h[?25l[96mm[m[24;67H4-58[7;58H[?25h[?25l[96me[m[24;67H5-59[7;59H[?25h[?25l[96m [m[24;67H6-60[7;60H[?25h[?25l[96mc[m[24;67H7-61[7;61H[?25h[?25l[96mh[m[24;67H8-62[7;62H[?25h[?25l[96ma[m[24;67H9-63[7;63H[?25h[?25l[96mr[m[24;66H50-64[7;64H[?25h[?25l[96m [m[24;67H1-65[7;65H[?25h[?25l[96mf[m[24;67H2-66[7;66H[?25h[?25l[96mr[m[24;67H3-67[7;67H[?25h[?25l[96mo[m[24;67H4-68[7;68H[?25h[?25l[96mm[m[24;67H5-69[7;69H[?25h[?25l[96m [m[24;67H6-70[7;70H[?25h[?25l[96ms[m[24;67H7-71[7;71H[?25h[?25l[96mt[m[24;67H8-72[7;72H[?25h[?25l[96md[m[24;67H9-73[7;73H[?25h[?25l[96mi[m[24;66H60-74[7;74H[?25h[?25l[96mn[m[24;67H1-75[7;75H[?25h[?25l[96m [m[24;67H2-76[7;76H[?25h[?25l[96mi[m[24;67H3-77[7;77H[?25h[?25l[96ms[m[24;67H4-78[7;78H[?25h[?25l[96m [m[24;67H5-79[7;79H[?25h[?25l[96mr[m[24;67H6-80[7;80H[?25h[?25l[96me[m[24;67H7-81[8;1H[?25h[?25l[8;23r[8;1H[L[1;24r[8;1H[96ma[m[24;63H[K[24;63H62,68-82      69%[8;2H[?25h[?25l[96md[m[24;67H9-83[8;3H[?25h[?25l[96m [m[24;66H70-84[8;4H[?25h[?25l[8;3H[K[24;66H69-83[8;3H[?25h[?25l[8;2H[K[24;67H8-82[8;2H[?25h[?25l[7;23r[23;1H
[1;24r[7;1H [15C[96m# Changes: added from main1. So every time char from stdin is re[m[23;1H[1m[96mexit[m:[24;63H[K[24;63H62,67-81      70%[8;1H[?25h[?25l[8;23r[8;1H[L[1;24r[8;1H[96ma[m[24;63H[K[24;63H62,68-82      69%[8;2H[?25h[?25l[96md[m[24;67H9-83[8;3H[?25h[?25l[96m,[m[24;66H70-84[8;4H[?25h[?25l[96m [m[24;67H1-85[8;5H[?25h[?25l[96mc[m[24;67H2-86[8;6H[?25h[?25l[96mh[m[24;67H3-87[8;7H[?25h[?25l[96me[m[24;67H4-88[8;8H[?25h[?25l[96mc[m[24;67H5-89[8;9H[?25h[?25l[96mk[m[24;67H6-90[8;10H[?25h[?25l[96ms[m[24;67H7-91[8;11H[?25h[?25l[96m [m[24;67H8-92[8;12H[?25h[?25l[96mi[m[24;67H9-93[8;13H[?25h[?25l[96mf[m[24;66H80-94[8;14H[?25h[?25l[96m [m[24;67H1-95[8;15H[?25h[?25l[96mq[m[24;67H2-96[8;16H[?25h[?25l[96m [m[24;67H3-97[8;17H[?25h[?25l[96ma[m[24;67H4-98[8;18H[?25h[?25l[96mn[m[24;67H5-99[8;19H[?25h[?25l[96md[m[24;67H6-100[8;20H[?25h[?25l[96m [m[24;67H7-101[8;21H[?25h[?25l[96mq[m[24;67H8-102[8;22H[?25h[?25l[96mu[m[24;67H9-103[8;23H[?25h[?25l[96mi[m[24;66H90-104[8;24H[?25h[?25l[96mt[m[24;67H1-105[8;25H[?25h[?25l[96ms[m[24;67H2-106[8;26H[?25h[?25l[96m [m[24;67H3-107[8;27H[?25h[?25l[96mi[m[24;67H4-108[8;28H[?25h[?25l[96mf[m[24;67H5-109[8;29H[?25h[?25l[96m [m[24;67H6-110[8;30H[?25h[?25l[96mi[m[24;67H7-111[8;31H[?25h[?25l[8;30H[K[24;67H6-110[8;30H[?25h[?25l[96ms[m[24;67H7-111[8;31H[?25h[?25l[96mo[m[24;67H8-112[8;32H[?25h[24;1H[K[8;31H[?25l[24;53H^[[8;31H[24;53H  [8;32H[24;63H62,97-111     69%[8;31H[?25h[?25l[24;53H:[8;31H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"poll.s" 101L, 2502C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=poll.lst poll.s -o poll.o
objcopy -O binary poll.o poll.bin
rm poll.o
dd if=poll.bin of=poll.com bs=256 skip=1
0+1 records in
0+1 records out
114 bytes copied, 0.00855128 s, 13.3 kB/s
rm poll.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ make key-int.com
make: 'key-int.com' is up to date.
amchugh2@g7-37:~/i220a_new/work/lab14$ ls
block	   block.lst  DIR	   key-int.lst	lab14.log  poll.com  poll.s
block.com  block.s    key-int.com  key-int.s	Makefile   poll.lst
amchugh2@g7-37:~/i220a_new/work/lab14$ vim key-int.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.s" 164L, 4346C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[34m#dos starts all .com programs at this offset[m[2;17H[38;5;130m.org[m    [31m0x100[m[4;17H[38;5;130m.code16[m

[34m#Define constants[m
[36mDOS_INT[m[9C=[7C[31m0x21[m  [34m#use INT 0x21 to generate s/w interrupt to DOS[m
[36mKEY_INT[m[9C=[7C[31m0x9[m   [34m#interrupt vector # for keyboard interrupt[m
[36mCHK_INT[m[9C=[7C[31m0x16[m  [34m#[m
[36mCOUNT[m[11C=[9C[31m50[m
[36mQUIT[m[12C=[7C'[36mq[m'
[36mDELAY_LO[m[8C=[7C[31m0x0[m
[36mDELAY_HI[m[8C=[7C[31m0x2[m

[34m#Entered at program startup.[m[16;17H[36mjmp[m     [36mmain[m


[34m#data area      [m
[36minChar[m:[9C[38;5;130m.byte[m   [31m0[m
[36mhasKey[m:[9C[38;5;130m.byte[m   [31m0[m
[36mintAddr[m:[8C[38;5;130m.word[m   [31m0,[m [31m0[m
[36mchkAddr[m:[8C[38;5;130m.word[m   [31m0,[m [31m0[m[24;63H1,1-8[9CTop]2;key-int.s (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[1;8H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m  [96m#use INT 0x21 to generate s/w interrupt to DOS[m
[1m[96mKEY_INT[m[9C=[7C[95m0x9[m   [96m#interrupt vector # for keyboard interrupt[m
[1m[96mCHK_INT[m[9C=[7C[95m0x16[m  [96m#[m
[1m[96mCOUNT[m[11C=[9C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m

[96m#Entered at program startup.[m[16;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m[24;63H1,1-8[9CTop"key-int.s" 164L, 4346C[1;8H[?25h[?25l[24;53H:[1;8H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25hm[?25l[?25ho[?25l[?25hr[?25l[?25hn[?25l[?25hi[?25l[?25hn[?25l[?25hg[?25l[?25h[?25l[30m[47m[1;8H[27m[23m[29m[m[30m[47m[H[2J[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[2;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[4;17H[1m[38;5;130m.code16[m[30m[47m

[34m#Define constants[m[30m[47m
[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m  [34m#use INT 0x21 to generate s/w interrupt to DOS[m[30m[47m
[36mKEY_INT[m[30m[47m[9C=[7C[31m0x9[m[30m[47m   [34m#interrupt vector # for keyboard interrupt[m[30m[47m
[36mCHK_INT[m[30m[47m[9C=[7C[31m0x16[m[30m[47m  [34m#[m[30m[47m
[36mCOUNT[m[30m[47m[11C=[9C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[16;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mintAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m
[36mchkAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m[24;63H1,1-8[9CTop[1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [1;8H[?25h[?25l[24;53H~@k[1;8H[24;53H   [2;8H[24;63H2[2;8H[?25h[?25l[24;53H~@k[2;8H[24;53H   [3;1H[24;63H3,0-1[3;1H[?25h[?25l[24;53H~@k[3;1H[24;53H   [4;8H[24;63H4,1-8[4;8H[?25h[?25l[24;53H~@k[4;8H[24;53H   [5;1H[24;63H5,0-1[5;1H[?25h[?25l[24;53H~@k[5;1H[24;53H   [6;8H[24;63H6,8  [6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [7;8H[24;63H7[7;8H[?25h[?25l[24;53H~@k[7;8H[24;53H   [8;8H[24;63H8[8;8H[?25h[?25l[24;53H~@k[8;8H[24;53H   [9;8H[24;63H9[9;8H[?25h[?25l[24;53H~@k[9;8H[24;53H   [10;8H[24;63H10,8[10;8H[?25h[?25l[24;53H~@k[10;8H[24;53H   [11;8H[24;64H1[11;8H[?25h[?25l[24;53H~@k[11;8H[24;53H   [12;8H[24;64H2[12;8H[?25h[?25l[24;53H~@k[12;8H[24;53H   [13;8H[24;64H3[13;8H[?25h[?25l[24;53H~@k[13;8H[24;53H   [14;1H[24;64H4,0-1[14;1H[?25h[?25l[24;53H~@k[14;1H[24;53H   [15;8H[24;64H5,8  [15;8H[?25h[?25l[24;53H~@k[15;8H[24;53H   [16;8H[24;64H6,1-8[16;8H[?25h[?25l[24;53H~@k[16;8H[24;53H   [17;1H[24;64H7,0-1[17;1H[?25h[?25l[24;53H~@k[17;1H[24;53H   [18;1H[24;64H8[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H19,8[11C0%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mmain[m[30m[47m:[24;63H[K[24;63H20,8[11C1%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [17;8H[24;63H19[17;8H[?25h[?25l[24;53H~@k[17;8H[24;53H   [16;1H[24;64H8,0-1[16;1H[?25h[?25l[24;53H~@k[16;1H[24;53H   [17;8H[24;64H9,8  [17;8H[?25h[?25l[24;53H~@k[17;8H[24;53H   [18;8H[24;63H20[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36msetupHandler[m[30m[47m[24;63H[K[24;63H21,8[11C2%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H22,8[11C2%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H23,8[11C3%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H24,0-1[9C4%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;5H[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H25,5[11C4%[18;5H[?25h[?25l[24;53H~@k[18;5H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H26,1-8[9C5%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H27,7-8[9C6%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H28,1-8[9C7%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H29,1-8[9C7%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H30,1-8[9C8%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H31,1-8[9C9%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[24;63H[K[24;63H32,1-8[9C9%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H33,6[10C10%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H34,1-8[8C11%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H35,1-8[8C12%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H36,1-8[8C12%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H37,1-8[8C13%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H38,7-8[8C14%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[24;63H[K[24;63H39,1-8[8C14%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mresetHandler[m[30m[47m[24;63H[K[24;63H40,1-8[8C15%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H41,8[10C16%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H42,1-8[8C17%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[30m[47m[24;63H[K[24;63H43,1-8[8C17%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;1H[34m#and address of bios interrupt handler in chkAddr.[m[30m[47m[24;63H[K[24;63H44,6[10C18%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#Point keyboard interrupt to intHandler [m[30m[47m[24;63H[K[24;63H45,1-8[8C19%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36msetupHandler[m[30m[47m:[24;63H[K[24;63H46,1-8[8C19%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H47,0-1[8C20%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H48,8[10C21%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mdx[m[30m[47m[24;63H[K[24;63H49,8[10C21%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mes[m[30m[47m[24;63H[K[24;63H50,8[10C22%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H51,8[10C23%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[34m#save address of handler for CHK_INT in chkAddr[m[30m[47m[24;63H[K[24;63H52,1-8[8C24%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCHK_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for checking keyboard buf[m[30m[47m[24;63H[K[24;63H53,1-8[8C24%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H54,1-8[8C25%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H55,1-8[8C26%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mchkAddr[m[30m[47m    [34m#save old int vector [m[30m[47m[24;63H[K[24;63H56,0-1[8C26%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mchkAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H57,1-8[8C27%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H58,1-8[8C28%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[34m#save address of handler for KEY_INT in intAddr[m[30m[47m[24;63H[K[24;63H59,1-8[8C29%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H60,1-8[8C29%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H61,1-8[8C30%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H62,1-8[8C31%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mintAddr[m[30m[47m    [34m#save old int vector[m[30m[47m[24;63H[K[24;63H63,0-1[8C31%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mintAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H64,1-8[8C32%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H65,1-8[8C33%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[34m#set address of keyboard interrupt handler to intHandler[m[30m[47m[24;63H[K[24;63H66,1-8[8C34%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#replace int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H67,1-8[8C34%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to write int vec from dx[m[30m[47m[24;63H[K[24;63H68,1-8[8C35%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mintHandler[m[30m[47m, %[36mdx[m[30m[47m[34m#point dx to new int handler[m[30m[47m[24;63H[K[24;63H69,1-8[8C36%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[24;63H[K[24;63H70,0-1[8C36%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mes[m[30m[47m[24;63H[K[24;63H71,1-8[8C37%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mdx[m[30m[47m[24;63H[K[24;63H72,1-8[8C38%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H73,1-8[8C39%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H74,1-8[8C39%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H75,1-8[8C40%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H76,1-8[8C41%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#Cleanup keyboard interrupt handler: restore to original value saved[m[30m[47m[24;63H[K[24;63H77,1-8[8C41%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#in intAddr.[m[30m[47m[24;63H[K[24;63H78,1-8[8C42%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mresetHandler[m[30m[47m:[24;63H[K[24;63H79,1-8[8C43%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H80,1-8[8C43%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mdx[m[30m[47m[24;63H[K[24;63H81,0-1[8C44%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H82,8[10C45%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H83,8[10C46%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m[24;63H[K[24;63H84,8[10C46%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mintAddr[m[30m[47m, %[36mdx[m[30m[47m[24;63H[K[24;63H85,1-8[8C47%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mintAddr[m[30m[47m + [31m2[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H86,1-8[8C48%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[24;63H[K[24;63H87,1-8[8C48%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[24;63H[K[24;63H88,1-8[8C49%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mds[m[30m[47m[24;63H[K[24;63H89,1-8[8C50%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mdx[m[30m[47m[24;63H[K[24;63H90,1-8[8C51%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H91,1-8[8C51%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H92,1-8[8C52%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H93,1-8[8C53%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#Interrupt handler for keyboard[m[30m[47m[24;63H[K[24;63H94,1-8[8C53%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#stack contains ret addr + flags[m[30m[47m[24;63H[K[24;63H95,1-8[8C54%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mintHandler[m[30m[47m:[24;63H[K[24;63H96,1-8[8C55%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H97,1-8[8C56%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H98,1-8[8C56%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mcs[m[30m[47m, %[36max[m[30m[47m[8C[34m#ensure ds register same as[m[30m[47m[24;63H[K[24;63H99,8[10C57%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[8C[34m#cs register[m[30m[47m[24;63H[K[24;63H100,8[9C58%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpushf[m[30m[47m[19C[34m#save flags[m[30m[47m[24;63H[K[24;63H101,8[9C58%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mlcall[m[30m[47m   *[36mintAddr[m[30m[47m[8C[34m#call original keyboard handler[m[30m[47m[24;63H[K[24;63H102,1-8[7C59%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x01[m[30m[47m, %[36mah[m[30m[47m      [34m#setup for keyboard status bios call[m[30m[47m[24;63H[K[24;63H103,1-8[7C60%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpushf[m[30m[47m[24;63H[K[24;63H104,1-8[7C60%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mlcall[m[30m[47m   *[36mchkAddr[m[30m[47m[8C[34m#call bios interrupt handler[m[30m[47m[24;63H[K[24;63H105,1-8[7C61%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mcli[m[30m[47m[21C[34m#disable interrupts[m[30m[47m[24;63H[K[24;63H106,1-8[7C62%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mintHandler1[m[30m[47m     [34m#no key available[m[30m[47m[24;63H[K[24;63H107,1-8[7C63%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x1[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H108,1-8[7C63%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#signal we have a key[m[30m[47m[24;63H[K[24;63H109,1-8[7C64%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mintHandler1[m[30m[47m:    [36msti[m[30m[47m[21C[34m#renable interrupts[m[30m[47m[24;63H[K[24;63H110,1-8[7C65%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[34m#stack contains flags[m[30m[47m[24;63H[K[24;63H111,1-8[7C65%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H112,1-8[7C66%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mds[m[30m[47m[24;63H[K[24;63H113,1-8[7C67%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36miret[m[30m[47m[20C[34m#special return from interrupt handler[m[30m[47m[24;63H[K[24;63H114,1-8[7C68%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H115,8[9C68%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H116,1-8[7C69%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H117,1-8[7C70%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H118,1-8[7C70%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[24;63H[K[24;63H119,1-8[7C71%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H120,0-1[7C72%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36minChar[m[30m[47m     [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H121,8[9C73%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H122,8[9C73%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H123,1-8[7C74%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H124,1-8[7C75%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H125,1-8[7C75%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H126,1-8[7C76%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H127,1-8[7C77%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H128,1-8[7C78%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H129,1-8[7C78%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#setup output call[m[30m[47m[24;63H[K[24;63H130,1-8[7C79%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H131,0-1[7C80%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H132,8[9C80%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H133,8[9C81%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H134,1-8[7C82%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H135,1-8[7C82%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H136,1-8[7C83%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#setup program exit[m[30m[47m[24;63H[K[24;63H137,1-8[7C84%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H138,1-8[7C85%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H139,1-8[7C85%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[24;63H[K[24;63H140,0-1[7C86%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;5H[1;23r[23;1H
[1;24r[24;63H[K[24;63H141,5[9C87%[18;5H[?25h[?25l[24;53H~@k[18;5H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H142,1-8[7C87%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[34m#delay loop for time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m[24;63H[K[24;63H143,1-8[7C88%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H144,1-8[7C89%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H145,1-8[7C90%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H[K[24;63H146,1-8[7C90%[18;8H[?25h[?25l[24;53H/[18;8H[24;53H[K[24;1H/[?2004h[?25hh[?25l[1;23r[1;1H[3M[1;24r[18;20H[7m[36mh[m[30m[47m[21;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx
delay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx
delay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;1H[K[24;63H149,12-20     92%/h[24;63H[K[24;3H[?25ha[?25l[27m[23m[29m[m[30m[47m[H[2J[1;1H[36mCHK_INT[m[30m[47m[9C=[7C[31m0x16[m[30m[47m  [34m#[m[30m[47m
[36mCOUNT[m[30m[47m[11C=[9C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[8;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minC[m[30m[47m[7m[36mha[m[30m[47m[36mr[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mintAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m
[36mchkAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m

[36mmain[m[30m[47m:[18;17H[36mcall[m[30m[47m    [36msetupHandler
main1[m[30m[47m:[20;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[21;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[22;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H20,4[11C5%/ha[24;63H[K[24;4H[?25hs[?25l[1;23r[23;1H
[1;24r[11;4H[36mha[m[30m[47m
[7m[36mhas[m[30m[47m[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;1H[K[24;63H21,1[11C6%/has[24;63H[K[24;5H[?25hc[?25l[27m[23m[29m[m[30m[47m[H[2J[1;17H[36mpop[m[30m[47m     %[36max[2;17Hret[m[30m[47m

[34m#Write inChar to console        [m[30m[47m
[36mputchar[m[30m[47m:[6;17H[36mpush[m[30m[47m    %[36max[7;17Hmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#setup output call[m[30m[47m[8;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[9;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[10;17H[36mpop[m[30m[47m     %[36max[11;17Hret

exit[m[30m[47m:[14;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#setup program exit[m[30m[47m[15;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[16;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[20;1H#delay loop for time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m
[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[22;17Hpush[m[30m[47m    %[36mbx[23;17Hpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H146,1[9C90%/hasc[24;63H[K[24;6H[?25hh[?25l[56C146,1[9C90%[24;63H[K[24;7H[?25ha[?25l[55C146,1[9C90%[24;63H[K[24;8H[?25hr[?25l[54C146,1[9C90%[24;63H[K[24;9H[?25h[?25l[24;8H[K[24;63H146,1[9C90%[24;63H[K[24;8H[?25h[?25l[24;7H[K[24;63H146,1[9C90%[24;63H[K[24;7H[?25h[?25l[24;6H[K[24;63H146,1[9C90%[24;63H[K[24;6H[?25h[?25l[24;5H[K[27m[23m[29m[m[30m[47m[H[2J[1;1H[36mCOUNT[m[30m[47m[11C=[9C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[7;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[7m[36mhas[m[30m[47m[36mKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mintAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m
[36mchkAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m

[36mmain[m[30m[47m:[17;17H[36mcall[m[30m[47m    [36msetupHandler
main1[m[30m[47m:[19;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[20;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[21;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[22;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H21,1[11C6%/has[24;63H[K[24;5H[?25hC[?25l[27m[23m[29m[m[30m[47m[H[2J[1;17H[36mpop[m[30m[47m     %[36max[2;17Hret[m[30m[47m

[34m#Write inChar to console        [m[30m[47m
[36mputchar[m[30m[47m:[6;17H[36mpush[m[30m[47m    %[36max[7;17Hmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#setup output call[m[30m[47m[8;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[9;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[10;17H[36mpop[m[30m[47m     %[36max[11;17Hret

exit[m[30m[47m:[14;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#setup program exit[m[30m[47m[15;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[16;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[20;1H#delay loop for time proportional to value in DELAY_HI_DELAY_LO[m[30m[47m
[36mdelay[m[30m[47m:[10C[36mpush[m[30m[47m    %[36max[22;17Hpush[m[30m[47m    %[36mbx[23;17Hpush[m[30m[47m    %[36mcx[m[30m[47m[24;63H146,1[9C90%/hasC[24;63H[K[24;6H[?25hh[?25l[56C146,1[9C90%[24;63H[K[24;7H[?25ha[?25l[55C146,1[9C90%[24;63H[K[24;8H[?25hr[?25l[54C146,1[9C90%[24;63H[K[24;9H[?25h[?25l[31msearch hit BOTTOM, continuing at TOP[m[30m[47m[97m[41mE486: Pattern not found: hasChar[m[30m[47m[24;33H[K[18;1H[24;63H146,1[9C90%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mDELAY_HI[m[30m[47m, %[36mbx[m[30m[47m[24;1H[K[24;63H147,0-1[7C91%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;1H[36mdelay1[m[30m[47m:[9C[36mmov[m[30m[47m     $[36mDELAY_LO[m[30m[47m, %[36mcx[m[30m[47m[24;63H[K[24;63H148,1[9C92%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;1H[36mdelay2[m[30m[47m:[9C[36mmov[m[30m[47m     $[31m0x0f0a0[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H149,1[9C92%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mimul[m[30m[47m    %[36mcl[m[30m[47m[24;63H[K[24;63H150,1-8[7C93%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H151,1-8[7C94%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay2[m[30m[47m[24;63H[K[24;63H152,1-8[7C95%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H153,1[9C95%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mdelay1[m[30m[47m[24;63H[K[24;63H154,1[9C96%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mcx[m[30m[47m[24;63H[K[24;63H155,1-8[7C97%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H156,1-8[7C97%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H157,1-8[7C98%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H158,1-8[7C99%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[24;63H[K[24;63H159,1-8[7CBot[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [19;8H[24;64H60[19;8H[?25h[?25l[24;53H~@k[19;8H[24;53H   [20;8H[24;65H1[20;8H[?25h[?25l[24;53H~@k[20;8H[24;53H   [21;8H[24;65H2[21;8H[?25h[?25l[24;53H~@k[21;8H[24;53H   [22;8H[24;65H3[22;8H[?25h[?25l[24;53H~@k[22;8H[24;53H   [23;1H[24;65H4,0-1[23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [22;8H[24;65H3,1-8[22;8H[?25h[?25l[24;53H~@k[22;8H[24;53H   [21;8H[24;65H2[21;8H[?25h[?25l[24;53H~@k[21;8H[24;53H   [20;8H[24;65H1[20;8H[?25h[?25l[24;53H~@k[20;8H[24;53H   [19;8H[24;65H0[19;8H[?25h[?25l[24;53H~@k[19;8H[24;53H   [18;8H[24;64H59[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [17;8H[24;65H8[17;8H[?25h[?25l[24;53H~@k[17;8H[24;53H   [16;8H[24;65H7[16;8H[?25h[?25l[24;53H~@k[16;8H[24;53H   [15;8H[24;65H6[15;8H[?25h[?25l[24;53H~@k[15;8H[24;53H   [14;8H[24;65H5[14;8H[?25h[?25l[24;53H~@k[14;8H[24;53H   [13;1H[24;65H4,1  [13;1H[?25h[?25l[24;53H~@k[13;1H[24;53H   [12;1H[24;65H3[12;1H[?25h[?25l[24;53H~@k[12;1H[24;53H   [11;8H[24;65H2,1-8[11;8H[?25h[?25l[24;53H~@k[11;8H[24;53H   [10;8H[24;65H1[10;8H[?25h[?25l[24;53H~@k[10;8H[24;53H   [9;8H[24;65H0[9;8H[?25h[?25l[24;53H~@k[9;8H[24;53H   [8;1H[24;64H49,1  [8;1H[?25h[?25l[24;53H~@k[8;1H[24;53H   [7;1H[24;65H8[7;1H[?25h[?25l[24;53H~@k[7;1H[24;53H   [6;1H[24;65H7,0-1[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[36mexit[m[30m[47m:[24;63H[K[24;63H146,1-8[7C99%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H145,1-8[7C98%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H144,1-8[7C97%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H143,1-8[7C97%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H142,1-8[7C96%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H141,1[9C95%[6;1H[?25h[?25l[1;23r[1;1H[5M[1;24r[19;17H[36mjnz[m[30m[47m     [36mdelay1[20;17Hpop[m[30m[47m     %[36mcx[21;17Hpop[m[30m[47m     %[36mbx[22;17Hpop[m[30m[47m     %[36max[23;17Hret[m[30m[47m[24;63H[K[24;63H158,20-27     99%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [17;30H[24;65H7,23-30[17;30H[?25h[?25l[24;53H~@k[17;30H[24;53H   [16;27H[24;65H6,20-27[16;27H[?25h[?25l[24;53H~@k[16;27H[24;53H   [15;27H[24;65H5[15;27H[?25h[?25l[24;53H~@k[15;27H[24;53H   [14;37H[24;65H4,30-3[14;37H[?25h[?25l[24;53H~@k[14;37H[24;53H   [13;38H[24;65H3,31-38[13;38H[?25h[?25l[24;53H~@k[13;38H[24;53H   [12;38H[24;65H2,20[12;38H[?25h[?25l[24;53H~@k[12;38H[24;53H   [11;27H[24;65H1,10-27[11;27H[?25h[?25l[24;53H~@k[11;27H[24;53H   [10;27H[24;65H0[10;27H[?25h[?25l[24;53H~@k[10;27H[24;53H   [9;27H[24;64H49,16[9;27H[?25h[?25l[24;53H~@k[9;27H[24;53H   [8;43H[24;65H8,43   [8;43H[?25h[?25l[24;53H~@k[8;43H[24;53H   [7;1H[24;65H7,0-1[7;1H[?25h[?25l[24;53H~@k[7;1H[24;53H   [6;8H[24;65H6,1-8[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H145,1-8[7C98%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H144,25-43     97%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H143,25-43     97%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H142,25-43     96%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;5H[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H141,5[9C95%[6;5H[?25h[?25l[24;53H~@k[6;5H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#setup output call[m[30m[47m[24;63H[K[24;63H140,0-1[7C95%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H139,5-19      94%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H138,9-27      93%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H137,29-43     92%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H136,29-43     92%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H135,29-43     91%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H134,10-27     90%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H133,8[9C90%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H132,25-32     89%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36minChar[m[30m[47m     [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H131,0-1[7C88%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H130,5-19      87%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[24;63H[K[24;63H129,9-27      87%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H128,25-43     86%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H127,21-32     85%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H126,29-43     85%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H125,29-43     84%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36miret[m[30m[47m[20C[34m#special return from interrupt handler[m[30m[47m[24;63H[K[24;63H124,29-43     83%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36mds[m[30m[47m[24;63H[K[24;63H123,10-27     82%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H122,8[9C82%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[34m#stack contains flags[m[30m[47m[24;63H[K[24;63H121,43[8C81%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[36mintHandler1[m[30m[47m:    [36msti[m[30m[47m[21C[34m#renable interrupts[m[30m[47m[24;63H[K[24;63H120,0-1[7C80%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#signal we have a key[m[30m[47m[24;63H[K[24;63H119,29-43     80%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x1[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H118,9-27      79%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mjz[m[30m[47m      [36mintHandler1[m[30m[47m     [34m#no key available[m[30m[47m[24;63H[K[24;63H117,10-27     78%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;37H[1;23r[1;1H[L[1;24r[1;17H[36mcli[m[30m[47m[21C[34m#disable interrupts[m[30m[47m[24;63H[K[24;63H116,23-37     78%[6;37H[?25h[?25l[24;53H~@k[6;37H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mlcall[m[30m[47m   *[36mchkAddr[m[30m[47m[8C[34m#call bios interrupt handler[m[30m[47m[24;63H[K[24;63H115,22-43     77%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpushf[m[30m[47m[24;63H[K[24;63H114,36-43     76%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;33H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x01[m[30m[47m, %[36mah[m[30m[47m      [34m#setup for keyboard status bios call[m[30m[47m[24;63H[K[24;63H113,15-33     75%[6;33H[?25h[?25l[24;53H~@k[6;33H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mlcall[m[30m[47m   *[36mintAddr[m[30m[47m[8C[34m#call original keyboard handler[m[30m[47m[24;63H[K[24;63H112,36-43     75%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpushf[m[30m[47m[19C[34m#save flags[m[30m[47m[24;63H[K[24;63H111,11-43     74%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[8C[34m#cs register[m[30m[47m[24;63H[K[24;63H110,20-43     73%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;21H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mcs[m[30m[47m, %[36max[m[30m[47m[8C[34m#ensure ds register same as[m[30m[47m[24;63H[K[24;63H109,7-21      73%[6;21H[?25h[?25l[24;53H~@k[6;21H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H108,21-43     72%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H107,22-43     71%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;1H[36mintHandler[m[30m[47m:[24;63H[K[24;63H106,29-43     70%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;1H[34m#stack contains ret addr + flags[m[30m[47m[24;63H[K[24;63H105,18-43     70%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;1H[34m#Interrupt handler for keyboard[m[30m[47m[24;63H[K[24;63H104,22-43     69%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H103,13-27     68%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H102,13-27     68%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;11H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H101,11[8C67%[6;11H[?25h[?25l[24;53H~@k[6;11H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36mdx[m[30m[47m[24;63H[K[24;63H100,32[8C66%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;31H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36mds[m[30m[47m[24;63H[K[24;63H99,31[9C65%[6;31H[?25h[?25l[24;53H~@k[6;31H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[24;63H[K[24;63H98,1-8[8C65%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[24;63H[K[24;63H97,5-19[7C64%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36mintAddr[m[30m[47m + [31m2[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H96,9-27[7C63%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     [36mintAddr[m[30m[47m, %[36mdx[m[30m[47m[24;63H[K[24;63H95,9-27[7C63%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m[24;63H[K[24;63H94,9-27[7C62%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H93,29-43      61%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H92,14-32      60%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mdx[m[30m[47m[24;63H[K[24;63H91,22-40      60%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;36H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H90,18-36      59%[6;36H[?25h[?25l[24;53H~@k[6;36H[24;53H   [6;34H[1;23r[1;1H[L[1;24r[1;1H[36mresetHandler[m[30m[47m:[24;63H[K[24;63H89,16-34      58%[6;34H[?25h[?25l[24;53H~@k[6;34H[24;53H   [6;37H[1;23r[1;1H[L[1;24r[1;1H[34m#in intAddr.[m[30m[47m[24;63H[K[24;63H88,19-37      58%[6;37H[?25h[?25l[24;53H~@k[6;37H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[34m#Cleanup keyboard interrupt handler: restore to original value saved[m[30m[47m[24;63H[K[24;63H87,10-27      57%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H86,10-27      56%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mret[m[30m[47m[24;63H[K[24;63H85,10-27      56%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;13H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H84,13[9C55%[6;13H[?25h[?25l[24;53H~@k[6;13H[24;53H   [6;12H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H83,12[9C54%[6;12H[?25h[?25l[24;53H~@k[6;12H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36mdx[m[30m[47m[24;63H[K[24;63H82,43[9C53%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mpop[m[30m[47m     %[36mes[m[30m[47m[24;63H[K[24;63H81,0-1[8C53%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[24;63H[K[24;63H80,5-19[7C52%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mintHandler[m[30m[47m, %[36mdx[m[30m[47m[34m#point dx to new int handler[m[30m[47m[24;63H[K[24;63H79,9-27[7C51%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to write int vec from dx[m[30m[47m[24;63H[K[24;63H78,9-27[7C51%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#replace int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H77,9-27[7C50%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[34m#set address of keyboard interrupt handler to intHandler[m[30m[47m[24;63H[K[24;63H76,9-27[7C49%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H75,29-43      48%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mintAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H74,29-43      48%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mintAddr[m[30m[47m    [34m#save old int vector[m[30m[47m[24;63H[K[24;63H73,25-43      47%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H72,25-43      46%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H71,36-43      46%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H70,0-1[8C45%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[34m#save address of handler for KEY_INT in intAddr[m[30m[47m[24;63H[K[24;63H69,29-43      44%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H68,29-43      43%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mchkAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H67,18-43      43%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mchkAddr[m[30m[47m    [34m#save old int vector [m[30m[47m[24;63H[K[24;63H66,25-43      42%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H65,25-43      41%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H64,36-43      41%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mmov[m[30m[47m     $[36mCHK_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for checking keyboard buf[m[30m[47m[24;63H[K[24;63H63,0-1[8C40%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[34m#save address of handler for CHK_INT in chkAddr[m[30m[47m[24;63H[K[24;63H62,29-43      39%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H61,29-43      39%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mes[m[30m[47m[24;63H[K[24;63H60,18-43      38%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mdx[m[30m[47m[24;63H[K[24;63H59,25-43      37%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H58,25-43      36%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H57,36-43      36%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[36msetupHandler[m[30m[47m:[24;63H[K[24;63H56,0-1[8C35%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[34m#Point keyboard interrupt to intHandler [m[30m[47m[24;63H[K[24;63H55,10-27      34%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[34m#and address of bios interrupt handler in chkAddr.[m[30m[47m[24;63H[K[24;63H54,10-27      34%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[34m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[30m[47m[24;63H[K[24;63H53,10-27      33%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H52,10-27      32%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;13H[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H51,13[9C31%[6;13H[?25h[?25l[24;53H~@k[6;13H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[36mcall[m[30m[47m    [36mresetHandler[m[30m[47m[24;63H[K[24;63H50,40[9C31%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;1H[36mmain3[m[30m[47m:[24;63H[K[24;63H49,43[9C30%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;43H[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H48,43[9C29%[6;43H[?25h[?25l[24;53H~@k[6;43H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H47,0-1[8C29%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [7;43H[24;64H8,43 [7;43H[?25h[?25l[24;53H~@k[7;43H[24;53H   [8;43H[24;64H9[8;43H[?25h[?25l[24;53H~@k[8;43H[24;53H   [9;40H[24;63H50,40[9;40H[?25h[?25l[24;53H~@k[9;40H[24;53H   [10;13H[24;64H1,13[10;13H[?25h[?25l[24;53H~@k[10;13H[24;53H   [11;27H[24;64H2,10-27[11;27H[?25h[?25l[24;53H~@k[11;27H[24;53H   [12;27H[24;64H3[12;27H[?25h[?25l[24;53H~@k[12;27H[24;53H   [13;27H[24;64H4[13;27H[?25h[?25l[24;53H~@k[13;27H[24;53H   [14;27H[24;64H5[14;27H[?25h[?25l[24;53H~@k[14;27H[24;53H   [15;1H[24;64H6,0-1  [15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [16;43H[24;64H7,36-43[16;43H[?25h[?25l[24;53H~@k[16;43H[24;53H   [17;43H[24;64H8,25[17;43H[?25h[?25l[24;53H~@k[17;43H[24;53H   [18;43H[24;64H9[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;43H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H60,18-43      29%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;43H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H61,29-43      30%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;43H[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H62,29-43      31%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mintAddr[m[30m[47m    [34m#save old int vector[m[30m[47m[24;63H[K[24;63H63,0-1[8C31%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;43H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mintAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H64,36-43      32%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;43H[1;23r[23;1H
[1;24r[24;63H[K[24;63H65,25-43      33%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;43H[1;23r[23;1H
[1;24r[23;17H[34m#set address of keyboard interrupt handler to intHandler[m[30m[47m[24;63H[K[24;63H66,25-43      34%[18;43H[?25h[?25l[24;53H~@k[18;43H[24;53H   [18;43H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#replace int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H67,18-43      34%[18;43H[?25h[?25l[24;64H6,27-45[17;45H[?25h[?25l[24;53H/[17;45H[24;53H[K[24;1H/[?2004h[?25hh[?25l[1;23r[1;1H[4M[1;24r[18;52H[7m[34mh[m[30m[47m[20;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to write int vec from dx[m[30m[47m[21;17H[36mmov[m[30m[47m     $[36mintHandler[m[30m[47m, %[36mdx[m[30m[47m[34m#point dx to new int handler[m[30m[47m[22;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[23;17H[36mpop[m[30m[47m     %[36mes[m[30m[47m[24;1H[K[24;63H71,45-52      37%/h[24;63H[K[24;3H[?25ha[?25l[18;53H[7m[34ma[m[30m[47m[24;63H71,45-52      37%[24;63H[K[24;4H[?25hs[?25l[27m[23m[29m[m[30m[47m[H[2J[1;17H[36mpush[m[30m[47m    %[36max[2;17Hmov[m[30m[47m     %[36mcs[m[30m[47m, %[36max[m[30m[47m[8C[34m#ensure ds register same as[m[30m[47m[3;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[8C[34m#cs register[m[30m[47m[4;17H[36mpushf[m[30m[47m[19C[34m#save flags[m[30m[47m[5;17H[36mlcall[m[30m[47m   *[36mintAddr[m[30m[47m[8C[34m#call original keyboard handler[m[30m[47m[6;17H[36mmov[m[30m[47m     $[31m0x01[m[30m[47m, %[36mah[m[30m[47m      [34m#setup for keyboard status bios call[m[30m[47m[7;17H[36mpushf[8;17Hlcall[m[30m[47m   *[36mchkAddr[m[30m[47m[8C[34m#call bios interrupt handler[m[30m[47m[9;17H[36mcli[m[30m[47m[21C[34m#disable interrupts[m[30m[47m[10;17H[36mjz[m[30m[47m      [36mintHandler1[m[30m[47m     [34m#no key available[m[30m[47m[11;17H[36mmov[m[30m[47m     $[31m0x1[m[30m[47m, %[36mal[12;17Hmov[m[30m[47m     %[36mal[m[30m[47m, [7m[36mhas[m[30m[47m[36mKey[m[30m[47m     [34m#signal we have a key[m[30m[47m
[36mintHandler1[m[30m[47m:    [36msti[m[30m[47m[21C[34m#renable interrupts[14;17H#stack contains flags[m[30m[47m[15;17H[36mpop[m[30m[47m     %[36max[16;17Hpop[m[30m[47m     %[36mds[17;17Hiret[m[30m[47m[20C[34m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m
[36mgetchar[m[30m[47m:[21;17H[36mpush[m[30m[47m    %[36max[22;17Hmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H114,23-30     72%/has[24;63H[K[24;5H[?25hK[?25l[12;33H[7m[36mK[m[30m[47m[24;63H114,23-30     72%[24;63H[K[24;6H[?25he[?25l[12;34H[7m[36me[m[30m[47m[24;63H114,23-30     72%[24;63H[K[24;7H[?25hy[?25l[12;35H[7m[36my[m[30m[47m[24;63H114,23-30     72%[24;63H[K[24;8H[?25h[?25l[12;30H[36mhasKey[m[30m[47m[24;63H114,23-30     72%[12;30H[?25h[?25l[24;53Hn[12;30H[24;53H[K[24;1H[18;30H[1;23r[1;1H[8M[1;24r[16;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36minChar[m[30m[47m     [34m#mov char read to inChar[m[30m[47m[17;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[18;17Hmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[19;17H[36mpop[m[30m[47m     %[36max[20;17Hret[m[30m[47m

[34m#Write inChar to console        [m[30m[47m
[36mputchar[m[30m[47m:[24;1H[K[24;63H128,12-30     78%[18;30H[?25h[?25l[24;53Hn[18;30H[24;1H/hasKey[24;53H[K[24;1H[18;48H[24;63H128,30-48     78%[18;48H[?25h[?25l[24;53Hn[18;48H[24;53H[K[24;1H[31msearch hit BOTTOM, continuing at TOP[12;1H[27m[23m[29m[m[30m[47m[H[2J[1;1H[36mCOUNT[m[30m[47m[11C=[9C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[7;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mintAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m
[36mchkAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m

[36mmain[m[30m[47m:[17;17H[36mcall[m[30m[47m    [36msetupHandler
main1[m[30m[47m:[19;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[20;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[21;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[22;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H21,1[11C6%[31msearch hit BOTTOM, continuing at TOP[m[30m[47m[24;63H[K[24;63H21,1[11C6%[12;1H[?25h[?25l[24;53Hn[12;1H[24;1H/hasKey[24;8H[K[24;1H[18;25H[1;23r[1;1H[7M[1;24r[17;1H[36mmain2[m[30m[47m:[18;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[19;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[20;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[21;17H[36mcall[m[30m[47m    [36mgetchar
main4[m[30m[47m:[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;1H[K[24;63H34,7-25[7C11%[18;25H[?25h[?25l[24;53Hn[18;25H[24;1H/hasKey[24;53H[K[24;1H[12;30H[27m[23m[29m[m[30m[47m[H[2J[1;17H[36mpush[m[30m[47m    %[36max[2;17Hmov[m[30m[47m     %[36mcs[m[30m[47m, %[36max[m[30m[47m[8C[34m#ensure ds register same as[m[30m[47m[3;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[8C[34m#cs register[m[30m[47m[4;17H[36mpushf[m[30m[47m[19C[34m#save flags[m[30m[47m[5;17H[36mlcall[m[30m[47m   *[36mintAddr[m[30m[47m[8C[34m#call original keyboard handler[m[30m[47m[6;17H[36mmov[m[30m[47m     $[31m0x01[m[30m[47m, %[36mah[m[30m[47m      [34m#setup for keyboard status bios call[m[30m[47m[7;17H[36mpushf[8;17Hlcall[m[30m[47m   *[36mchkAddr[m[30m[47m[8C[34m#call bios interrupt handler[m[30m[47m[9;17H[36mcli[m[30m[47m[21C[34m#disable interrupts[m[30m[47m[10;17H[36mjz[m[30m[47m      [36mintHandler1[m[30m[47m     [34m#no key available[m[30m[47m[11;17H[36mmov[m[30m[47m     $[31m0x1[m[30m[47m, %[36mal[12;17Hmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#signal we have a key[m[30m[47m
[36mintHandler1[m[30m[47m:    [36msti[m[30m[47m[21C[34m#renable interrupts[14;17H#stack contains flags[m[30m[47m[15;17H[36mpop[m[30m[47m     %[36max[16;17Hpop[m[30m[47m     %[36mds[17;17Hiret[m[30m[47m[20C[34m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m
[36mgetchar[m[30m[47m:[21;17H[36mpush[m[30m[47m    %[36max[22;17Hmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H114,23-30     72%[12;30H[?25h[?25l[24;53H~@k[12;30H[24;53H   [11;30H[24;65H3,12[11;30H[?25h[?25l[24;53H~@k[11;30H[24;53H   [10;30H[24;65H2,23[10;30H[?25h[?25l[24;53H~@k[10;30H[24;53H   [9;32H[24;65H1,7-32 [9;32H[?25h[?25l[24;53H~@k[9;32H[24;53H   [8;30H[24;65H0,14-30[8;30H[?25h[?25l[24;53H~@k[8;30H[24;53H   [7;21H[24;64H09,7-21 [7;21H[?25h[?25l[24;53H~@k[7;21H[24;53H   [6;30H[24;65H8,13-30[6;30H[?25h[?25l[24;53H~@k[6;30H[24;53H   [6;30H[1;23r[1;1H[L[1;24r[1;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H107,16-30     71%[6;30H[?25h[?25l[24;53H~@k[6;30H[24;53H   [6;30H[1;23r[1;1H[L[1;24r[1;1H[36mintHandler[m[30m[47m:[24;63H[K[24;63H106,16-30     70%[6;30H[?25h[?25l[24;53H~@k[6;30H[24;53H   [6;30H[1;23r[1;1H[L[1;24r[1;1H[34m#stack contains ret addr + flags[m[30m[47m[24;63H[K[24;63H105,12-30     70%[6;30H[?25h[?25l[24;53H~@k[6;30H[24;53H   [6;30H[1;23r[1;1H[L[1;24r[1;1H[34m#Interrupt handler for keyboard[m[30m[47m[24;63H[K[24;63H104,16-30     69%[6;30H[?25h[?25l[24;53H~@k[6;30H[24;53H   [7;30H[24;65H5,12[7;30H[?25h[?25l[24;64H15,38-59[17;59H[?25h[?25l[1;23r[1;1H[3M[1;24r[21;1H[36mgetchar[m[30m[47m:[22;17H[36mpush[m[30m[47m    %[36max[23;17Hmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[24;63H[K[24;63H119,49-63     71%[18;63H[?25h[?25l[24;65H8,2-16 [17;16H[?25h[?25l[1;23r[1;1H[2L[1;24r[1;1H[34m#stack contains ret addr + flags[m[30m[47m
[36mintHandler[m[30m[47m:[24;63H[K[24;63H105,21-46     70%[6;46H[?25h[?25l[1;23r[1;1H[2M[1;24r[22;17H[36mpush[m[30m[47m    %[36max[23;17Hmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[24;63H[K[24;63H119,25-39     71%[18;39H[?25h[?25l[24;53H:[18;39H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[24;1H[K[24;1H[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ vim block.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"block.s" 78L, 1856C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mmov[m     $[31m0x4c[m,%[36mah[m[7C[34m#specify fn: program exit[m[2;17H[36mmov[m     $[31m0x0[m,%[36mal[m[8C[34m#setup exit status[m[3;17H[36mint[m     $[36mDOS_INT[m[8C[34m#exit program[7;1H#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m
[36mdelay[m:[10C[36mpush[m    %[36max[9;17Hpush[m    %[36mbx[10;17Hpush[m    %[36mcx[11;17Hmov[m     $[36mDELAY_HI[m, %[36mbx
delay1[m:[9C[36mmov[m     $[36mDELAY_LO[m, %[36mcx
delay2[m:[9C[36mmov[m     $[31m0x0f0a0[m, %[36max[14;17Himul[m    %[36mcl[15;17Hdec[m     %[36mcx[16;17Hjnz[m     [36mdelay2[17;17Hdec[m     %[36mbx[18;17Hjnz[m     [36mdelay1[19;17Hpop[m     %[36mcx[20;17Hpop[m     %[36mbx[21;17Hpop[m     %[36max[22;17Hret[m[24;63H78,0-1[8CBot]2;block.s (~/git-repos/i220a_new/work/lab14) - VIM]1;block.s[23;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mmov[m     $[95m0x4c[m,%[1m[96mah[m[7C[96m#specify fn: program exit[m[2;17H[1m[96mmov[m     $[95m0x0[m,%[1m[96mal[m[8C[96m#setup exit status[m[3;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#exit program[7;1H#spin loop for delay time proportional to value in DELAY_HI_DELAY_LO[m
[1m[96mdelay[m:[10C[1m[96mpush[m    %[1m[96max[9;17Hpush[m    %[1m[96mbx[10;17Hpush[m    %[1m[96mcx[11;17Hmov[m     $[1m[96mDELAY_HI[m, %[1m[96mbx
delay1[m:[9C[1m[96mmov[m     $[1m[96mDELAY_LO[m, %[1m[96mcx
delay2[m:[9C[1m[96mmov[m     $[95m0x0f0a0[m, %[1m[96max[14;17Himul[m    %[1m[96mcl[15;17Hdec[m     %[1m[96mcx[16;17Hjnz[m     [1m[96mdelay2[17;17Hdec[m     %[1m[96mbx[18;17Hjnz[m     [1m[96mdelay1[19;17Hpop[m     %[1m[96mcx[20;17Hpop[m     %[1m[96mbx[21;17Hpop[m     %[1m[96max[22;17Hret[m[24;63H78,0-1[8CBot"block.s" 78L, 1856C[23;1H[?25h[?25l[24;53H~@k[23;1H[24;53H   [22;8H[24;64H7,1-8[22;8H[?25h[?25l[24;53H~@k[22;8H[24;53H   [21;8H[24;64H6[21;8H[?25h[?25l[24;53H~@k[21;8H[24;53H   [20;8H[24;64H5[20;8H[?25h[?25l[24;53H~@k[20;8H[24;53H   [19;8H[24;64H4[19;8H[?25h[?25l[24;53H~@k[19;8H[24;53H   [18;8H[24;64H3[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [17;8H[24;64H2[17;8H[?25h[?25l[24;53H~@k[17;8H[24;53H   [16;8H[24;64H1[16;8H[?25h[?25l[24;53H~@k[16;8H[24;53H   [15;8H[24;64H0[15;8H[?25h[?25l[24;53H~@k[15;8H[24;53H   [14;8H[24;63H69[14;8H[?25h[?25l[24;53H~@k[14;8H[24;53H   [13;8H[24;64H8,8  [13;8H[?25h[?25l[24;53H~@k[13;8H[24;53H   [12;8H[24;64H7[12;8H[?25h[?25l[24;53H~@k[12;8H[24;53H   [11;8H[24;64H6,1-8[11;8H[?25h[?25l[24;53H~@k[11;8H[24;53H   [10;8H[24;64H5[10;8H[?25h[?25l[24;53H~@k[10;8H[24;53H   [9;8H[24;64H4[9;8H[?25h[?25l[24;53H~@k[9;8H[24;53H   [8;8H[24;64H3,7[8;8H[?25h[?25l[24;53H~@k[8;8H[24;53H   [7;8H[24;64H2,8  [7;8H[?25h[?25l[24;53H~@k[7;8H[24;53H   [6;1H[24;64H1,0-1[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mexit[m:[24;1H[K[24;63H60,1-8[8C98%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H59,1-8[8C96%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mret[m[24;63H[K[24;63H58,1-8[8C94%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H57,1-8[8C92%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#output inChar[m[24;63H[K[24;63H56,1-8[8C90%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;5H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[24;63H[K[24;63H55,5[10C89%[6;5H[?25h[?25l[24;53H~@k[6;5H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmovb[m    $[95m02,[m%[1m[96mah[m[9C[96m#specify fn: output dl to stdout[m[24;63H[K[24;63H54,0-1[8C87%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H53,1-8[8C85%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mputchar[m:[24;63H[K[24;63H52,1-8[8C83%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[96m#Write inChar to console        [m[24;63H[K[24;63H51,1-8[8C81%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H50,1-8[8C80%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mret[m[24;63H[K[24;63H49,1-8[8C78%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H48,1-8[8C76%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mal[m,[1m[96minChar[m      [96m#mov char read to inChar[m[24;63H[K[24;63H47,8[10C74%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H[K[24;63H46,8[10C72%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x08[m,%[1m[96mah[m[7C[96m#specify fn: read without echo into al[m[24;63H[K[24;63H45,0-1[8C70%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H44,1-8[8C69%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mgetchar[m:[24;63H[K[24;63H43,1-8[8C67%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m[24;63H[K[24;63H42,1-8[8C65%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H41,1-8[8C63%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain3[m:[10C[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H40,1-8[8C61%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H39,1-8[8C60%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H38,8[10C58%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H37,8[10C56%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H36,0-1[8C54%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;63H[K[24;63H35,7-8[8C52%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain2[m:[24;63H[K[24;63H34,1-8[8C50%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H33,1-8[8C49%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H32,8[10C47%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H31,1-8[8C45%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H30,1-8[8C43%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H29,8[10C41%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H28,1-8[8C40%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H27,1-8[8C38%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H26,1-8[8C36%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96minChar[m:[9C[93m.byte[m   [95m0[m[24;63H[K[24;63H25,1-8[8C34%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[96m#data area      [m[24;63H[K[24;63H24,1-8[8C32%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H23,7-8[8C30%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;5H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H22,5[10C29%[6;5H[?25h[?25l[24;53H~@k[6;5H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjmp[m     [1m[96mmain[m[24;63H[K[24;63H21,0-1[8C27%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[96m#Entered at program startup.[m[24;63H[K[24;63H20,8[10C25%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H19,8[10C23%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[1m[96mDELAY_HI[m[8C=[7C[95m0x1[m[24;63H[K[24;63H18,0-1[8C21%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[96m#Changed from 0x2 to 0x1 for delay time[m[24;63H[K[24;63H17,0-1[8C20%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m[24;63H[K[24;63H16,1-8[8C18%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'[24;63H[K[24;63H15,8[10C16%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[1m[96mCOUNT[m[11C=[7C[95m25[m[24;63H[K[24;63H14,0-1[8C14%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[96m# Reduce count of characters echoed on each iteration from 50-25[m[24;63H[K[24;63H13,8[10C12%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mDOS_INT[m[9C=[7C[95m0x21[m[24;63H[K[24;63H12,8[10C10%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[96m#Define constants[m[24;63H[K[24;63H11,8[11C9%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [7;8H[24;64H2[7;8H[?25h[?25l[24;53H~@k[7;8H[24;53H   [8;8H[24;64H3[8;8H[?25h[?25l[24;53H~@k[8;8H[24;53H   [8;9H[24;66H9[8;9H[?25h[?25l[24;53H~@k[8;9H[24;53H   [8;16H[24;66H10-16[8;16H[?25h[?25l[24;53H~@k[8;16H[24;53H   [8;17H[24;67H1-17[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [8;24H[24;67H2-24[8;24H[?25h[?25l[24;53H~@k[8;24H[24;53H   [8;25H[24;67H3-25[8;25H[?25h[?25l[24;53H~@k[8;25H[24;53H   [8;26H[24;67H4-26[8;26H[?25h[?25l[24;53H~@k[8;26H[24;53H   [8;27H[24;67H5-27[8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [7;27H[24;64H2,27   [7;27H[?25h[?25l[24;53H~@k[7;27H[24;53H   [6;27H[24;64H1,15-27[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H10,15-27[7C7%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[93m.code16[m[24;63H[K[24;63H9,19-26[8C5%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [7;27H[24;63H10,15-27[7;27H[?25h[?25l[24;53H~@k[7;27H[24;53H   [6;26H[24;63H9,19-26 [6;26H[?25h[?25l[24;53H:[6;26H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[24;1H[K[24;1H[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ vim p[Kpoll.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"poll.s" 101L, 2502C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mpop[m     %[36max[2;17Hret[m[6;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m
[36mgetchar[m:[8;17H[36mpush[m    %[36max[9;17Hmov[m     $[31m0x08[m,%[36mah[m[7C[34m#specify fn: read without echo into al[m[10;17H[36mint[m     $[36mDOS_INT[m[8C[34m#read stdin into %al[11;17H# Changes: added from main1. So every time char from stdin is ree[12;1Had, checks if q and quits if so[m[13;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[14;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[15;17H[36mmov[m     %[36mal[m,[36minChar[m      [34m#mov char read to inChar[m[16;17H[36mpop[m     %[36max[17;17Hret[m

[34m#Write inChar to console        [m
[36mputchar[m:[21;17H[36mpush[m    %[36max[22;17Hmovb[m    $[31m02,[m%[36mah[m[9C[34m#specify fn: output dl to stdout[m[23;17H[36mmovb[m    [36minChar[m,%[36mdl[m      [34m#char to output[m[24;63H62,97-111     64%]2;poll.s (~/git-repos/i220a_new/work/lab14) - VIM]1;poll.s[12;31H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mpop[m     %[1m[96max[2;17Hret[m[6;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[8;17H[1m[96mpush[m    %[1m[96max[9;17Hmov[m     $[95m0x08[m,%[1m[96mah[m[7C[96m#specify fn: read without echo into al[m[10;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[11;17H# Changes: added from main1. So every time char from stdin is ree[12;1Had, checks if q and quits if so[m[13;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[14;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[15;17H[1m[96mmov[m     %[1m[96mal[m,[1m[96minChar[m      [96m#mov char read to inChar[m[16;17H[1m[96mpop[m     %[1m[96max[17;17Hret[m

[96m#Write inChar to console        [m
[1m[96mputchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmovb[m    $[95m02,[m%[1m[96mah[m[9C[96m#specify fn: output dl to stdout[m[23;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[24;63H62,97-111     64%"poll.s" 101L, 2502C[12;31H[?25h[?25l[24;53H~@k[12;31H[24;53H   [10;60H[24;64H1,46-60 [10;60H[?25h[?25l[24;53H~@k[10;60H[24;53H   [9;60H[24;64H0[9;60H[?25h[?25l[24;53H~@k[9;60H[24;53H   [8;27H[24;63H59,10-27[8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [7;8H[24;64H8,8    [7;8H[?25h[?25l[24;53H~@k[7;8H[24;53H   [6;51H[24;64H7,51[6;51H[?25h[?25l[24;53H~@k[6;51H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#0 iff no key pressed[m[24;1H[K[24;63H56,0-1[8C63%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [7;51H[24;64H7,51 [7;51H[?25h[?25l[24;53H~@k[7;51H[24;53H   [8;8H[24;64H8,8 [8;8H[?25h[?25l[24;53H~@k[8;8H[24;53H   [9;27H[24;64H9,10-27[9;27H[?25h[?25l[24;53H~@k[9;27H[24;53H   [10;60H[24;63H60,46-60[10;60H[?25h[?25l[24;53H~@k[10;60H[24;53H   [11;60H[24;64H1[11;60H[?25h[?25l[24;53H~@k[11;60H[24;53H   [12;60H[24;64H2[12;60H[?25h[?25l[24;53H~@k[12;60H[24;53H   [14;60H[24;64H3,37[14;60H[?25h[?25l[24;53H~@k[14;60H[24;53H   [15;60H[24;64H4,32[15;60H[?25h[?25l[24;53H~@k[15;60H[24;53H   [14;60H[24;64H3,37[14;60H[?25h[?25l[24;53H~@k[14;60H[24;53H   [15;60H[24;64H4,32[15;60H[?25h[?25l[24;53H~@k[15;60H[24;53H   [16;60H[24;64H5,46[16;60H[?25h[?25l[24;53H~@k[16;60H[24;53H   [17;27H[24;64H6,9-27 [17;27H[?25h[?25l[24;53H~@k[17;27H[24;53H   [18;19H[24;64H7,5-19[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmovb[m    [1m[96minChar[m,%[1m[96mdl[m      [96m#char to output[m[24;63H[K[24;63H68,0-1[8C64%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;32H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#output inChar[m[24;63H[K[24;63H69,25-32      65%[18;32H[?25h[?25l[24;53H~@k[18;32H[24;53H   [17;1H[24;64H8,0-1  [17;1H[?25h[?25l[24;53H~@k[17;1H[24;53H   [16;19H[24;64H7,5-19[16;19H[?25h[?25l[24;53H~@k[16;19H[24;53H   [15;27H[24;64H6,9-27[15;27H[?25h[?25l[24;53H:[15;27H[24;53H[K[24;1H:[?2004h[?25h [?25l[15;27H[24;63H66,9-27[7C65%[15;27H[?25h[?25l[24;53H:[15;27H[24;53H[K[24;1H:[?2004h[?25h [?25l[15;27H[24;63H66,9-27[7C65%[15;27H[?25h[?25l[24;53H:[15;27H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[24;1H[K[24;1H[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ dis[K[K[Kdis[K[Kosbox &
[4] 8396
[3]   Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
amchugh2@g7-37:~/i220a_new/work/lab14$ vim key-int.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.s" 164L, 4346C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mmov[m     $[31m0x01[m, %[36mah[m      [34m#setup for keyboard status bios call[m[2;17H[36mpushf[3;17Hlcall[m   *[36mchkAddr[m[8C[34m#call bios interrupt handler[m[4;17H[36mcli[m[21C[34m#disable interrupts[m[5;17H[36mjz[m      [36mintHandler1[m     [34m#no key available[m[6;17H[36mmov[m     $[31m0x1[m, %[36mal[7;17Hmov[m     %[36mal[m, [36mhasKey[m     [34m#signal we have a key[m
[36mintHandler1[m:    [36msti[m[21C[34m#renable interrupts[9;17H#stack contains flags[m[10;17H[36mpop[m     %[36max[11;17Hpop[m     %[36mds[12;17Hiret[m[20C[34m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[36mgetchar[m:[16;17H[36mpush[m    %[36max[17;17Hmov[m     $[31m0x08[m, %[36mah[m      [34m#setup input function[m[18;17H[36mint[m     $[36mDOS_INT[m[8C[34m#read stdin into %al[m[19;17H[36mmov[m     %[36mal[m, [36minChar[m     [34m#mov char read to inChar[m[20;17H[36mxor[m     %[36mal[m, %[36mal[21;17Hmov[m     %[36mal[m, [36mhasKey[m     [34m#reset hasKey flag[m[22;17H[36mpop[m     %[36max[23;17Hret[m[24;63H119,25-39     75%]2;key-int.s (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[12;39H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[2;17H[1m[96mpushf[3;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[4;17H[1m[96mcli[m[21C[96m#disable interrupts[m[5;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[6;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[7;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[9;17H#stack contains flags[m[10;17H[1m[96mpop[m     %[1m[96max[11;17Hpop[m     %[1m[96mds[12;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[16;17H[1m[96mpush[m    %[1m[96max[17;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[18;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[19;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96minChar[m     [96m#mov char read to inChar[m[20;17H[1m[96mxor[m     %[1m[96mal[m, %[1m[96mal[21;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#reset hasKey flag[m[22;17H[1m[96mpop[m     %[1m[96max[23;17Hret[m[24;63H119,25-39     75%"key-int.s" 164L, 4346C[12;39H[?25h[?25l[24;53H/[12;39H[24;1H[K[24;1H/[?2004h[?25hh[?25l[12;72H[7m[96mh[m[24;63H119,58-72     75%[24;63H[K[24;3H[?25ha[?25l[12;73H[7m[96ma[m[24;63H119,58-72     75%[24;63H[K[24;4H[?25hs[?25l[1;23r[1;1H[3M[1;24r[9;72H[96mha[m[18;30H[1m[7m[96mhas[m[1m[96mKey[m [22;1H[96m#Write inChar to console        [m
[1m[96mputchar[m:[24;1H[K[24;63H128,12-30     78%/has[24;63H[K[24;5H[?25hK[?25l[18;33H[1m[7m[96mK[m[1m[96mey[m [24;63H128,12-30     78%[24;63H[K[24;6H[?25he[?25l[18;34H[1m[7m[96me[m[1m[96my[m [24;63H128,12-30     78%[24;63H[K[24;7H[?25hy[?25l[18;35H[1m[7m[96my[m [24;63H128,12-30     78%[24;63H[K[24;8H[?25h[?25l[24;7H[K[18;35H[1m[96my[m [24;63H128,12-30     78%[24;63H[K[24;7H[?25h[?25l[24;6H[K[18;34H[1m[96mey[m [24;63H128,12-30     78%[24;63H[K[24;6H[?25h[?25l[24;5H[K[18;33H[1m[96mKey[m [24;63H128,12-30     78%[24;63H[K[24;5H[?25h[?25l[24;4H[K[1;23r[1;1H[3L[1;24r[1;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[2;17H[1m[96mpushf[3;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[12;72H[7m[96mha[m[21;30H[1m[96mhasKey[m [24;1H[K[24;63H119,58-72     75%/ha[24;63H[K[24;4H[?25h[?25l[24;3H[K[12;73H[96ma[m[24;63H119,58-72     75%[24;63H[K[24;3H[?25h[?25l[24;2H[K[12;72H[96mh[m[24;63H119,25-39     75%[24;63H[K[24;2H[?25h [?25l[12;39H[24;63H119,25-39     75%[12;39H[?25h[?25l[24;53H~@k[12;39H[24;53H   [13;1H[24;64H20,0-1  [13;1H[?25h[?25l[24;53H~@k[13;1H[24;53H   [12;39H[24;64H19,25-39[12;39H[?25h[?25l[24;53H~@k[12;39H[24;53H   [11;27H[24;65H8,9-27 [11;27H[?25h[?25l[24;53H~@k[11;27H[24;53H   [10;27H[24;65H7,10-27[10;27H[?25h[?25l[24;53H~@k[10;27H[24;53H   [9;37H[24;65H6,23-3[9;37H[?25h[?25l[24;53H~@k[9;37H[24;53H   [8;40H[24;65H5,19-40[8;40H[?25h[?25l[24;53H~@k[8;40H[24;53H   [7;39H[24;65H4,32-39[7;39H[?25h[?25l[24;53H~@k[7;39H[24;53H   [6;33H[24;65H3,15-33[6;33H[?25h[?25l[24;53H~@k[6;33H[24;53H   [6;39H[1;23r[1;1H[L[1;24r[1;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[24;63H[K[24;63H112,32-39     75%[6;39H[?25h[?25l[24;53H~@k[6;39H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpushf[m[19C[96m#save flags[m[24;63H[K[24;63H111,8-40      74%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[24;63H[K[24;63H110,17-40     73%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;21H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[24;63H[K[24;63H109,7-21      73%[6;21H[?25h[?25l[24;53H~@k[6;21H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H108,18-40     72%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mds[m[24;63H[K[24;63H107,19-40     71%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;39H[1;23r[1;1H[L[1;24r[1;1H[1m[96mintHandler[m:[24;63H[K[24;63H106,25-39     70%[6;39H[?25h[?25l[24;53H~@k[6;39H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;1H[96m#stack contains ret addr + flags[m[24;63H[K[24;63H105,15-40     70%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;1H[96m#Interrupt handler for keyboard[m[24;63H[K[24;63H104,19-40     69%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H103,13-27     68%[6;27H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[96m#Read next char from stdin into inChar.  Quit if ^C[m[24;63H[K[24;63H116,2-16      69%[18;16H[?25h[?25l[24;53H/[18;16H[24;53H[K[24;1H/[?2004h[?25hC[?25l[1;23r[1;1H[5M[1;24r[18;35H[7m[96mC[m
[1m[96mgetchar[m:[20;17H[1m[96mpush[m    %[1m[96max[21;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[22;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[23;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96minChar[m     [96m#mov char read to inChar[m[24;1H[K[24;63H121,35[8C73%/C[24;63H[K[24;3H[?25ho[?25l[1;23r[1;1H[5L[1;24r[1;1H[96m#Interrupt handler for keyboard
#stack contains ret addr + flags[m
[1m[96mintHandler[m:[4;17H[1m[96mpush[m    %[1m[96mds[5;17Hpush[m    %[1m[96max[m[23;35H[96mC[m[24;1H[K[24;63H116,2-9[7C69%/Co[24;63H[K[24;4H[?25hu[?25l[58C116,2-9[7C69%[24;63H[K[24;5H[?25hn[?25l[57C116,2-9[7C69%[24;63H[K[24;6H[?25ht[?25l[56C116,2-9[7C69%[24;63H[K[24;7H[?25h[?25l[24;6H[K[24;63H116,2-9[7C69%[24;63H[K[24;6H[?25h[?25l[24;5H[K[24;63H116,2-9[7C69%[24;63H[K[24;5H[?25h[?25l[24;4H[K[24;63H116,2-9[7C69%[24;63H[K[24;4H[?25h[?25l[24;3H[K[1;23r[1;1H[5M[1;24r[18;35H[7m[96mC[m
[1m[96mgetchar[m:[20;17H[1m[96mpush[m    %[1m[96max[21;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[22;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[23;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96minChar[m     [96m#mov char read to inChar[m[24;1H[K[24;63H121,35[8C73%/C[24;63H[K[24;3H[?25hO[?25l[27m[23m[29m[m[H[2J[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m  [96m#use INT 0x21 to generate s/w interrupt to DOS[m
[1m[96mKEY_INT[m[9C=[7C[95m0x9[m   [96m#interrupt vector # for keyboard interrupt[m
[1m[96mCHK_INT[m[9C=[7C[95m0x16[m  [96m#[m
[1m[7m[96mCO[m[1m[96mUNT[m[11C=[9C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m

[96m#Entered at program startup.[m[16;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m[24;63H10,1[10CTop/CO[24;63H[K[24;4H[?25hU[?25l[10;3H[1m[7m[96mU[m[1m[96mNT[m [24;63H10,1[10CTop[24;63H[K[24;5H[?25hN[?25l[10;4H[1m[7m[96mN[m[1m[96mT[m [24;63H10,1[10CTop[24;63H[K[24;6H[?25hT[?25l[10;5H[1m[7m[96mT[m [24;63H10,1[10CTop[24;63H[K[24;7H[?25h[?25l[24;1H[K[18;9H[27m[23m[29m[m[H[2J[1;1H[96m#Interrupt handler for keyboard
#stack contains ret addr + flags[m
[1m[96mintHandler[m:[4;17H[1m[96mpush[m    %[1m[96mds[5;17Hpush[m    %[1m[96max[6;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[7;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[8;17H[1m[96mpushf[m[19C[96m#save flags[m[9;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[10;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[11;17H[1m[96mpushf[12;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[13;17H[1m[96mcli[m[21C[96m#disable interrupts[m[14;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[15;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[16;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[18;17H#stack contains flags[m[19;17H[1m[96mpop[m     %[1m[96max[20;17Hpop[m     %[1m[96mds[21;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m[24;63H116,2-9[7C69%[18;9H[?25h[?25l[24;53H/[18;9H[24;53H[K[24;1H/[?2004h[?25hc[?25l[18;21H[7m[96mc[m[24;63H116,7-21      69%[24;63H[K[24;3H[?25ho[?25l[18;21H[96mc[m[2C[7m[96mco[m[24;63H116,10-24     69%[24;63H[K[24;4H[?25hu[?25l[27m[23m[29m[m[H[2J[1;1H[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m

[1m[96mmain[m:[6;17H[1m[96mcall[m    [1m[96msetupHandler
main1[m:[8;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[9;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[10;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[11;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[12;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output [m[7m[96mcou[m[96mnter[m
[1m[96mmain2[m:[14;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[15;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[16;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[17;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[19;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[20;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[21;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[22;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H32,39-53      14%/cou[24;63H[K[24;5H[?25h[?25l[24;4H[K[27m[23m[29m[m[H[2J[1;1H[96m#Interrupt handler for keyboard
#stack contains ret addr + flags[m
[1m[96mintHandler[m:[4;17H[1m[96mpush[m    %[1m[96mds[5;17Hpush[m    %[1m[96max[6;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[7;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[8;17H[1m[96mpushf[m[19C[96m#save flags[m[9;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[10;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[11;17H[1m[96mpushf[12;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[13;17H[1m[96mcli[m[21C[96m#disable interrupts[m[14;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[15;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[16;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[18;17H#stack [m[7m[96mco[m[96mntains flags[m[19;17H[1m[96mpop[m     %[1m[96max[20;17Hpop[m     %[1m[96mds[21;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m[24;63H116,10-24     69%/co[24;63H[K[24;4H[?25h[?25l[24;3H[K[18;21H[7m[96mc[m[2C[96mco[m[24;63H116,7-21      69%[24;63H[K[24;3H[?25h[?25l[24;2H[K[18;21H[96mc[m[24;63H116,2-9[7C69%[24;63H[K[24;2H[?25hC[?25l[1;23r[1;1H[5M[1;24r[18;35H[7m[96mC[m
[1m[96mgetchar[m:[20;17H[1m[96mpush[m    %[1m[96max[21;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[22;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[23;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96minChar[m     [96m#mov char read to inChar[m[24;1H[K[24;63H121,35[8C73%/C[24;63H[K[24;3H[?25hO[?25l[27m[23m[29m[m[H[2J[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m  [96m#use INT 0x21 to generate s/w interrupt to DOS[m
[1m[96mKEY_INT[m[9C=[7C[95m0x9[m   [96m#interrupt vector # for keyboard interrupt[m
[1m[96mCHK_INT[m[9C=[7C[95m0x16[m  [96m#[m
[1m[7m[96mCO[m[1m[96mUNT[m[11C=[9C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m

[96m#Entered at program startup.[m[16;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m[24;63H10,1[10CTop/CO[24;63H[K[24;4H[?25hU[?25l[10;3H[1m[7m[96mU[m[1m[96mNT[m [24;63H10,1[10CTop[24;63H[K[24;5H[?25hN[?25l[10;4H[1m[7m[96mN[m[1m[96mT[m [24;63H10,1[10CTop[24;63H[K[24;6H[?25hT[?25l[10;5H[1m[7m[96mT[m [24;63H10,1[10CTop[24;63H[K[24;7H[?25h[?25l[38;5;224msearch hit BOTTOM, continuing at TOP[10;1H[m[1m[96mCOUNT[m [24;63H10,1[10CTop[24;63H[K[24;63H10,1[10CTop[10;1H[?25h[?25l[24;53HN[10;1H[24;1H?COUNT[24;7H[K[24;1H[38;5;224msearch hit TOP, continuing at BOTTOM[18;26H[1;23r[m[1;1H[14M[1;24r[11;1H[1m[96mmain[m:[12;17H[1m[96mcall[m    [1m[96msetupHandler
main1[m:[14;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[15;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[16;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[17;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[18;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[20;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[21;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[22;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[23;17H[1m[96mcall[m    [1m[96mgetchar[m[24;1H[K[24;63H32,12-26[7C9%[38;5;224msearch hit TOP, continuing at BOTTOM[m[24;63H[K[24;63H32,12-26[7C9%[18;26H[?25h[?25l[24;53HN[18;26H[24;1H?COUNT[24;7H[K[24;1H[10;1H[1;23r[1;1H[14L[1;24r[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m  [96m#use INT 0x21 to generate s/w interrupt to DOS[m
[1m[96mKEY_INT[m[9C=[7C[95m0x9[m   [96m#interrupt vector # for keyboard interrupt[m
[1m[96mCHK_INT[m[9C=[7C[95m0x16[m  [96m#[m
[1m[96mCOUNT[m[11C=[9C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m[24;1H[K[24;63H10,1[10CTop[10;1H[?25h[?25l[24;53H~@k[10;1H[24;53H   [9;1H[24;63H9,1 [9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [8;1H[24;63H8[8;1H[?25h[?25l[24;53H~@k[8;1H[24;53H   [7;1H[24;63H7[7;1H[?25h[?25l[24;53H~@k[7;1H[24;53H   [6;1H[24;63H6[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [5;1H[24;63H5,0-1[5;1H[?25h[?25l[24;53H~@k[5;1H[24;53H   [6;1H[24;63H6,1  [6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [7;1H[24;63H7[7;1H[?25h[?25l[24;53H~@k[7;1H[24;53H   [8;1H[24;63H8[8;1H[?25h[?25l[24;53H~@k[8;1H[24;53H   [9;1H[24;63H9[9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [10;1H[24;63H10,1[10;1H[?25h[?25l[24;53H~@k[10;1H[24;53H   [11;1H[24;64H1[11;1H[?25h[?25l[24;53H~@k[11;1H[24;53H   [12;1H[24;64H2[12;1H[?25h[?25l[24;53H~@k[12;1H[24;53H   [13;1H[24;64H3[13;1H[?25h[?25l[24;53H~@k[13;1H[24;53H   [14;1H[24;64H4,0-1[14;1H[?25h[?25l[24;53H~@k[14;1H[24;53H   [15;1H[24;64H5,1  [15;1H[?25h[?25l[24;53H~@k[15;1H[24;53H   [16;8H[24;64H6,1-8[16;8H[?25h[?25l[24;53H~@k[16;8H[24;53H   [17;1H[24;64H7,0-1[17;1H[?25h[?25l[24;53H~@k[17;1H[24;53H   [18;1H[24;64H8[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[24;63H[K[24;63H19,1[11C0%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain[m:[24;63H[K[24;63H20,1[11C1%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96msetupHandler[m[24;63H[K[24;63H21,1[11C2%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain1[m:[24;63H[K[24;63H22,1[11C2%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H23,1[11C3%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H24,0-1[9C4%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H25,1[11C4%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H26,1-8[9C5%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H27,1[11C6%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain2[m:[24;63H[K[24;63H28,1-8[9C7%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[24;63H[K[24;63H29,1-8[9C7%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[24;63H[K[24;63H30,1-8[9C8%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[24;63H[K[24;63H31,1-8[9C9%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mgetchar[m[24;63H[K[24;63H32,1-8[9C9%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain4[m:[24;63H[K[24;63H33,1[10C10%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;63H[K[24;63H34,1-8[8C11%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H35,1-8[8C12%[18;8H[?25h[?25l[24;64H0,11-29[13;29H[?25h[?25l[24;53H~@k[13;29H[24;53H   [12;29H[24;63H29[12;29H[?25h[?25l[24;53H~@k[12;29H[24;53H   [13;29H[24;63H30[13;29H[?25h[?25l[24;53H~@k[13;29H[24;53H   [12;29H[24;63H29[12;29H[?25h[?25l[24;53H~@k[12;29H[24;53H   [13;29H[24;63H30[13;29H[?25h[?25l[24;53H~@k[13;29H[24;53H   [14;29H[24;64H1,10[14;29H[?25h[?25l[24;53H~@k[14;29H[24;53H   [15;29H[24;64H2,15[15;29H[?25h[?25l[24;53H~@k[15;29H[24;53H   [16;6H[24;64H3,6    [16;6H[?25h[?25l[24;53H~@k[16;6H[24;53H   [17;29H[24;64H4,11-29[17;29H[?25h[?25l[24;53H~@k[17;29H[24;53H   [18;29H[24;64H5,12[18;29H[?25h[?25l[24;53H~@k[18;29H[24;53H   [18;29H[1;23r[23;1H
[1;24r[23;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H36,17-29      12%[18;29H[?25h[?25l[24;53H~@k[18;29H[24;53H   [18;29H[1;23r[23;1H
[1;24r[23;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H37,12-29      13%[18;29H[?25h[?25l[24;53H~@k[18;29H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H38,7-8[8C14%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;29H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[24;63H[K[24;63H39,22-29      14%[18;29H[?25h[?25l[24;53H~@k[18;29H[24;53H   [18;29H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mresetHandler[m[24;63H[K[24;63H40,15-29      15%[18;29H[?25h[?25l[24;63H37,14-31[15;31H[?25h[?25l[24;53H~@k[15;31H[24;53H   [16;8H[24;64H8,7-8  [16;8H[?25h[?25l[24;53H~@k[16;8H[24;53H   [17;45H[24;64H9,38-45[17;45H[?25h[?25l[24;53H~@k[17;45H[24;53H   [18;45H[24;63H40,31[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H41,41-45      16%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[24;63H[K[24;63H42,31-45      17%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;1H[96m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[24;63H[K[24;63H43,31-45      17%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;1H[96m#and address of bios interrupt handler in chkAddr.[m[24;63H[K[24;63H44,6[10C18%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;36H[1;23r[23;1H
[1;24r[23;1H[96m#Point keyboard interrupt to intHandler [m[24;63H[K[24;63H45,22-36      19%[18;36H[?25h[?25l[24;53H~@k[18;36H[24;53H   [18;28H[1;23r[23;1H
[1;24r[23;1H[1m[96msetupHandler[m:[24;63H[K[24;63H46,11-28      19%[18;28H[?25h[?25l[24;53H~@k[18;28H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H47,0-1[8C20%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mbx[m[24;63H[K[24;63H48,45[9C21%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H49,45[9C21%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;40H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mes[m[24;63H[K[24;63H50,40[9C22%[18;40H[?25h[?25l[24;53H~@k[18;40H[24;53H   [18;13H[1;23r[23;1H
[1;24r[24;63H[K[24;63H51,13[9C23%[18;13H[?25h[?25l[24;53H~@k[18;13H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[96m#save address of handler for CHK_INT in chkAddr[m[24;63H[K[24;63H52,10-27      24%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mCHK_INT[m, %[1m[96mal[m   [96m#int vec for checking keyboard buf[m[24;63H[K[24;63H53,10-27      24%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H54,10-27      25%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H55,10-27      26%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mchkAddr[m    [96m#save old int vector [m[24;63H[K[24;63H56,0-1[8C26%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mchkAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H57,38-45      27%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[24;63H[K[24;63H58,27-45      28%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[96m#save address of handler for KEY_INT in intAddr[m[24;63H[K[24;63H59,27-45      29%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#int vec for reading keyboard[m[24;63H[K[24;63H60,20-45      29%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H61,31-45      30%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H62,31-45      31%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[24;63H[K[24;63H63,0-1[8C31%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H64,38-45      32%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[24;63H[K[24;63H65,27-45      33%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[96m#set address of keyboard interrupt handler to intHandler[m[24;63H[K[24;63H66,27-45      34%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[24;63H[K[24;63H67,20-45      34%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m      [96m#specify fn to write int vec from dx[m[24;63H[K[24;63H68,31-45      35%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mintHandler[m, %[1m[96mdx[m[96m#point dx to new int handler[m[24;63H[K[24;63H69,31-45      36%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[24;63H[K[24;63H70,0-1[8C36%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96mes[m[24;63H[K[24;63H71,38-45      37%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96mdx[m[24;63H[K[24;63H72,27-45      38%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96mbx[m[24;63H[K[24;63H73,27-45      39%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H74,31-45      39%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mret[m[24;63H[K[24;63H75,31-45      40%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;27H[1;23r[23;1H
[1;24r[24;63H[K[24;63H76,9-27[7C41%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;1H[96m#Cleanup keyboard interrupt handler: restore to original value saved[m[24;63H[K[24;63H77,9-27[7C41%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;1H[96m#in intAddr.[m[24;63H[K[24;63H78,9-27[7C42%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;1H[1m[96mresetHandler[m:[24;63H[K[24;63H79,9-27[7C43%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;19H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H80,5-19[7C43%[18;19H[?25h[?25l[24;53H~@k[18;19H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H81,0-1[8C44%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;45H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mds[m[24;63H[K[24;63H82,45[9C45%[18;45H[?25h[?25l[24;53H~@k[18;45H[24;53H   [18;12H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m[24;63H[K[24;63H83,12[9C46%[18;12H[?25h[?25l[24;53H~@k[18;12H[24;53H   [18;13H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m[24;63H[K[24;63H84,13[9C46%[18;13H[?25h[?25l[24;53H~@k[18;13H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     [1m[96mintAddr[m, %[1m[96mdx[m[24;63H[K[24;63H85,10-27      47%[18;27H[?25h[?25l[24;53H/[18;27H[24;53H[K[24;1H/[?2004h[?25hH[?25l[1;23r[1;1H[16M[1;24r[8;17H[1m[96mmov[m     [1m[96mintAddr[m + [95m2[m, %[1m[96max[9;17Hmov[m     %[1m[96max[m, %[1m[96mds[10;17Hint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[11;17H[1m[96mpop[m     %[1m[96mds[12;17Hpop[m     %[1m[96mdx[13;17Hpop[m     %[1m[96max[14;17Hret[m

[96m#Interrupt handler for keyboard
#stack contains ret addr + flags[m
[1m[96mint[m[1m[7m[96mH[m[1m[96mandler[m:[19;17H[1m[96mpush[m    %[1m[96mds[20;17Hpush[m    %[1m[96max[21;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[22;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[23;17H[1m[96mpushf[m[19C[96m#save flags[m[24;1H[K[24;63H101,4[9C58%/H[24;63H[K[24;3H[?25hA[?25l[1;23r[1;1H[16L[1;24r[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[2;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[4;17H#set address of keyboard interrupt handler to intHandler[m[5;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[6;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m      [96m#specify fn to write int vec from dx[m[7;17H[1m[96mmov[m     $[1m[96mintHandler[m, %[1m[96mdx[m[96m#point dx to new int handler[m[8;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[9;17H[1m[96mpop[m     %[1m[96mes[10;17Hpop[m     %[1m[96mdx[11;17Hpop[m     %[1m[96mbx[12;17Hpop[m     %[1m[96max[13;17Hret[m

[96m#Cleanup keyboard interrupt handler: restore to original value saved
#in intAddr.[m[24;1H[K[24;63H85,10-27      47%/HA[24;63H[K[24;4H[?25hS[?25l[58C85,10-27      47%[24;63H[K[24;5H[?25hK[?25l[57C85,10-27      47%[24;63H[K[24;6H[?25hE[?25l[56C85,10-27      47%[24;63H[K[24;7H[?25hY[?25l[55C85,10-27      47%[24;63H[K[24;8H[?25hT[?25l[54C85,10-27      47%[24;63H[K[24;9H[?25h[?25l[24;8H[K[24;63H85,10-27      47%[24;63H[K[24;8H[?25h[?25l[24;7H[K[24;63H85,10-27      47%[24;63H[K[24;7H[?25h[?25l[24;6H[K[24;63H85,10-27      47%[24;63H[K[24;6H[?25h[?25l[24;5H[K[24;63H85,10-27      47%[24;63H[K[24;5H[?25h[?25l[24;4H[K[24;63H85,10-27      47%[24;63H[K[24;4H[?25h[?25l[24;3H[K[1;23r[1;1H[16M[1;24r[8;17H[1m[96mmov[m     [1m[96mintAddr[m + [95m2[m, %[1m[96max[9;17Hmov[m     %[1m[96max[m, %[1m[96mds[10;17Hint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[11;17H[1m[96mpop[m     %[1m[96mds[12;17Hpop[m     %[1m[96mdx[13;17Hpop[m     %[1m[96max[14;17Hret[m

[96m#Interrupt handler for keyboard
#stack contains ret addr + flags[m
[1m[96mint[m[1m[7m[96mH[m[1m[96mandler[m:[19;17H[1m[96mpush[m    %[1m[96mds[20;17Hpush[m    %[1m[96max[21;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[22;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[23;17H[1m[96mpushf[m[19C[96m#save flags[m[24;1H[K[24;63H101,4[9C58%/H[24;63H[K[24;3H[?25h[?25l[24;2H[K[1;23r[1;1H[16L[1;24r[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[2;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[4;17H#set address of keyboard interrupt handler to intHandler[m[5;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[6;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m      [96m#specify fn to write int vec from dx[m[7;17H[1m[96mmov[m     $[1m[96mintHandler[m, %[1m[96mdx[m[96m#point dx to new int handler[m[8;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[9;17H[1m[96mpop[m     %[1m[96mes[10;17Hpop[m     %[1m[96mdx[11;17Hpop[m     %[1m[96mbx[12;17Hpop[m     %[1m[96max[13;17Hret[m

[96m#Cleanup keyboard interrupt handler: restore to original value saved
#in intAddr.[m[24;1H[K[24;63H85,10-27      47%/[24;63H[K[24;2H[?25hh[?25l[1;23r[23;1H
[1;24r[18;20H[1m[7m[96mh[m [23;17H[1m[96mmov[m     [1m[96mintAddr[m + [95m2[m, %[1m[96max[m[24;1H[K[24;63H86,6-20[7C48%/h[24;63H[K[24;3H[?25ha[?25l[1;23r[1;1H[13M[1;24r[5;20H[1m[96mh[m [11;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[12;17Hint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[13;17H[1m[96mpop[m     %[1m[96mds[14;17Hpop[m     %[1m[96mdx[15;17Hpop[m     %[1m[96max[16;17Hret[m

[96m#Interrupt [m[7m[96mha[m[96mndler for keyboard
#stack contains ret addr + flags[m
[1m[96mintHandler[m:[21;17H[1m[96mpush[m    %[1m[96mds[22;17Hpush[m    %[1m[96max[23;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[24;1H[K[24;63H99,12[9C57%/ha[24;63H[K[24;4H[?25hs[?25l[27m[23m[29m[m[H[2J[1;17H[1m[96mpush[m    %[1m[96max[2;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[3;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[4;17H[1m[96mpushf[m[19C[96m#save flags[m[5;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[6;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[7;17H[1m[96mpushf[8;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[9;17H[1m[96mcli[m[21C[96m#disable interrupts[m[10;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[11;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[12;17Hmov[m     %[1m[96mal[m, [1m[7m[96mhas[m[1m[96mKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[14;17H#stack contains flags[m[15;17H[1m[96mpop[m     %[1m[96max[16;17Hpop[m     %[1m[96mds[17;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H114,23-30     72%/has[24;63H[K[24;5H[?25hK[?25l[12;33H[1m[7m[96mK[m[1m[96mey[m [24;63H114,23-30     72%[24;63H[K[24;6H[?25he[?25l[12;34H[1m[7m[96me[m[1m[96my[m [24;63H114,23-30     72%[24;63H[K[24;7H[?25hy[?25l[12;35H[1m[7m[96my[m [24;63H114,23-30     72%[24;63H[K[24;8H[?25h[?25l[24;1H[K[18;27H[27m[23m[29m[m[H[2J[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[2;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[4;17H#set address of keyboard interrupt handler to intHandler[m[5;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[6;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m      [96m#specify fn to write int vec from dx[m[7;17H[1m[96mmov[m     $[1m[96mintHandler[m, %[1m[96mdx[m[96m#point dx to new int handler[m[8;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[9;17H[1m[96mpop[m     %[1m[96mes[10;17Hpop[m     %[1m[96mdx[11;17Hpop[m     %[1m[96mbx[12;17Hpop[m     %[1m[96max[13;17Hret[m

[96m#Cleanup keyboard interrupt handler: restore to original value saved
#in intAddr.[m
[1m[96mresetHandler[m:[18;17H[1m[96mpush[m    %[1m[96max[19;17Hpush[m    %[1m[96mdx[20;17Hpush[m    %[1m[96mds[21;17Hmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[22;17Hmov[m     $[95m0x25[m, %[1m[96mah[23;17Hmov[m     [1m[96mintAddr[m, %[1m[96mdx[m[24;63H85,10-27      47%[18;27H[?25h[?25l[24;53Hn[18;27H[24;1H/COUNT[24;53H[K[24;1H[38;5;224msearch hit BOTTOM, continuing at TOP[10;1H[27m[23m[29m[m[H[2J[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m  [96m#use INT 0x21 to generate s/w interrupt to DOS[m
[1m[96mKEY_INT[m[9C=[7C[95m0x9[m   [96m#interrupt vector # for keyboard interrupt[m
[1m[96mCHK_INT[m[9C=[7C[95m0x16[m  [96m#[m
[1m[96mCOUNT[m[11C=[9C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m

[96m#Entered at program startup.[m[16;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m[24;63H10,1[10CTop[38;5;224msearch hit BOTTOM, continuing at TOP[m[24;63H[K[24;63H10,1[10CTop[10;1H[?25h[?25l[24;53Hn[10;1H[24;1H/COUNT[24;7H[K[24;1H[18;26H[1;23r[1;1H[14M[1;24r[11;1H[1m[96mmain[m:[12;17H[1m[96mcall[m    [1m[96msetupHandler
main1[m:[14;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[15;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[16;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[17;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[18;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[20;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[21;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[22;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[23;17H[1m[96mcall[m    [1m[96mgetchar[m[24;1H[K[24;63H32,12-26[7C9%[18;26H[?25h[?25l[24;53Hn[18;26H[24;1H/COUNT[24;53H[K[24;1H[38;5;224msearch hit BOTTOM, continuing at TOP[10;1H[1;23r[m[1;1H[14L[1;24r[1;17H[96m#dos starts all .com programs at this offset[m[2;17H[93m.org[m    [95m0x100[m[4;17H[93m.code16[m

[96m#Define constants[m
[1m[96mDOS_INT[m[9C=[7C[95m0x21[m  [96m#use INT 0x21 to generate s/w interrupt to DOS[m
[1m[96mKEY_INT[m[9C=[7C[95m0x9[m   [96m#interrupt vector # for keyboard interrupt[m
[1m[96mCHK_INT[m[9C=[7C[95m0x16[m  [96m#[m
[1m[96mCOUNT[m[11C=[9C[95m50[m
[1m[96mQUIT[m[12C=[7C'[1m[96mq[m'
[1m[96mDELAY_LO[m[8C=[7C[95m0x0[m
[1m[96mDELAY_HI[m[8C=[7C[95m0x2[m[24;1H[K[24;63H10,1[10CTop[38;5;224msearch hit BOTTOM, continuing at TOP[m[24;63H[K[24;63H10,1[10CTop[10;1H[?25h[?25l[24;53H/[10;1H[24;1H[K[24;1H/[?2004h[?25hh[?25l[1;23r[1;1H[2M[1;24r[18;4H[1m[7m[96mh[m[1m[96mar[m:[23;1H[1m[96mmain[m:[24;1H[K[24;63H20,4[11C1%/h[24;63H[K[24;3H[?25ha[?25l[18;5H[1m[7m[96ma[m[1m[96mr[m:[24;63H20,4[11C1%[24;63H[K[24;4H[?25hs[?25l[1;23r[23;1H
[1;24r[17;4H[1m[96mhar[m:
[1m[7m[96mhas[m[1m[96mKey[m:[23;17H[1m[96mcall[m    [1m[96msetupHandler[m[24;1H[K[24;63H21,1[11C2%/has[24;63H[K[24;5H[?25hK[?25l[18;4H[1m[7m[96mK[m[1m[96mey[m:[24;63H21,1[11C2%[24;63H[K[24;6H[?25he[?25l[18;5H[1m[7m[96me[m[1m[96my[m:[24;63H21,1[11C2%[24;63H[K[24;7H[?25hy[?25l[18;6H[1m[7m[96my[m:[24;63H21,1[11C2%[24;63H[K[24;8H[?25h[?25l[18;1H[1m[96mhasKey[m:[24;63H21,1[11C2%[18;1H[?25h[?25l[24;53Hn[18;1H[24;53H[K[24;1H[18;25H[1;23r[1;1H[13M[1;24r[11;1H[1m[96mmain1[m:[12;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[13;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[14;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[15;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[16;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[18;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[19;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[20;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[21;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[23;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;1H[K[24;63H34,7-25[7C11%[18;25H[?25h[?25l[24;53Hn[18;25H[24;1H/hasKey[24;53H[K[24;1H[12;30H[27m[23m[29m[m[H[2J[1;17H[1m[96mpush[m    %[1m[96max[2;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[3;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[4;17H[1m[96mpushf[m[19C[96m#save flags[m[5;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[6;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[7;17H[1m[96mpushf[8;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[9;17H[1m[96mcli[m[21C[96m#disable interrupts[m[10;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[11;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[12;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[14;17H#stack contains flags[m[15;17H[1m[96mpop[m     %[1m[96max[16;17Hpop[m     %[1m[96mds[17;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H114,23-30     72%[12;30H[?25h[?25l[24;53H~@k[12;30H[24;53H   [12;31H[24;68H4-31[12;31H[?25h[?25l[24;53H~@k[12;31H[24;53H   [12;32H[24;68H5-32[12;32H[?25h[?25l[24;53H~@k[12;32H[24;53H   [12;33H[24;68H6-33[12;33H[?25h[?25l[24;53H~@k[12;33H[24;53H   [12;34H[24;68H7-34[12;34H[?25h[?25l[24;53H~@k[12;34H[24;53H   [13;40H[24;65H5,19-40[13;40H[?25h[?25l[24;53H~@k[13;40H[24;53H   [12;34H[24;65H4,27-34[12;34H[?25h[?25l[24;65H2,46-53[10;53H[?25h[?25l[24;65H3,15-3[11;33H[?25h[?25l[24;65H4,54-61[12;61H[?25h[?25l[24;53H2[12;62H[96m[48;5;242my[m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[12;62H[24;63H114,55-62     72%[12;62H[?25h[?25l[?25h[?25l[24;53H1[12;61H[96my[m[24;68H4-61[12;61H[?25h[?25l[24;53H2[12;60H[1C[96m[48;5;242my[m[24;68H3-60[12;60H[?25h[?25l[24;53H3[12;59H[1C[96m[48;5;242me[m[24;68H2-59[12;59H[?25h[?25l[24;53H7[12;55H[1C[96m[48;5;242m a k[m[24;67H48-55[12;55H[?25h[?25l[24;53H8[12;54H[1C[96m[48;5;242me[m[24;68H7-54[12;54H[?25h[?25l[24;53H10[12;52H[1C[96m[48;5;242mav[m[24;68H5-52[12;52H[?25h[?25l[24;54H2[12;50H[1C[96m[48;5;242m h[m[24;68H3-50[12;50H[?25h[?25l[24;54H3[12;49H[1C[96m[48;5;242me[m[24;68H2-49[12;49H[?25h[?25l[24;54H5[12;47H[1C[96m[48;5;242m w[m[24;68H0-47[12;47H[?25h[?25l[24;54H6[12;46H[1C[96m[48;5;242ml[m[24;67H39-46[12;46H[?25h[?25l[24;54H9[12;43H[1C[96m[48;5;242mgna[m[24;68H6-43[12;43H[?25h[?25l[24;53H21[12;41H[1C[96m[48;5;242msi[m[24;68H4-41[12;41H[?25h[?25l[24;54H2[12;40H [96m[48;5;242m#[m[24;68H3-40[12;40H[?25h[?25l[24;54H4[12;38H [48;5;242m  [m[24;68H1-38[12;38H[?25h[?25l[24;54H5[12;37H [48;5;242m [m[24;68H0-37[12;37H[?25h[?25l[24;54H7[12;35H[1C[48;5;242m  [m[24;67H28-35[12;35H[?25h[?25l[24;53H30[12;32H[1C[1m[96m[48;5;242mKey[m[48;5;242m [m[24;68H5-32[12;32H[?25h[?25l[24;54H1[12;31H[1C[1m[96m[48;5;242msKey[m[48;5;242m [m[24;68H4-31[12;31H[?25h[?25l[24;54H2[12;30H[1C[1m[96m[48;5;242masKey[m[48;5;242m [m[24;68H3-30[12;30H[?25h[?25l[24;54H3[12;29H [1m[96m[48;5;242mhasKey[m[48;5;242m [m[24;68H2-29[12;29H[?25h[?25l[24;54H4[12;28H,[48;5;242m [m[24;68H1-28[12;28H[?25h[?25l[24;54H5[12;27H[1C[48;5;242m,[m[24;68H0-27[12;27H[?25h[?25l[24;53H2 [11;20H [48;5;242m    $[m[95m[48;5;242m0x1[m[48;5;242m, %[m[1m[96m[48;5;242mal[m[48;5;242m 
                [m[1m[96m[48;5;242mmov[m[48;5;242m     %[m[1m[96m[48;5;242mal[m[48;5;242m,[m[24;65H3,6-20 [11;20H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[1C[48;5;242m [m[24;67H5-19[11;19H[?25h[?25l[1C[1m[96m[48;5;242mv[m[48;5;242m [m[24;67H4-18[11;18H[?25h[?25l[1C[1m[96m[48;5;242mov[m[48;5;242m [m[24;67H3-17[11;17H[?25h[?25l[11;9H [48;5;242m       [m[1m[96m[48;5;242mmov[m[48;5;242m [m[24;67H2-9 [11;9H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H3[10;10H [48;5;242m      [m[1m[96m[48;5;242mjz[m[48;5;242m      [m[1m[96m[48;5;242mintHandler1[m[48;5;242m     [m[96m[48;5;242m#no key available[m[48;5;242m 
         [m[24;65H2,3-10[10;10H[?25h[?25l [48;5;242m [m[24;67H2-9 [10;9H[?25h[?25l [48;5;242m        [m[24;67H1  [10;1H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H2[11;1H[10;2H               [1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[10;58H[K[11;1H [24;65H3[11;1H[?25h[?25l[?25h[?25l[?25h[?25l[24;53H [12;43H[11;2H               [1m[96mmov[m     $[95m0x1[m, %[1m[96mal[m[11;34H[K[12;1H                [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;1H[K[24;63H114,36-43     72%[12;43H[?25h[?25l[24;65H9,46-60[17;60H[?25h[?25l[24;53H~@k[17;60H[24;53H   [16;27H[24;65H8,9-27 [16;27H[?25h[?25l[24;53H~@k[16;27H[24;53H   [15;27H[24;65H7,10-27[15;27H[?25h[?25l[24;53H~@k[15;27H[24;53H   [14;37H[24;65H6,23-3[14;37H[?25h[?25l[24;53H~@k[14;37H[24;53H   [13;59H[24;65H5,38-59[13;59H[?25h[?25l[24;53H~@k[13;59H[24;53H   [12;60H[24;65H4,53-60[12;60H[?25h[?25l[24;53H~@k[12;60H[24;53H   [11;33H[24;65H3,15-33[11;33H[?25h[?25l[24;53H~@k[11;33H[24;53H   [10;57H[24;65H2,50-57[10;57H[?25h[?25l[24;53H~@k[10;57H[24;53H   [9;59H[24;65H1,27-59[9;59H[?25h[?25l[24;53H~@k[9;59H[24;53H   [8;60H[24;65H0,37-60[8;60H[?25h[?25l[24;53H~@k[8;60H[24;53H   [7;21H[24;64H09,7-21 [7;21H[?25h[?25l[24;53H~@k[7;21H[24;53H   [6;60H[24;65H8,38-60[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mds[m[24;63H[K[24;63H107,39-60     71%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;51H[1;23r[1;1H[L[1;24r[1;1H[1m[96mintHandler[m:[24;63H[K[24;63H106,37-51     70%[6;51H[?25h[?25l[24;53H~@k[6;51H[24;53H   [6;52H[1;23r[1;1H[L[1;24r[1;1H[96m#stack contains ret addr + flags[m[24;63H[K[24;63H105,27-52     70%[6;52H[?25h[?25l[24;53H~@k[6;52H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;1H[96m#Interrupt handler for keyboard[m[24;63H[K[24;63H104,39-60     69%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H103,13-27     68%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mret[m[24;63H[K[24;63H102,13-27     68%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;11H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H101,11[8C67%[6;11H[?25h[?25l[24;53H~@k[6;11H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mdx[m[24;63H[K[24;63H100,32[8C66%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;31H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mds[m[24;63H[K[24;63H99,31[9C65%[6;31H[?25h[?25l[24;53H~@k[6;31H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[24;63H[K[24;63H98,1-8[8C65%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[24;63H[K[24;63H97,5-19[7C64%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mintAddr[m + [95m2[m, %[1m[96max[m[24;63H[K[24;63H96,9-27[7C63%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mintAddr[m, %[1m[96mdx[m[24;63H[K[24;63H95,9-27[7C63%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m[24;63H[K[24;63H94,9-27[7C62%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m[24;63H[K[24;63H93,46-60      61%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mds[m[24;63H[K[24;63H92,14-32      60%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H91,22-40      60%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;36H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H90,18-36      59%[6;36H[?25h[?25l[24;53H~@k[6;36H[24;53H   [6;34H[1;23r[1;1H[L[1;24r[1;1H[1m[96mresetHandler[m:[24;63H[K[24;63H89,16-34      58%[6;34H[?25h[?25l[24;53H~@k[6;34H[24;53H   [6;37H[1;23r[1;1H[L[1;24r[1;1H[96m#in intAddr.[m[24;63H[K[24;63H88,19-37      58%[6;37H[?25h[?25l[24;53H~@k[6;37H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[96m#Cleanup keyboard interrupt handler: restore to original value saved[m[24;63H[K[24;63H87,10-27      57%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H86,10-27      56%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mret[m[24;63H[K[24;63H85,10-27      56%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;13H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H84,13[9C55%[6;13H[?25h[?25l[24;53H~@k[6;13H[24;53H   [6;12H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mbx[m[24;63H[K[24;63H83,12[9C54%[6;12H[?25h[?25l[24;53H~@k[6;12H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mdx[m[24;63H[K[24;63H82,60[9C53%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mes[m[24;63H[K[24;63H81,0-1[8C53%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;19H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[24;63H[K[24;63H80,5-19[7C52%[6;19H[?25h[?25l[24;53H~@k[6;19H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mintHandler[m, %[1m[96mdx[m[96m#point dx to new int handler[m[24;63H[K[24;63H79,9-27[7C51%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m      [96m#specify fn to write int vec from dx[m[24;63H[K[24;63H78,9-27[7C51%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[24;63H[K[24;63H77,9-27[7C50%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;17H[96m#set address of keyboard interrupt handler to intHandler[m[24;63H[K[24;63H76,9-27[7C49%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H75,46-60      48%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H74,46-60      48%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[24;63H[K[24;63H73,42-60      47%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H72,42-60      46%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H71,53-60      46%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#int vec for reading keyboard[m[24;63H[K[24;63H70,0-1[8C45%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;47H[1;23r[1;1H[L[1;24r[1;17H[96m#save address of handler for KEY_INT in intAddr[m[24;63H[K[24;63H69,33-47      44%[6;47H[?25h[?25l[24;53H~@k[6;47H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H68,46-60      43%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mchkAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H67,35-60      43%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mchkAddr[m    [96m#save old int vector [m[24;63H[K[24;63H66,42-60      42%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H65,42-60      41%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H64,53-60      41%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCHK_INT[m, %[1m[96mal[m   [96m#int vec for checking keyboard buf[m[24;63H[K[24;63H63,0-1[8C40%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;47H[1;23r[1;1H[L[1;24r[1;17H[96m#save address of handler for CHK_INT in chkAddr[m[24;63H[K[24;63H62,33-47      39%[6;47H[?25h[?25l[24;53H~@k[6;47H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H61,46-60      39%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mes[m[24;63H[K[24;63H60,35-60      38%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H59,42-60      37%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mbx[m[24;63H[K[24;63H58,42-60      36%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H57,53-60      36%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[1m[96msetupHandler[m:[24;63H[K[24;63H56,0-1[8C35%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[96m#Point keyboard interrupt to intHandler [m[24;63H[K[24;63H55,10-27      34%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[96m#and address of bios interrupt handler in chkAddr.[m[24;63H[K[24;63H54,10-27      34%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[1;1H[96m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[24;63H[K[24;63H53,10-27      33%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;27H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H52,10-27      32%[6;27H[?25h[?25l[24;53H~@k[6;27H[24;53H   [6;13H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H51,13[9C31%[6;13H[?25h[?25l[24;53H~@k[6;13H[24;53H   [6;40H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mresetHandler[m[24;63H[K[24;63H50,40[9C31%[6;40H[?25h[?25l[24;53H~@k[6;40H[24;53H   [6;50H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain3[m:[24;63H[K[24;63H49,50[9C30%[6;50H[?25h[?25l[24;53H~@k[6;50H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H48,60[9C29%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H47,0-1[8C29%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;28H[1;23r[1;1H[L[1;24r[1;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H46,11-28      28%[6;28H[?25h[?25l[24;53H~@k[6;28H[24;53H   [6;36H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H45,22-36      27%[6;36H[?25h[?25l[24;53H~@k[6;36H[24;53H   [6;6H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;63H[K[24;63H44,6[10C26%[6;6H[?25h[?25l[24;53H~@k[6;6H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain4[m:[24;63H[K[24;63H43,46-60      26%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[24;63H[K[24;63H42,46-60      25%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[24;63H[K[24;63H41,56-60      24%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[24;63H[K[24;63H40,46-60      24%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[24;63H[K[24;63H39,53-60      23%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain2[m:[24;63H[K[24;63H38,7-8[8C22%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;31H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H37,14-31      21%[6;31H[?25h[?25l[24;53H~@k[6;31H[24;53H   [6;53H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H36,41-53      21%[6;53H[?25h[?25l[24;53H~@k[6;53H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H35,36-60      20%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H34,38-60      19%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;6H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H33,6[10C19%[6;6H[?25h[?25l[24;53H~@k[6;6H[24;53H   [6;59H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H32,45-59      18%[6;59H[?25h[?25l[24;53H~@k[6;59H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96msetupHandler[m[24;63H[K[24;63H31,32-60      17%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H30,37-60      17%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H29,38-60      16%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;60H[1;23r[1;1H[L[1;24r[1;1H[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m[24;63H[K[24;63H28,46-60      15%[6;60H[?25h[?25l[24;53H~@k[6;60H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m[24;63H[K[24;63H27,7-8[8C14%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;36H[1;23r[1;1H[L[1;24r[1;1H[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m[24;63H[K[24;63H26,29-36      14%[6;36H[?25h[?25l[24;53H~@k[6;36H[24;53H   [6;5H[1;23r[1;1H[L[1;24r[1;1H[1m[96minChar[m:[9C[93m.byte[m   [95m0[m[24;63H[K[24;63H25,5[10C13%[6;5H[?25h[?25l[24;53H~@k[6;5H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[96m#data area      [m[24;63H[K[24;63H24,0-1[8C12%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;28H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H23,21-28      12%[6;28H[?25h[?25l[24;53H~@k[6;28H[24;53H   [7;1H[24;64H4,0-1  [7;1H[?25h[?25l[24;53H~@k[7;1H[24;53H   [8;5H[24;64H5,5  [8;5H[?25h[?25l[24;53H~@k[8;5H[24;53H   [9;36H[24;64H6,29-36[9;36H[?25h[?25l[24;53H~@k[9;36H[24;53H   [10;8H[24;64H7,7-8  [10;8H[?25h[?25l[24;53H~@k[10;8H[24;53H   [11;60H[24;64H8,46-60[11;60H[?25h[?25l[24;53H~@k[11;60H[24;53H   [12;60H[24;64H9,38[12;60H[?25h[?25l[24;53H~@k[12;60H[24;53H   [13;60H[24;63H30,37[13;60H[?25h[?25l[24;53H~@k[13;60H[24;53H   [14;60H[24;64H1,32[14;60H[?25h[?25l[24;53H~@k[14;60H[24;53H   [15;59H[24;64H2,45-59[15;59H[?25h[?25l[24;53H~@k[15;59H[24;53H   [16;6H[24;64H3,6    [16;6H[?25h[?25l[24;53H~@k[16;6H[24;53H   [17;60H[24;64H4,38-60[17;60H[?25h[?25l[24;53H~@k[17;60H[24;53H   [18;60H[24;64H5,36[18;60H[?25h[?25l[24;53H~@k[18;60H[24;53H   [18;53H[1;23r[23;1H
[1;24r[23;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H36,41-53      12%[18;53H[?25h[?25l[24;53H~@k[18;53H[24;53H   [18;31H[1;23r[23;1H
[1;24r[23;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H37,14-31      13%[18;31H[?25h[?25l[24;53H~@k[18;31H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H38,7-8[8C14%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;60H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[24;63H[K[24;63H39,53-60      14%[18;60H[?25h[?25l[24;53H~@k[18;60H[24;53H   [18;60H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mresetHandler[m[24;63H[K[24;63H40,46-60      15%[18;60H[?25h[?25l[24;53H~@k[18;60H[24;53H   [18;60H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H41,56-60      16%[18;60H[?25h[?25l[24;53H~@k[18;60H[24;53H   [18;60H[1;23r[23;1H
[1;24r[24;63H[K[24;63H42,46-60      17%[18;60H[?25h[?25l[24;53H~@k[18;60H[24;53H   [18;60H[1;23r[23;1H
[1;24r[23;1H[96m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[24;63H[K[24;63H43,46-60      17%[18;60H[?25h[?25l[24;53H~@k[18;60H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;1H[96m#and address of bios interrupt handler in chkAddr.[m[24;63H[K[24;63H44,6[10C18%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;36H[1;23r[23;1H
[1;24r[23;1H[96m#Point keyboard interrupt to intHandler [m[24;63H[K[24;63H45,22-36      19%[18;36H[?25h[?25l[24;53H~@k[18;36H[24;53H   [18;28H[1;23r[23;1H
[1;24r[23;1H[1m[96msetupHandler[m:[24;63H[K[24;63H46,11-28      19%[18;28H[?25h[?25l[24;53H~@k[18;28H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H47,0-1[8C20%[18;1H[?25h[?25l[24;64H3,26-40[14;40H[?25h[?25l[24;66H18-32[14;32H[?25h[?25l[24;53H2[14;31H [48;5;242m [m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[14;31H[24;63H43,17-31      20%[14;31H[?25h[?25l[24;53H3[14;30H [48;5;242m [m[24;67H6-30[14;30H[?25h[?25l[24;53H4[14;29H[1C[48;5;242m [m[24;67H5-29[14;29H[?25h[?25l[24;53H5[14;28H[1C[1m[96m[48;5;242m1[m[48;5;242m [m[24;67H4-28[14;28H[?25h[?25l[24;53H6[14;27H[1C[1m[96m[48;5;242mn1[m[48;5;242m [m[24;67H3-27[14;27H[?25h[?25l[24;53H8[14;25H[1C[1m[96m[48;5;242main1[m[48;5;242m [m[24;67H1-25[14;25H[?25h[?25l[24;53H9[14;24H [1m[96m[48;5;242mmain1[m[48;5;242m [m[24;67H0-24[14;24H[?25h[?25l[24;53H10[14;23H [48;5;242m [m[24;66H9-23 [14;23H[?25h[?25l[24;54H1[14;22H [48;5;242m [m[24;66H8-22[14;22H[?25h[?25l[24;54H3[14;20H [48;5;242m  [m[24;66H6-20[14;20H[?25h[?25l[24;54H4[14;19H[1C[48;5;242m [m[24;66H5-19[14;19H[?25h[?25l[24;54H5[14;18H[1C[1m[96m[48;5;242mp[m[48;5;242m [m[24;66H4-18[14;18H[?25h[?25l[24;54H6[14;17H[1C[1m[96m[48;5;242mmp[m[48;5;242m [m[24;66H3-17[14;17H[?25h[?25l[24;54H7[14;9H [48;5;242m       [m[1m[96m[48;5;242mjmp[m[48;5;242m [m[24;66H2-9 [14;9H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H2 [13;9H [48;5;242m       [m[1m[96m[48;5;242mjnz[m[48;5;242m     [m[1m[96m[48;5;242mmain2[m[48;5;242m           [m[96m[48;5;242m#loop if output counter nonzero[m[48;5;242m 
         [m[24;64H2[13;9H[?25h[?25l [48;5;242m        [m[24;66H1  [13;1H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H [13;8H                [1m[96mjnz[m     [1m[96mmain2[m           [96m#loop if output counter nonzero[m[13;72H[K[14;1H                [1m[96mjmp[m     [1m[96mmain1[m   [24;1H[K[24;63H42,1-8[8C20%[13;8H[?25h[?25l[24;64H4,6  [15;6H[?25h[?25l[24;53H2[15;7H[48;5;242m:[m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[15;7H[24;63H44,7[10C20%[15;7H[?25h[?25l[?25h[?25l[14;43H[1C[96m[48;5;242mck to read next char[m[48;5;242m [m
[1m[96m[48;5;242mmain3[m[48;5;242m:[m[24;64H3,29-43[14;43H[?25h[?25l[1C[96m[48;5;242ma[m[24;67H8-42[14;42H[?25h[?25l[1C[96m[48;5;242mb[m[24;67H7-41[14;41H[?25h[?25l [96m[48;5;242m#[m[24;67H6-40[14;40H[?25h[?25l [48;5;242m [m[24;67H5-39[14;39H[?25h[?25l [48;5;242m [m[24;67H4-38[14;38H[?25h[?25l [48;5;242m [m[24;67H3-37[14;37H[?25h[?25l [48;5;242m [m[24;67H2-36[14;36H[?25h[?25l [48;5;242m [m[24;67H1-35[14;35H[?25h[?25l [48;5;242m [m[24;67H0-34[14;34H[?25h[?25l [48;5;242m [m[24;66H19-33[14;33H[?25h[?25l [48;5;242m   [m[24;67H6-30[14;30H[?25h[?25l[1C[48;5;242m [m[24;67H5-29[14;29H[?25h[?25l[1C[1m[96m[48;5;242m1[m[48;5;242m [m[24;67H4-28[14;28H[?25h[?25l[1C[1m[96m[48;5;242mn1[m[48;5;242m [m[24;67H3-27[14;27H[?25h[?25l[1C[1m[96m[48;5;242min1[m[48;5;242m [m[24;67H2-26[14;26H[?25h[?25l[1C[1m[96m[48;5;242main1[m[48;5;242m [m[24;67H1-25[14;25H[?25h[?25l[24;53H3[13;24H [1m[96m[48;5;242mmain2[m[48;5;242m           [m[96m[48;5;242m#loop if output counter nonzero[m[48;5;242m 
                [m[1m[96m[48;5;242mjmp[m[48;5;242m     [m[1m[96m[48;5;242mmain1[m[48;5;242m [m[24;64H2,10-24[13;24H[?25h[?25l [48;5;242m [m[24;66H9-23 [13;23H[?25h[?25l [48;5;242m [m[24;66H8-22[13;22H[?25h[?25l [48;5;242m [m[24;66H7-21[13;21H[?25h[?25l [48;5;242m [m[24;66H6-20[13;20H[?25h[?25l[1C[48;5;242m [m[24;66H5-19[13;19H[?25h[?25l[1C[1m[96m[48;5;242mz[m[48;5;242m [m[24;66H4-18[13;18H[?25h[?25l[?25h[?25l[24;53H [13;18H[1C[1m[96mz[m     [1m[96mmain2[m           [96m#loop if output counter nonzero[m[13;72H[K[14;1H                [1m[96mjmp[m     [1m[96mmain1[m           [96m#back to read next char[m[14;64H[K[15;1H[1m[96mmain3[m:[24;1H[K[24;63H42,4-18[7C20%[13;18H[?25h[?25l[24;53H~@k[13;18H[24;53H   [14;18H[24;64H3[14;18H[?25h[?25l[24;53H/[14;18H[24;53H[K[24;1H/[?2004h[?25hh[?25l[14;61H[7m[96mh[m[24;63H43,47-61      20%[24;63H[K[24;3H[?25ha[?25l[14;62H[7m[96ma[m[24;63H43,47-61      20%[24;63H[K[24;4H[?25hs[?25l[27m[23m[29m[m[H[2J[1;17H[1m[96mpush[m    %[1m[96max[2;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[3;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[4;17H[1m[96mpushf[m[19C[96m#save flags[m[5;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[6;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[7;17H[1m[96mpushf[8;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[9;17H[1m[96mcli[m[21C[96m#disable interrupts[m[10;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[11;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[12;17Hmov[m     %[1m[96mal[m, [1m[7m[96mhas[m[1m[96mKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[14;17H#stack contains flags[m[15;17H[1m[96mpop[m     %[1m[96max[16;17Hpop[m     %[1m[96mds[17;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H114,23-30     72%/has[24;63H[K[24;5H[?25hk[?25l[27m[23m[29m[m[H[2J[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[2;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[3;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[5;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[6;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[7;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[8;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[10;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[11;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[12;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[13;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[14;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m
[1m[96mmain3[m:[16;17H[1m[96mcall[m    [1m[96mresetHandler[17;17Hcall[m    [1m[96mexit[m

[96m#Save address of current interrupt handler for keyboard interrupt in intAddr
#and address of bios interrupt handler in chkAddr.
#Point keyboard interrupt to intHandler [m
[1m[96msetupHandler[m:[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H43,4-18[7C20%/hask[24;63H[K[24;6H[?25he[?25l[56C43,4-18[7C20%[24;63H[K[24;7H[?25hy[?25l[55C43,4-18[7C20%[24;63H[K[24;8H[?25h[?25l[24;7H[K[24;63H43,4-18[7C20%[24;63H[K[24;7H[?25h[?25l[24;6H[K[24;63H43,4-18[7C20%[24;63H[K[24;6H[?25h[?25l[24;5H[K[27m[23m[29m[m[H[2J[1;17H[1m[96mpush[m    %[1m[96max[2;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[3;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[4;17H[1m[96mpushf[m[19C[96m#save flags[m[5;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[6;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[7;17H[1m[96mpushf[8;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[9;17H[1m[96mcli[m[21C[96m#disable interrupts[m[10;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[11;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[12;17Hmov[m     %[1m[96mal[m, [1m[7m[96mhas[m[1m[96mKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[14;17H#stack contains flags[m[15;17H[1m[96mpop[m     %[1m[96max[16;17Hpop[m     %[1m[96mds[17;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H114,23-30     72%/has[24;63H[K[24;5H[?25hK[?25l[12;33H[1m[7m[96mK[m[1m[96mey[m [24;63H114,23-30     72%[24;63H[K[24;6H[?25he[?25l[12;34H[1m[7m[96me[m[1m[96my[m [24;63H114,23-30     72%[24;63H[K[24;7H[?25ht[?25l[27m[23m[29m[m[H[2J[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[2;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[3;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[5;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[6;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[7;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[8;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[10;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[11;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[12;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[13;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[14;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m
[1m[96mmain3[m:[16;17H[1m[96mcall[m    [1m[96mresetHandler[17;17Hcall[m    [1m[96mexit[m

[96m#Save address of current interrupt handler for keyboard interrupt in intAddr
#and address of bios interrupt handler in chkAddr.
#Point keyboard interrupt to intHandler [m
[1m[96msetupHandler[m:[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H43,4-18[7C20%/hasKet[24;63H[K[24;8H[?25hy[?25l[54C43,4-18[7C20%[24;63H[K[24;9H[?25h[?25l[24;8H[K[24;63H43,4-18[7C20%[24;63H[K[24;8H[?25h[?25l[24;7H[K[27m[23m[29m[m[H[2J[1;17H[1m[96mpush[m    %[1m[96max[2;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[3;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[4;17H[1m[96mpushf[m[19C[96m#save flags[m[5;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[6;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[7;17H[1m[96mpushf[8;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[9;17H[1m[96mcli[m[21C[96m#disable interrupts[m[10;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[11;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[12;17Hmov[m     %[1m[96mal[m, [1m[7m[96mhasKe[m[1m[96my[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[14;17H#stack contains flags[m[15;17H[1m[96mpop[m     %[1m[96max[16;17Hpop[m     %[1m[96mds[17;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H114,23-30     72%/hasKe[24;63H[K[24;7H[?25hy[?25l[12;35H[1m[7m[96my[m [24;63H114,23-30     72%[24;63H[K[24;8H[?25hn[?25l[27m[23m[29m[m[H[2J[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[2;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[3;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[5;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[6;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[7;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[8;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[10;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[11;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[12;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[13;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[14;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m
[1m[96mmain3[m:[16;17H[1m[96mcall[m    [1m[96mresetHandler[17;17Hcall[m    [1m[96mexit[m

[96m#Save address of current interrupt handler for keyboard interrupt in intAddr
#and address of bios interrupt handler in chkAddr.
#Point keyboard interrupt to intHandler [m
[1m[96msetupHandler[m:[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H43,4-18[7C20%/hasKeyn[24;63H[K[24;9H[?25h[?25l[24;8H[K[27m[23m[29m[m[H[2J[1;17H[1m[96mpush[m    %[1m[96max[2;17Hmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[3;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[4;17H[1m[96mpushf[m[19C[96m#save flags[m[5;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[6;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[7;17H[1m[96mpushf[8;17Hlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[9;17H[1m[96mcli[m[21C[96m#disable interrupts[m[10;17H[1m[96mjz[m      [1m[96mintHandler1[m     [96m#no key available[m[11;17H[1m[96mmov[m     $[95m0x1[m, %[1m[96mal[12;17Hmov[m     %[1m[96mal[m, [1m[7m[96mhasKey[m     [96m#signal we have a key[m
[1m[96mintHandler1[m:    [1m[96msti[m[21C[96m#renable interrupts[14;17H#stack contains flags[m[15;17H[1m[96mpop[m     %[1m[96max[16;17Hpop[m     %[1m[96mds[17;17Hiret[m[20C[96m#special return from interrupt handler

#Read next char from stdin into inChar.  Quit if ^C[m
[1m[96mgetchar[m:[21;17H[1m[96mpush[m    %[1m[96max[22;17Hmov[m     $[95m0x08[m, %[1m[96mah[m      [96m#setup input function[m[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#read stdin into %al[m[24;63H114,23-30     72%/hasKey[24;63H[K[24;8H[?25h[?25l[12;30H[1m[96mhasKey[m [24;63H114,23-30     72%[12;30H[?25h[?25l[24;53Hn[12;30H[24;53H[K[24;1H[18;30H[1;23r[1;1H[8M[1;24r[16;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96minChar[m     [96m#mov char read to inChar[m[17;17H[1m[96mxor[m     %[1m[96mal[m, %[1m[96mal[18;17Hmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#reset hasKey flag[m[19;17H[1m[96mpop[m     %[1m[96max[20;17Hret[m

[96m#Write inChar to console        [m
[1m[96mputchar[m:[24;1H[K[24;63H128,12-30     78%[18;30H[?25h[?25l[24;67H40-58[18;58H[?25h[?25l[24;53H1[18;58H[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H1[18;58H[24;63H128,40-58     78%[18;58H[?25h[?25l[24;53H2[18;57H[1C[96m[48;5;242mg[m[24;67H39-57[18;57H[?25h[?25l[24;53H3[18;56H[1C[96m[48;5;242ma[m[24;68H8-56[18;56H[?25h[?25l[24;53H4[18;55H[1C[96m[48;5;242ml[m[24;68H7-55[18;55H[?25h[?25l[24;53H5[18;54H[1C[96m[48;5;242mf[m[24;68H6-54[18;54H[?25h[?25l[24;53H6[18;53H[1C[96m[48;5;242m [m[24;68H5-53[18;53H[?25h[?25l[24;53H7[18;52H[1C[96m[48;5;242my[m[24;68H4-52[18;52H[?25h[?25l[24;53H10[18;49H[1C[96m[48;5;242msKe[m[24;68H1-49[18;49H[?25h[?25l[24;54H1[18;48H[1C[96m[48;5;242ma[m[24;68H0-48[18;48H[?25h[?25l[24;54H2[18;47H[1C[96m[48;5;242mh[m[24;67H29-47[18;47H[?25h[?25l[24;54H4[18;45H[1C[96m[48;5;242mt [m[24;68H7-45[18;45H[?25h[?25l[24;54H5[18;44H[1C[96m[48;5;242me[m[24;68H6-44[18;44H[?25h[?25l[24;54H7[18;42H[1C[96m[48;5;242mes[m[24;68H4-42[18;42H[?25h[?25l[24;53H22[18;37H [48;5;242m   [m[96m[48;5;242m#r[m[24;67H19-37[18;37H[?25h[?25l[24;54H3[18;36H [48;5;242m [m[24;68H8-36[18;36H[?25h[?25l[24;54H5[18;34H[1C[1m[96m[48;5;242my[m[48;5;242m [m[24;68H6-34[18;34H[?25h[?25l[24;54H6[18;33H[1C[1m[96m[48;5;242mey[m[48;5;242m [m[24;68H5-33[18;33H[?25h[?25l[24;54H7[18;32H[1C[1m[96m[48;5;242mKey[m[48;5;242m [m[24;68H4-32[18;32H[?25h[?25l[24;54H9[18;30H[1C[1m[96m[48;5;242masKey[m[48;5;242m [m[24;68H2-30[18;30H[?25h[?25l[24;53H31[18;28H,[48;5;242m [m[1m[96m[48;5;242mhasKey[m[48;5;242m [m[24;68H0-28[18;28H[?25h[?25l[24;54H2[18;27H[1C[48;5;242m,[m[24;67H9-27 [18;27H[?25h[?25l[24;54H3[18;26H[1C[1m[96m[48;5;242ml[m[48;5;242m,[m[24;67H8-26[18;26H[?25h[?25l[24;54H4[18;25H%[1m[96m[48;5;242mal[m[48;5;242m,[m[24;67H7-25[18;25H[?25h[?25l[24;54H5[18;20H [48;5;242m    %[m[24;67H6-20[18;20H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;54H6[18;19H[1C[48;5;242m [m[24;67H5-19[18;19H[?25h[?25l[24;54H7[18;18H[1C[1m[96m[48;5;242mv[m[48;5;242m [m[24;67H4-18[18;18H[?25h[?25l[24;54H8[18;17H[1C[1m[96m[48;5;242mov[m[48;5;242m [m[24;67H3-17[18;17H[?25h[?25l[24;54H9[18;9H [48;5;242m       [m[1m[96m[48;5;242mmov[m[48;5;242m [m[24;67H2-9 [18;9H[?25h[?25l[?25h[?25l[?25h[?25l[24;53H2 [17;13H [48;5;242m   [m[1m[96m[48;5;242mxor[m[48;5;242m     %[m[1m[96m[48;5;242mal[m[48;5;242m, %[m[1m[96m[48;5;242mal[m[48;5;242m 
         [m[24;65H7,6-13[17;13H[?25h[?25l [48;5;242m [m[24;67H5-12[17;12H[?25h[?25l [48;5;242m [m[24;67H4-11[17;11H[?25h[?25l [48;5;242m [m[24;67H3-10[17;10H[?25h[?25l  [24;67H4-11[17;11H[?25h[?25l  [24;67H5-12[17;12H[?25h[?25l[24;53H39[18;9H[17;13H    [1m[96mxor[m     %[1m[96mal[m, %[1m[96mal[m[17;33H[K[18;1H         [24;65H8,2-9 [18;9H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H40[18;1H [48;5;242m        [m[24;67H1  [18;1H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H  [16;19H

                [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#reset hasKey flag[m[24;1H[K[24;63H126,5-19      78%[16;19H[?25h[?25l[24;64H19,12-26[9;26H[?25h[?25l[24;53H~@k[9;26H[24;53H   [8;26H[24;65H8,8-26 [8;26H[?25h[?25l[24;53H~@k[8;26H[24;53H   [7;26H[24;65H7,9[7;26H[?25h[?25l[24;53H~@k[7;26H[24;53H   [6;26H[24;65H6,12-26[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[1m[96mlcall[m   *[1m[96mchkAddr[m[8C[96m#call bios interrupt handler[m[24;63H[K[24;63H115,18-32     77%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpushf[m[24;63H[K[24;63H114,19-26     76%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x01[m, %[1m[96mah[m      [96m#setup for keyboard status bios call[m[24;63H[K[24;63H113,8-26      75%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[1m[96mlcall[m   *[1m[96mintAddr[m[8C[96m#call original keyboard handler[m[24;63H[K[24;63H112,19-26     75%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;32H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpushf[m[19C[96m#save flags[m[24;63H[K[24;63H111,7-32      74%[6;32H[?25h[?25l[24;53H~@k[6;32H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[8C[96m#cs register[m[24;63H[K[24;63H110,10-26     73%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;21H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mcs[m, %[1m[96max[m[8C[96m#ensure ds register same as[m[24;63H[K[24;63H109,7-21      73%[6;21H[?25h[?25l[24;53H~@k[6;21H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H108,9-26      72%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mds[m[24;63H[K[24;63H107,12-26     71%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;1H[1m[96mintHandler[m:[24;63H[K[24;63H106,12-26     70%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;1H[96m#stack contains ret addr + flags[m[24;63H[K[24;63H105,8-26      70%[6;26H[?25h[?25l[24;53H~@k[6;26H[24;53H   [6;26H[1;23r[1;1H[L[1;24r[1;1H[96m#Interrupt handler for keyboard[m[24;63H[K[24;63H104,12-26     69%[6;26H[?25h[?25l[24;64H14,7-14 [16;14H[?25h[?25l[24;53H2[16;15H[48;5;242m [m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[16;15H[24;63H114,8-15      69%[16;15H[?25h[?25l[24;53H3[16;16H[48;5;242m [m[24;67H9-16[16;16H[?25h[?25l[24;53H4[16;17H[48;5;242m [m[24;67H10-17[16;17H[?25h[?25l[24;53H5[16;18H[1m[96m[48;5;242mm[m[1m[96mov[m [24;68H1-18[16;18H[?25h[?25l[24;53H7[16;20H[1m[96m[48;5;242mov[m [24;68H3-20[16;20H[?25h[?25l[24;53H8[16;21H[48;5;242m [m[24;68H4-21[16;21H[?25h[?25l[24;53H12[16;25H[48;5;242m    [m[24;68H8-25[16;25H[?25h[?25l[24;54H4[16;27H[48;5;242m%[m[1m[96m[48;5;242ma[m[1m[96ml[m,[24;67H20-27[16;27H[?25h[?25l[24;54H5[16;28H[1m[96m[48;5;242ml[m,[24;68H1-28[16;28H[?25h[?25l[24;54H7[16;30H[48;5;242m, [m[24;68H3-30[16;30H[?25h[?25l[24;54H8[16;31H[1m[96m[48;5;242mh[m[1m[96masKey[m [24;68H4-31[16;31H[?25h[?25l[24;53H20[16;33H[1m[96m[48;5;242mas[m[1m[96mKey[m [24;68H6-33[16;33H[?25h[?25l[24;54H1[16;34H[1m[96m[48;5;242mK[m[1m[96mey[m [24;68H7-34[16;34H[?25h[?25l[24;54H3[16;36H[1m[96m[48;5;242mey[m [24;68H9-36[16;36H[?25h[?25l[24;54H4[16;37H[48;5;242m [m[24;67H30-37[16;37H[?25h[?25l[24;54H5[16;38H[48;5;242m [m[24;68H1-38[16;38H[?25h[?25l[24;54H6[16;39H[48;5;242m [m[24;68H2-39[16;39H[?25h[?25l[24;54H7[16;40H[48;5;242m [m[24;68H3-40[16;40H[?25h[?25l[24;53H30[16;43H[48;5;242m [m[96m[48;5;242m#s[m[24;68H6-43[16;43H[?25h[?25l[24;54H1[16;44H[96m[48;5;242mi[m[24;68H7-44[16;44H[?25h[?25l[24;54H2[16;45H[96m[48;5;242mg[m[24;68H8-45[16;45H[?25h[?25l[24;54H3[16;46H[96m[48;5;242mn[m[24;68H9-46[16;46H[?25h[?25l[24;54H5[16;48H[96m[48;5;242mal[m[24;67H41-48[16;48H[?25h[?25l[24;54H6[16;49H[96m[48;5;242m [m[24;68H2-49[16;49H[?25h[?25l[24;54H7[16;50H[96m[48;5;242mw[m[24;68H3-50[16;50H[?25h[?25l[24;54H8[16;51H[96m[48;5;242me[m[24;68H4-51[16;51H[?25h[?25l[24;53H40[16;53H[96m[48;5;242m h[m[24;68H6-53[16;53H[?25h[?25l[24;54H1[16;54H[96m[48;5;242ma[m[24;68H7-54[16;54H[?25h[?25l[24;54H2[16;55H[96m[48;5;242mv[m[24;68H8-55[16;55H[?25h[?25l[24;54H3[16;56H[96m[48;5;242me[m[24;68H9-56[16;56H[?25h[?25l[24;54H4[16;57H[96m[48;5;242m [m[24;67H50-57[16;57H[?25h[?25l[24;54H5[16;58H[96m[48;5;242ma[m[24;68H1-58[16;58H[?25h[?25l[24;54H6[16;59H[96m[48;5;242m [m[24;68H2-59[16;59H[?25h[?25l[24;54H7[16;60H[96m[48;5;242mk[m[24;68H3-60[16;60H[?25h[?25l[24;54H8[16;61H[96m[48;5;242me[m[24;68H4-61[16;61H[?25h[?25l[24;54H9[16;62H[96m[48;5;242my[m[24;68H5-62[16;62H[?25h[?25l[?25h[?25l[24;53H34[16;29H[16;14H   [1m[96mmov[m     %[1m[96mal[m, [32C[48;5;242m [m[24;67H22-29[16;29H[?25h[?25l[?25h[?25l[24;53H  [16;20H[10C[1m[96mhasKey[m     [96m#signal we have a key[m[16;62H[K[24;1H[K[24;63H114,13-20     69%[16;20H[?25h[?25l[24;68H-8  [16;8H[?25h[?25l[24;53H1[16;8H[48;5;242m       [m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H1[16;8H[24;63H114,1[9C69%[16;8H[?25h[?25l [6C[48;5;242m [?25h[?25l[m[24;53H2[16;9H[48;5;242m [m[24;67H2-9[16;9H[?25h[?25l[24;53H4[16;11H[48;5;242m  [m[24;67H4-11[16;11H[?25h[?25l[24;53H6[16;13H[48;5;242m  [m[24;67H6-13[16;13H[?25h[?25l[24;53H8[16;15H[48;5;242m  [m[24;67H8-15[16;15H[?25h[?25l[24;53H10[16;17H[48;5;242m  [m[24;67H10-17[16;17H[?25h[?25l[24;54H2[16;19H[1m[96m[48;5;242mmo[m[1m[96mv[m [24;68H2-19[16;19H[?25h[?25l[24;54H4[16;21H[1m[96m[48;5;242mv[m[48;5;242m [m[24;68H4-21[16;21H[?25h[?25l[24;54H8[16;25H[48;5;242m    [m[24;68H8-25[16;25H[?25h[?25l[24;54H9[16;26H[48;5;242m%[m[24;68H9-26[16;26H[?25h[?25l[24;53H21[16;28H[1m[96m[48;5;242mal[m,[24;67H21-28[16;28H[?25h[?25l[24;54H2[16;29H[48;5;242m,[m[24;68H2-29[16;29H[?25h[?25l[24;54H4[16;31H[48;5;242m [m[1m[96m[48;5;242mh[m[1m[96masKey[m [24;68H4-31[16;31H[?25h[?25l[24;54H5[16;32H[1m[96m[48;5;242ma[m[1m[96msKey[m [24;68H5-32[16;32H[?25h[?25l[24;54H6[16;33H[1m[96m[48;5;242ms[m[1m[96mKey[m [24;68H6-33[16;33H[?25h[?25l[24;54H9[16;36H[1m[96m[48;5;242mKey[m [24;68H9-36[16;36H[?25h[?25l[24;53H30[16;37H[48;5;242m [m[24;67H30-37[16;37H[?25h[?25l[24;54H1[16;38H[48;5;242m [m[24;68H1-38[16;38H[?25h[?25l[24;54H2[16;39H[48;5;242m [m[24;68H2-39[16;39H[?25h[?25l[24;54H3[16;40H[48;5;242m [m[24;68H3-40[16;40H[?25h[?25l[24;54H4[16;41H[48;5;242m [m[24;68H4-41[16;41H[?25h[?25l[24;54H5[16;42H[96m[48;5;242m#[m[24;68H5-42[16;42H[?25h[?25l[24;54H6[16;43H[96m[48;5;242ms[m[24;68H6-43[16;43H[?25h[?25l[24;53H2 [17;44H[16;43H[96m[48;5;242mignal we have a key[m[48;5;242m [m
[1m[96m[48;5;242mintHandler1[m[48;5;242m:    [m[1m[96m[48;5;242msti[m[48;5;242m                     [m[96m[48;5;242m#re[m[24;65H5,23-44[17;44H[?25h[?25l[1C[96m[48;5;242mn[m[24;68H4-45[17;45H[?25h[?25l[1C[96m[48;5;242ma[m[24;68H5-46[17;46H[?25h[?25l[1C[96m[48;5;242mb[m[24;68H6-47[17;47H[?25h[?25l[1C[96m[48;5;242ml[m[24;68H7-48[17;48H[?25h[?25l[1C[96m[48;5;242me[m[24;68H8-49[17;49H[?25h[?25l[1C[96m[48;5;242m [m[24;68H9-50[17;50H[?25h[?25l[1C[96m[48;5;242mi[m[24;67H30-51[17;51H[?25h[?25l[2C[96m[48;5;242mnt[m[24;68H2-53[17;53H[?25h[?25l[1C[96m[48;5;242me[m[24;68H3-54[17;54H[?25h[?25l[1C[96m[48;5;242mr[m[24;68H4-55[17;55H[?25h[?25l[1C[96m[48;5;242mr[m[24;68H5-56[17;56H[?25h[?25l[2C[96m[48;5;242mup[m[24;68H7-58[17;58H[?25h[?25l[1C[96m[48;5;242mt[m[24;68H8-59[17;59H[?25h[?25l[1C[96m[48;5;242ms[m[24;68H9-60[17;60H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H55[16;62H[16;62H[K[17;1H[1m[96mintHandler1[m:    [1m[96msti[m                     [96m#renable interrupts[m[24;65H4,55-62[16;62H[?25h[?25l[?25h[?25l[?25h[?25l[24;53H^[[16;62H[24;53H55[16;62H[24;55H^[[16;62H[24;53H    [16;61H                [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;1H[K[24;63H114,54-61     69%[16;61H[?25h[?25l[24;67H8-15 [16;15H[?25h[?25l[24;53H2[16;16H[48;5;242m [m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[16;16H[24;63H114,9-16      69%[16;16H[?25h[?25l[24;53H3[16;17H[48;5;242m [m[24;67H10-17[16;17H[?25h[?25l[24;53H4[16;18H[1m[96m[48;5;242mm[m[1m[96mov[m [24;68H1-18[16;18H[?25h[?25l[24;53H5[16;19H[1m[96m[48;5;242mo[m[1m[96mv[m [24;68H2-19[16;19H[?25h[?25l[24;53H6[16;20H[1m[96m[48;5;242mv[m [24;68H3-20[16;20H[?25h[?25l[24;53H7[16;21H[48;5;242m [m[24;68H4-21[16;21H[?25h[?25l[24;53H9[16;23H[48;5;242m  [m[24;68H6-23[16;23H[?25h[?25l[24;53H11[16;25H[48;5;242m  [m[24;68H8-25[16;25H[?25h[?25l[24;54H2[16;26H[48;5;242m%[m[24;68H9-26[16;26H[?25h[?25l[24;54H3[16;27H[1m[96m[48;5;242ma[m[1m[96ml[m,[24;67H20-27[16;27H[?25h[?25l[24;54H4[16;28H[1m[96m[48;5;242ml[m,[24;68H1-28[16;28H[?25h[?25l[24;54H6[16;30H[48;5;242m, [m[24;68H3-30[16;30H[?25h[?25l[24;54H7[16;31H[1m[96m[48;5;242mh[m[1m[96masKey[m [24;68H4-31[16;31H[?25h[?25l[24;54H8[16;32H[1m[96m[48;5;242ma[m[1m[96msKey[m [24;68H5-32[16;32H[?25h[?25l[24;54H9[16;33H[1m[96m[48;5;242ms[m[1m[96mKey[m [24;68H6-33[16;33H[?25h[?25l[24;53H20[16;34H[1m[96m[48;5;242mK[m[1m[96mey[m [24;68H7-34[16;34H[?25h[?25l[24;54H1[16;35H[1m[96m[48;5;242me[m[1m[96my[m [24;68H8-35[16;35H[?25h[?25l[24;54H2[16;36H[1m[96m[48;5;242my[m [24;68H9-36[16;36H[?25h[?25l[24;54H3[16;37H[48;5;242m [m[24;67H30-37[16;37H[?25h[?25l[24;54H4[16;38H[48;5;242m [m[24;68H1-38[16;38H[?25h[?25l[24;54H5[16;39H[48;5;242m [m[24;68H2-39[16;39H[?25h[?25l[24;54H6[16;40H[48;5;242m [m[24;68H3-40[16;40H[?25h[?25l[24;54H7[16;41H[48;5;242m [m[24;68H4-41[16;41H[?25h[?25l[24;54H9[16;43H[96m[48;5;242m#s[m[24;68H6-43[16;43H[?25h[?25l[24;53H30[16;44H[96m[48;5;242mi[m[24;68H7-44[16;44H[?25h[?25l[24;54H1[16;45H[96m[48;5;242mg[m[24;68H8-45[16;45H[?25h[?25l[24;54H2[16;46H[96m[48;5;242mn[m[24;68H9-46[16;46H[?25h[?25l[24;54H3[16;47H[96m[48;5;242ma[m[24;67H40-47[16;47H[?25h[?25l[24;54H4[16;48H[96m[48;5;242ml[m[24;68H1-48[16;48H[?25h[?25l[24;54H5[16;49H[96m[48;5;242m [m[24;68H2-49[16;49H[?25h[?25l[24;54H6[16;50H[96m[48;5;242mw[m[24;68H3-50[16;50H[?25h[?25l[24;54H7[16;51H[96m[48;5;242me[m[24;68H4-51[16;51H[?25h[?25l[24;54H8[16;52H[96m[48;5;242m [m[24;68H5-52[16;52H[?25h[?25l[24;54H9[16;53H[96m[48;5;242mh[m[24;68H6-53[16;53H[?25h[?25l[24;53H41[16;55H[96m[48;5;242mav[m[24;68H8-55[16;55H[?25h[?25l[24;54H2[16;56H[96m[48;5;242me[m[24;68H9-56[16;56H[?25h[?25l[24;54H3[16;57H[96m[48;5;242m [m[24;67H50-57[16;57H[?25h[?25l[24;54H4[16;58H[96m[48;5;242ma[m[24;68H1-58[16;58H[?25h[?25l[24;54H5[16;59H[96m[48;5;242m [m[24;68H2-59[16;59H[?25h[?25l[24;54H6[16;60H[96m[48;5;242mk[m[24;68H3-60[16;60H[?25h[?25l[24;54H7[16;61H[96m[48;5;242me[m[24;68H4-61[16;61H[?25h[?25l[24;54H8[16;62H[96m[48;5;242my[m[24;68H5-62[16;62H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H^[[16;62H[24;53H48[16;62H[24;55H^[[16;62H[24;53H    [16;61H[16;15H  [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;1H[K[24;63H114,54-61     69%[16;61H[?25h[?25l[24;53H2[16;62H[96m[48;5;242my[m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[16;62H[24;63H114,55-62     69%[16;62H[?25h[?25l[24;53H1[16;61H[96my[m[24;68H4-61[16;61H[?25h[?25l[24;53H2[16;60H[1C[96m[48;5;242my[m[24;68H3-60[16;60H[?25h[?25l[24;53H3[16;59H[1C[96m[48;5;242me[m[24;68H2-59[16;59H[?25h[?25l[24;53H4[16;58H[1C[96m[48;5;242mk[m[24;68H1-58[16;58H[?25h[?25l[24;53H5[16;57H[1C[96m[48;5;242m [m[24;68H0-57[16;57H[?25h[?25l[24;53H6[16;56H[1C[96m[48;5;242ma[m[24;67H49-56[16;56H[?25h[?25l[24;53H7[16;55H[1C[96m[48;5;242m [m[24;68H8-55[16;55H[?25h[?25l[24;53H8[16;54H[1C[96m[48;5;242me[m[24;68H7-54[16;54H[?25h[?25l[24;53H9[16;53H[1C[96m[48;5;242mv[m[24;68H6-53[16;53H[?25h[?25l[24;53H10[16;52H[1C[96m[48;5;242ma[m[24;68H5-52[16;52H[?25h[?25l[24;54H1[16;51H[1C[96m[48;5;242mh[m[24;68H4-51[16;51H[?25h[?25l[24;54H2[16;50H[1C[96m[48;5;242m [m[24;68H3-50[16;50H[?25h[?25l[24;54H3[16;49H[1C[96m[48;5;242me[m[24;68H2-49[16;49H[?25h[?25l[24;54H5[16;47H[1C[96m[48;5;242m w[m[24;68H0-47[16;47H[?25h[?25l[24;54H6[16;46H[1C[96m[48;5;242ml[m[24;67H39-46[16;46H[?25h[?25l[24;54H7[16;45H[1C[96m[48;5;242ma[m[24;68H8-45[16;45H[?25h[?25l[24;54H8[16;44H[1C[96m[48;5;242mn[m[24;68H7-44[16;44H[?25h[?25l[24;54H9[16;43H[1C[96m[48;5;242mg[m[24;68H6-43[16;43H[?25h[?25l[24;53H20[16;42H[1C[96m[48;5;242mi[m[24;68H5-42[16;42H[?25h[?25l[24;54H [17;42H[16;43H[96mignal we have a ke[m[1C[48;5;242m [m
[1m[96m[48;5;242mintHandler1[m[48;5;242m:    [m[1m[96m[48;5;242msti[m[48;5;242m                     [m[96m[48;5;242m#[m[24;65H5,21[17;42H[?25h[?25l[96m#[m[24;68H0-41[17;41H[?25h[?25l [24;67H19-40[17;40H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[17;32H        [24;68H8-32[17;32H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[17;24H        [24;68H7-24[17;24H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H41[16;21H [48;5;242m   %[m[1m[96m[48;5;242mal[m[48;5;242m, [m[1m[96m[48;5;242mhasKey[m[48;5;242m     [m[96m[48;5;242m#signal we have a ke[m[16;62H[K[17;1H[1m[96mintHandler1[m:    [1m[96msti[m    [24;65H4,14-21[16;21H[?25h[?25l[24;54H2[16;20H [48;5;242m [m[24;68H3-20[16;20H[?25h[?25l[24;54H3[16;19H[1C[48;5;242m [m[24;68H2-19[16;19H[?25h[?25l[24;54H4[16;18H[1C[1m[96m[48;5;242mv[m[48;5;242m [m[24;68H1-18[16;18H[?25h[?25l[24;54H5[16;17H[1C[1m[96m[48;5;242mov[m[48;5;242m [m[24;68H0-17[16;17H[?25h[?25l[24;54H6[16;16H [1m[96m[48;5;242mmov[m[48;5;242m [m[24;67H9-16 [16;16H[?25h[?25l[?25h[?25l[24;53H^[[16;16H[24;53H46[16;16H[24;55H^[[16;16H[24;53H    [16;16H [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;1H[K[24;63H114,9-16      69%[16;16H[?25h[?25l[24;53H^[[16;16H[24;53H  [16;16H[24;53H^[[16;16H[24;53H  [16;16H[?25h[?25l[24;67H54-61[16;61H[?25h[?25l[24;53H2[16;62H[96m[48;5;242my[m[24;1H[1m-- VISUAL --[m[24;53H[K[24;53H2[16;62H[24;63H114,55-62     69%[16;62H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H1[16;61H[96my[m[24;68H4-61[16;61H[?25h[?25l[24;53H2[16;60H[1C[96m[48;5;242my[m[24;68H3-60[16;60H[?25h[?25l[24;53H3[16;59H[1C[96m[48;5;242me[m[24;68H2-59[16;59H[?25h[?25l[24;53H5[16;57H[1C[96m[48;5;242m k[m[24;68H0-57[16;57H[?25h[?25l[24;53H6[16;56H[1C[96m[48;5;242ma[m[24;67H49-56[16;56H[?25h[?25l[24;53H7[16;55H[1C[96m[48;5;242m [m[24;68H8-55[16;55H[?25h[?25l[24;53H8[16;54H[1C[96m[48;5;242me[m[24;68H7-54[16;54H[?25h[?25l[24;53H9[16;53H[1C[96m[48;5;242mv[m[24;68H6-53[16;53H[?25h[?25l[24;53H10[16;52H[1C[96m[48;5;242ma[m[24;68H5-52[16;52H[?25h[?25l[24;54H1[16;51H[1C[96m[48;5;242mh[m[24;68H4-51[16;51H[?25h[?25l[24;54H2[16;50H[1C[96m[48;5;242m [m[24;68H3-50[16;50H[?25h[?25l[24;54H3[16;49H[1C[96m[48;5;242me[m[24;68H2-49[16;49H[?25h[?25l[24;54H4[16;48H[1C[96m[48;5;242mw[m[24;68H1-48[16;48H[?25h[?25l[24;54H5[16;47H[1C[96m[48;5;242m [m[24;68H0-47[16;47H[?25h[?25l[24;54H6[16;46H[1C[96m[48;5;242ml[m[24;67H39-46[16;46H[?25h[?25l[24;54H8[16;44H[1C[96m[48;5;242mna[m[24;68H7-44[16;44H[?25h[?25l[24;54H9[16;43H[1C[96m[48;5;242mg[m[24;68H6-43[16;43H[?25h[?25l[24;53H20[16;42H[1C[96m[48;5;242mi[m[24;68H5-42[16;42H[?25h[?25l[24;54H1[16;41H[1C[96m[48;5;242ms[m[24;68H4-41[16;41H[?25h[?25l[24;54H2[16;40H [96m[48;5;242m#[m[24;68H3-40[16;40H[?25h[?25l[24;54H3[16;39H [48;5;242m [m[24;68H2-39[16;39H[?25h[?25l[24;54H4[16;38H [48;5;242m [m[24;68H1-38[16;38H[?25h[?25l[24;54H5[16;37H [48;5;242m [m[24;68H0-37[16;37H[?25h[?25l[24;54H6[16;36H [48;5;242m [m[24;67H29-36[16;36H[?25h[?25l[24;54H8[16;34H[1C[1m[96m[48;5;242my[m[48;5;242m [m[24;68H7-34[16;34H[?25h[?25l[24;54H9[16;33H[1C[1m[96m[48;5;242mey[m[48;5;242m [m[24;68H6-33[16;33H[?25h[?25l[24;53H30[16;32H[1C[1m[96m[48;5;242mKey[m[48;5;242m [m[24;68H5-32[16;32H[?25h[?25l[24;54H1[16;31H[1C[1m[96m[48;5;242msKey[m[48;5;242m [m[24;68H4-31[16;31H[?25h[?25l[24;54H2[16;30H[1C[1m[96m[48;5;242masKey[m[48;5;242m [m[24;68H3-30[16;30H[?25h[?25l[24;54H3[16;29H [1m[96m[48;5;242mhasKey[m[48;5;242m [m[24;68H2-29[16;29H[?25h[?25l[24;54H4[16;28H,[48;5;242m [m[24;68H1-28[16;28H[?25h[?25l[24;54H5[16;27H[1C[48;5;242m,[m[24;68H0-27[16;27H[?25h[?25l[24;54H6[16;26H[1C[1m[96m[48;5;242ml[m[48;5;242m,[m[24;67H19-26[16;26H[?25h[?25l[24;54H7[16;25H%[1m[96m[48;5;242mal[m[48;5;242m,[m[24;68H8-25[16;25H[?25h[?25l[24;54H8[16;24H [48;5;242m%[m[24;68H7-24[16;24H[?25h[?25l[24;54H9[16;23H [48;5;242m [m[24;68H6-23[16;23H[?25h[?25l[24;53H40[16;22H [48;5;242m [m[24;68H5-22[16;22H[?25h[?25l[24;54H1[16;21H [48;5;242m [m[24;68H4-21[16;21H[?25h[?25l[24;54H2[16;20H [48;5;242m [m[24;68H3-20[16;20H[?25h[?25l[24;54H3[16;19H[1C[48;5;242m [m[24;68H2-19[16;19H[?25h[?25l[24;54H4[16;18H[1C[1m[96m[48;5;242mv[m[48;5;242m [m[24;68H1-18[16;18H[?25h[?25l[24;54H5[16;17H[1C[1m[96m[48;5;242mov[m[48;5;242m [m[24;68H0-17[16;17H[?25h[?25l[?25h[?25l[24;53Hy [16;17H[24;53H [16;17H[1C[1m[96mov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;1H[K[24;63H114,10-17     69%[16;17H[?25h[?25l[24;53H~@k[16;17H[24;53H   [15;17H[24;65H3,3-17 [15;17H[?25h[?25l[24;53H~@k[15;17H[24;53H   [14;17H[24;65H2,10-17[14;17H[?25h[?25l[24;53H~@k[14;17H[24;53H   [13;17H[24;65H1,3-17 [13;17H[?25h[?25l[24;53H~@k[13;17H[24;53H   [12;17H[24;65H0[12;17H[?25h[?25l[24;53H~@k[12;17H[24;53H   [11;17H[24;64H09[11;17H[?25h[?25l[24;53H~@k[11;17H[24;53H   [10;17H[24;65H8[10;17H[?25h[?25l[24;53H~@k[10;17H[24;53H   [9;17H[24;65H7[9;17H[?25h[?25l[24;53H~@k[9;17H[24;53H   [8;17H[24;65H6[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [7;17H[24;65H5[7;17H[?25h[?25l[24;53H~@k[7;17H[24;53H   [6;17H[24;65H4[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H103,3-17      68%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mret[m[24;63H[K[24;63H102,3-17      68%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;11H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H101,11[8C67%[6;11H[?25h[?25l[24;53H~@k[6;11H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mdx[m[24;63H[K[24;63H100,17[8C66%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mds[m[24;63H[K[24;63H99,17[9C65%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[24;63H[K[24;63H98,1-8[8C65%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96max[m, %[1m[96mds[m[24;63H[K[24;63H97,3-17[7C64%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mintAddr[m + [95m2[m, %[1m[96max[m[24;63H[K[24;63H96,3-17[7C63%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mintAddr[m, %[1m[96mdx[m[24;63H[K[24;63H95,3-17[7C63%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m[24;63H[K[24;63H94,3-17[7C62%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m[24;63H[K[24;63H93,3-17[7C61%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mds[m[24;63H[K[24;63H92,3-17[7C60%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H91,3-17[7C60%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H90,3-17[7C59%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[1m[96mresetHandler[m:[24;63H[K[24;63H89,3-17[7C58%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[96m#in intAddr.[m[24;63H[K[24;63H88,3-17[7C58%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[96m#Cleanup keyboard interrupt handler: restore to original value saved[m[24;63H[K[24;63H87,3-17[7C57%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H86,3-17[7C56%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mret[m[24;63H[K[24;63H85,3-17[7C56%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;13H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96max[m[24;63H[K[24;63H84,13[9C55%[6;13H[?25h[?25l[24;53H~@k[6;13H[24;53H   [6;12H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mbx[m[24;63H[K[24;63H83,12[9C54%[6;12H[?25h[?25l[24;53H~@k[6;12H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mdx[m[24;63H[K[24;63H82,17[9C53%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpop[m     %[1m[96mes[m[24;63H[K[24;63H81,0-1[8C53%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#set int address to ds:dx[m[24;63H[K[24;63H80,3-17[7C52%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mintHandler[m, %[1m[96mdx[m[96m#point dx to new int handler[m[24;63H[K[24;63H79,3-17[7C51%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah[m      [96m#specify fn to write int vec from dx[m[24;63H[K[24;63H78,3-17[7C51%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[24;63H[K[24;63H77,3-17[7C50%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[96m#set address of keyboard interrupt handler to intHandler[m[24;63H[K[24;63H76,3-17[7C49%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H75,3-17[7C48%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H74,3-17[7C48%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[24;63H[K[24;63H73,3-17[7C47%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H72,3-17[7C46%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H71,10-17      46%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#int vec for reading keyboard[m[24;63H[K[24;63H70,0-1[8C45%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[96m#save address of handler for KEY_INT in intAddr[m[24;63H[K[24;63H69,3-17[7C44%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H68,3-17[7C43%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mchkAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H67,3-17[7C43%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mchkAddr[m    [96m#save old int vector [m[24;63H[K[24;63H66,3-17[7C42%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H65,3-17[7C41%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H64,10-17      41%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCHK_INT[m, %[1m[96mal[m   [96m#int vec for checking keyboard buf[m[24;63H[K[24;63H63,0-1[8C40%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[96m#save address of handler for CHK_INT in chkAddr[m[24;63H[K[24;63H62,3-17[7C39%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H61,3-17[7C39%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mes[m[24;63H[K[24;63H60,3-17[7C38%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H59,3-17[7C37%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96mbx[m[24;63H[K[24;63H58,3-17[7C36%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H57,10-17      36%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[1m[96msetupHandler[m:[24;63H[K[24;63H56,0-1[8C35%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[96m#Point keyboard interrupt to intHandler [m[24;63H[K[24;63H55,3-17[7C34%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[96m#and address of bios interrupt handler in chkAddr.[m[24;63H[K[24;63H54,3-17[7C34%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[96m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[24;63H[K[24;63H53,3-17[7C33%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H52,3-17[7C32%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [7;17H[24;64H3[7;17H[?25h[?25l[24;53H~@k[7;17H[24;53H   [8;17H[24;64H4[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [9;17H[24;64H5[9;17H[?25h[?25l[24;53H~@k[9;17H[24;53H   [10;1H[24;64H6,0-1 [10;1H[?25h[?25l[24;53H~@k[10;1H[24;53H   [11;17H[24;64H7,10-17[11;17H[?25h[?25l[24;53H~@k[11;17H[24;53H   [12;17H[24;64H8,3-17 [12;17H[?25h[?25l[24;53H~@k[12;17H[24;53H   [13;17H[24;64H9[13;17H[?25h[?25l[24;53H~@k[13;17H[24;53H   [14;17H[24;63H60[14;17H[?25h[?25l[24;53H~@k[14;17H[24;53H   [15;17H[24;64H1[15;17H[?25h[?25l[24;53H~@k[15;17H[24;53H   [16;17H[24;64H2[16;17H[?25h[?25l[24;53H~@k[16;17H[24;53H   [15;17H[24;64H1[15;17H[?25h[?25l[24;53H~@k[15;17H[24;53H   [14;17H[24;64H0[14;17H[?25h[?25l[24;53H~@k[14;17H[24;53H   [13;17H[24;63H59[13;17H[?25h[?25l[24;53H~@k[13;17H[24;53H   [12;17H[24;64H8[12;17H[?25h[?25l[24;53H~@k[12;17H[24;53H   [11;17H[24;64H7,10-17[11;17H[?25h[?25l[24;53H~@k[11;17H[24;53H   [10;1H[24;64H6,0-1  [10;1H[?25h[?25l[24;53H~@k[10;1H[24;53H   [9;17H[24;64H5,3-17[9;17H[?25h[?25l[24;53H~@k[9;17H[24;53H   [8;17H[24;64H4[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [7;17H[24;64H3[7;17H[?25h[?25l[24;53H~@k[7;17H[24;53H   [6;17H[24;64H2[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;13H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H51,13[9C31%[6;13H[?25h[?25l[24;53H~@k[6;13H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mresetHandler[m[24;63H[K[24;63H50,17[9C31%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain3[m:[24;63H[K[24;63H49,17[9C30%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H48,17[9C29%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H47,0-1[8C29%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H46,3-17[7C28%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H45,3-17[7C27%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;6H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;63H[K[24;63H44,6[10C26%[6;6H[?25h[?25l[24;53H~@k[6;6H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain4[m:[24;63H[K[24;63H43,3-17[7C26%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[24;63H[K[24;63H42,3-17[7C25%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[24;63H[K[24;63H41,17[9C24%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[24;63H[K[24;63H40,3-17[7C24%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[24;63H[K[24;63H39,10-17      23%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;8H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain2[m:[24;63H[K[24;63H38,7-8[8C22%[6;8H[?25h[?25l[24;53H~@k[6;8H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m[24;63H[K[24;63H37,3-17[7C21%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[24;63H[K[24;63H36,10-17      21%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H35,3-17[7C20%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H34,3-17[7C19%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;6H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H33,6[10C19%[6;6H[?25h[?25l[24;53H~@k[6;6H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H32,3-17[7C18%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [7;6H[24;64H3,6   [7;6H[?25h[?25l[24;53H~@k[7;6H[24;53H   [8;17H[24;64H4,3-17[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [9;17H[24;64H5[9;17H[?25h[?25l[24;53H~@k[9;17H[24;53H   [8;17H[24;64H4[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [7;6H[24;64H3,6   [7;6H[?25h[?25l[24;53H~@k[7;6H[24;53H   [6;17H[24;64H2,3-17[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96msetupHandler[m[24;63H[K[24;63H31,3-17[7C17%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H30,3-17[7C17%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [6;17H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H29,3-17[7C16%[6;17H[?25h[?25l[24;53H~@k[6;17H[24;53H   [7;17H[24;63H30[7;17H[?25h[?25l[24;53H~@k[7;17H[24;53H   [8;17H[24;64H1[8;17H[?25h[?25l[24;53H~@k[8;17H[24;53H   [9;17H[24;64H2[9;17H[?25h[?25l[24;53H~@k[9;17H[24;53H   [9;18H[24;66H4-18[9;18H[?25h[?25l[24;53H~@k[9;18H[24;53H   [8;18H[24;64H1[8;18H[?25h[?25l[24;53H~@k[8;18H[24;53H   [8;24H[24;66H5-24[8;24H[?25h[?25l[24;53H~@k[8;24H[24;53H   [8;25H[24;66H6-25[8;25H[?25h[?25l[24;53H~@k[8;25H[24;53H   [8;26H[24;66H7-26[8;26H[?25h[?25l[24;53H~@k[8;26H[24;53H   [8;27H[24;66H8-27[8;27H[?25h[?25l[24;53H~@k[8;27H[24;53H   [8;28H[24;66H9-28[8;28H[?25h[?25l[24;53H~@k[8;28H[24;53H   [8;29H[24;66H10-29[8;29H[?25h[?25l[24;53H~@k[8;29H[24;53H   [8;32H[24;67H1-32[8;32H[?25h[?25l[24;53H~@k[8;32H[24;53H   [8;40H[24;67H2-40[8;40H[?25h[?25l[24;53H~@k[8;40H[24;53H   [8;41H[24;67H3-41[8;41H[?25h[?25l[24;53H~@k[8;41H[24;53H   [8;42H[24;67H4-42[8;42H[?25h[?25l[24;53H~@k[8;42H[24;53H   [8;43H[24;67H5-43[8;43H[?25h[?25l[24;53H~@k[8;43H[24;53H   [8;44H[24;67H6-44[8;44H[?25h[?25l[24;53H~@k[8;44H[24;53H   [8;45H[24;67H7-45[8;45H[?25h[?25l[24;53H~@k[8;45H[24;53H   [8;46H[24;67H8-46[8;46H[?25h[?25l[24;53H~@k[8;46H[24;53H   [8;47H[24;67H9-47[8;47H[?25h[?25l[24;53H~@k[8;47H[24;53H   [8;48H[24;66H20-48[8;48H[?25h[?25l[24;53H~@k[8;48H[24;53H   [8;49H[24;67H1-49[8;49H[?25h[?25l[24;53H~@k[8;49H[24;53H   [8;50H[24;67H2-50[8;50H[?25h[?25l[24;53H~@k[8;50H[24;53H   [8;51H[24;67H3-51[8;51H[?25h[?25l[24;53H~@k[8;51H[24;53H   [8;52H[24;67H4-52[8;52H[?25h[?25l[24;53H~@k[8;52H[24;53H   [8;53H[24;67H5-53[8;53H[?25h[?25l[24;53H~@k[8;53H[24;53H   [8;54H[24;67H6-54[8;54H[?25h[?25l[24;53H~@k[8;54H[24;53H   [8;55H[24;67H7-55[8;55H[?25h[?25l[24;53H~@k[8;55H[24;53H   [8;56H[24;67H8-56[8;56H[?25h[?25l[24;53H~@k[8;56H[24;53H   [8;57H[24;67H9-57[8;57H[?25h[?25l[24;53H~@k[8;57H[24;53H   [8;58H[24;66H30-58[8;58H[?25h[?25l[24;53H~@k[8;58H[24;53H   [8;59H[24;67H1-59[8;59H[?25h[?25l[24;53H~@k[8;59H[24;53H   [8;60H[24;67H2-60[8;60H[?25h[?25l[24;53H~@k[8;60H[24;53H   [8;61H[24;67H3-61[8;61H[?25h[?25l[24;53H~@k[8;61H[24;53H   [8;62H[24;67H4-62[8;62H[?25h[?25l[24;53H~@k[8;62H[24;53H   [8;63H[24;67H5-63[8;63H[?25h[?25l[24;53H~@k[8;63H[24;53H   [8;64H[24;67H6-64[8;64H[?25h[?25l[24;53H~@k[8;64H[24;53H   [8;65H[24;67H7-65[8;65H[?25h[?25l[24;53H~@k[8;65H[24;53H   [8;66H[24;67H8-66[8;66H[?25h[?25l[24;53H~@k[8;66H[24;53H   [8;67H[24;67H9-67[8;67H[?25h[?25l[24;53H~@k[8;67H[24;53H   [8;67H[?25h[?25l[24;53H~@k[8;67H[24;53H   [8;67H[?25h[?25l[24;53H~@k[8;67H[24;53H   [7;64H[24;64H0,41-64[7;64H[?25h[?25l[24;53H~@k[7;64H[24;53H   [8;67H[24;64H1,39-67[8;67H[?25h[?25l[24;53H~@k[8;67H[24;53H   [8;67H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H31,39-67      16%[8;67H[?25h[?25l[24;64H0,42-65[7;65H[?25h[?25l[24;64H1,39-67[8;67H[?25h[?25l[24;66H40-68[8;68H[?25h[?25l[9;23r[9;1H[L[1;24r[24;63H[K[24;63H32,1[10C16%]2;key-int.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[9;1H[?25h[24;1H[K[9;1H[?25l[24;53H^[[9;1H[24;53H  [9;1H[24;63H32,0-1[8C16%[9;1H[?25h[?25l[24;53Hp[9;1H[24;53H [9;45H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;66H45 [9;45H[?25h[?25l[24;53H~@k[9;45H[24;53H   [9;44H[24;67H4[9;44H[?25h[?25l[24;53H~@k[9;44H[24;53H   [9;43H[24;67H3[9;43H[?25h[?25l[24;53H~@k[9;43H[24;53H   [9;42H[24;67H2[9;42H[?25h[?25l[24;53H~@k[9;42H[24;53H   [9;41H[24;67H1[9;41H[?25h[?25l[24;53H~@k[9;41H[24;53H   [9;40H[24;67H0[9;40H[?25h[?25l[24;53H~@k[9;40H[24;53H   [9;39H[24;66H39[9;39H[?25h[?25l[24;53H~@k[9;39H[24;53H   [9;38H[24;67H8[9;38H[?25h[?25l[24;53H~@k[9;38H[24;53H   [9;37H[24;67H7[9;37H[?25h[?25l[24;53H~@k[9;37H[24;53H   [9;36H[24;67H6[9;36H[?25h[?25l[24;53H~@k[9;36H[24;53H   [9;35H[24;67H5[9;35H[?25h[?25l[24;53H~@k[9;35H[24;53H   [9;34H[24;67H4[9;34H[?25h[?25l[24;53H~@k[9;34H[24;53H   [9;33H[24;67H3[9;33H[?25h[?25l[24;53H~@k[9;33H[24;53H   [9;32H[24;67H2[9;32H[?25h[?25l[24;53H~@k[9;32H[24;53H   [9;31H[24;67H1[9;31H[?25h[?25l[24;53H~@k[9;31H[24;53H   [9;30H[24;67H0[9;30H[?25h[?25l[24;53H~@k[9;30H[24;53H   [9;29H[24;66H29[9;29H[?25h[?25l[24;53H~@k[9;29H[24;53H   [9;28H[24;67H8[9;28H[?25h[?25l[24;53H~@k[9;28H[24;53H   [9;27H[24;67H7[9;27H[?25h[?25l[24;53H~@k[9;27H[24;53H   [9;26H[24;67H6[9;26H[?25h[?25l[24;53H~@k[9;26H[24;53H   [9;25H[24;67H5[9;25H[?25h[?25l[24;53H~@k[9;25H[24;53H   [9;24H[24;67H4[9;24H[?25h[?25l[24;53H~@k[9;24H[24;53H   [9;23H[24;67H3[9;23H[?25h[?25l[24;53H~@k[9;23H[24;53H   [9;22H[24;67H2[9;22H[?25h[?25l[24;53H~@k[9;22H[24;53H   [9;21H[24;67H1[9;21H[?25h[?25l[24;53H~@k[9;21H[24;53H   [9;20H[24;67H0[9;20H[?25h[?25l[24;53H~@k[9;20H[24;53H   [9;19H[24;66H19[9;19H[?25h[?25l[24;53H~@k[9;19H[24;53H   [9;18H[24;67H8[9;18H[?25h[?25l[24;53H~@k[9;18H[24;53H   [9;17H[24;67H7[9;17H[?25h[?25l[24;53H~@k[9;17H[24;53H   [9;16H[24;67H6[9;16H[?25h[?25l[24;53H~@k[9;16H[24;53H   [9;15H[24;67H5[9;15H[?25h[?25l[24;53H~@k[9;15H[24;53H   [9;14H[24;67H4[9;14H[?25h[?25l[24;53H~@k[9;14H[24;53H   [9;13H[24;67H3[9;13H[?25h[?25l[24;53H~@k[9;13H[24;53H   [9;12H[24;67H2[9;12H[?25h[?25l[24;53H~@k[9;12H[24;53H   [9;11H[24;67H1[9;11H[?25h[?25l[24;53H~@k[9;11H[24;53H   [9;10H[24;67H0[9;10H[?25h[?25l[24;53H~@k[9;10H[24;53H   [9;9H[24;66H9 [9;9H[?25h[?25l[24;53H~@k[9;9H[24;53H   [9;8H[24;66H8[9;8H[?25h[?25l[24;53H~@k[9;8H[24;53H   [9;7H[24;66H7[9;7H[?25h[?25l[24;53H~@k[9;7H[24;53H   [9;6H[24;66H6[9;6H[?25h[?25l[24;53H~@k[9;6H[24;53H   [9;5H[24;66H5[9;5H[?25h[?25l[24;53H~@k[9;5H[24;53H   [9;4H[24;66H4[9;4H[?25h[?25l[24;53H~@k[9;4H[24;53H   [9;3H[24;66H3[9;3H[?25h[?25l[24;53H~@k[9;3H[24;53H   [9;2H[24;66H2[9;2H[?25h[?25l[24;53H~@k[9;2H[24;53H   [9;1H[24;66H1[9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [9;1H[?25h[?25l[24;53H~@k[9;1H[24;53H   [9;1H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H32,1[10C16%[9;1H[?25h[?25l        [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;66H2-9[9;9H[?25h[?25l        [1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[24;66H3-17[9;17H[?25h[24;1H[K[9;16H[?25l[24;53H^[[9;16H[24;53H  [9;17H[24;63H32,2-16[7C16%[9;16H[?25h[?25l[24;53H:[9;16H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"key-int.s" 165L, 4394C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=key-int.lst key-int.s -o key-int.o
objcopy -O binary key-int.o key-int.bin
rm key-int.o
dd if=key-int.bin of=key-int.com bs=256 skip=1
0+1 records in
0+1 records out
212 bytes copied, 0.00147089 s, 144 kB/s
rm key-int.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ m[Kmakevim key-int.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.s" 165L, 4394C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#Entered at program startup.[m[2;17H[36mjmp[m     [36mmain[m


[34m#data area      [m
[36minChar[m:[9C[38;5;130m.byte[m   [31m0[m
[36mhasKey[m:[9C[38;5;130m.byte[m   [31m0[m
[36mintAddr[m:[8C[38;5;130m.word[m   [31m0,[m [31m0[m
[36mchkAddr[m:[8C[38;5;130m.word[m   [31m0,[m [31m0[m

[36mmain[m:[12;17H[36mcall[m    [36msetupHandler
main1[m:[14;17H[36mcall[m    [36mgetchar[m[9C[34m#read input char into inChar[m[15;17H[36mmov[m     [36minChar[m, %[36mal[m     [34m#al set to char read[m[16;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[17;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[18;17H[36mmov[m     %[36mal[m, [36mhasKey[m     [34m#signal we have a key[m[19;17H[36mmov[m     $[36mCOUNT[m, %[36mcx[m     [34m#set output counter[m
[36mmain2[m:[21;17H[36mmov[m     [36mhasKey[m, %[36mal[m     [34m#put checkKey result into al[m[22;17H[36mtest[m    %[36mal[m, %[36mal[m[8C[34m#non-zero if keyboard has char[m[23;17H[36mjz[m      [36mmain4[m[11C[34m#no key press[m[24;63H32,2-16[8C9%]2;key-int.s (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[18;16H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;1H[96m#Entered at program startup.[m[2;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m

[1m[96mmain[m:[12;17H[1m[96mcall[m    [1m[96msetupHandler
main1[m:[14;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[15;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[16;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[17;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[18;17H[1m[96mmov[m     %[1m[96mal[m, [1m[96mhasKey[m     [96m#signal we have a key[m[19;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[21;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[22;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[23;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[24;63H32,2-16[8C9%"key-int.s" 165L, 4394C[18;16H[?25h[?25l[24;53H:[18;16H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25hm[?25l[?25ho[?25l[?25hr[?25l[?25hn[?25l[?25hi[?25l[?25hn[?25l[?25hg[?25l[?25h[?25l[30m[47m[18;16H[27m[23m[29m[m[30m[47m[H[2J[1;1H[34m#Entered at program startup.[m[30m[47m[2;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minChar[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mintAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m
[36mchkAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m

[36mmain[m[30m[47m:[12;17H[36mcall[m[30m[47m    [36msetupHandler
main1[m[30m[47m:[14;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[15;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[16;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[17;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[18;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#signal we have a key[m[30m[47m[19;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m
[36mmain2[m[30m[47m:[21;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[22;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[23;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H32,2-16[8C9%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[24;63H[K[24;63H33,2-16[7C10%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [17;16H[24;64H2[17;16H[?25h[?25l[24;53H~@k[17;16H[24;53H   [17;9H[24;1H[1m-- INSERT --[m[30m[47m[24;63H[K[24;63H32,2-9[8C10%[17;9H[?25h[?25l[24;64H3[18;9H[?25h[?25l[24;66H3-17[18;17H[?25h[?25l[24;64H2[17;17H[?25h[?25l[24;64H1[16;17H[?25h[?25l[24;64H2[17;17H[?25h[?25l[24;64H1[16;17H[?25h[?25l[24;66H4-18[16;18H[?25h[?25l[24;66H5-19[16;19H[?25h[?25l[24;66H6-25[16;25H[?25h[?25l[24;66H7-26[16;26H[?25h[?25l[24;66H8-27[16;27H[?25h[?25l[24;66H9-28[16;28H[?25h[?25l[24;66H10-29[16;29H[?25h[?25l[24;67H1-30[16;30H[?25h[?25l[24;67H2-33[16;33H[?25h[?25l[24;67H3-41[16;41H[?25h[?25l[24;67H4-42[16;42H[?25h[?25l[24;67H5-43[16;43H[?25h[?25l[24;67H6-44[16;44H[?25h[?25l[24;67H7-45[16;45H[?25h[?25l[24;67H8-46[16;46H[?25h[?25l[24;67H9-47[16;47H[?25h[?25l[24;66H20-48[16;48H[?25h[?25l[24;67H1-49[16;49H[?25h[?25l[24;67H2-50[16;50H[?25h[?25l[24;67H3-51[16;51H[?25h[?25l[24;67H4-52[16;52H[?25h[?25l[24;67H5-53[16;53H[?25h[?25l[24;67H6-54[16;54H[?25h[?25l[24;67H7-55[16;55H[?25h[?25l[24;67H8-56[16;56H[?25h[?25l[24;67H9-57[16;57H[?25h[?25l[24;66H30-58[16;58H[?25h[?25l[24;67H1-59[16;59H[?25h[?25l[24;67H2-60[16;60H[?25h[?25l[24;67H3-61[16;61H[?25h[?25l[24;67H4-62[16;62H[?25h[?25l[24;67H5-63[16;63H[?25h[?25l[24;67H6-64[16;64H[?25h[?25l[24;67H7-65[16;65H[?25h[?25l[24;67H8-66[16;66H[?25h[?25l[24;67H9-67[16;67H[?25h[?25l[24;66H40-68[16;68H[?25h[?25l[17;23r[17;1H[L[1;24r[24;63H[K[24;63H32,1[10C10%]2;key-int.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[17;1H[?25h[?25l[16;23r[23;1H
[1;24r[16;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[24;63H[K[24;63H31,40-68      10%[16;68H[?25h[?25l[24;64H2,48-62[17;62H[?25h[?25l[17;61H[K[24;67H7-61[17;61H[?25h[?25l[17;60H[K[24;67H6-60[17;60H[?25h[?25l[17;59H[K[24;67H5-59[17;59H[?25h[?25l[17;58H[K[24;67H4-58[17;58H[?25h[?25l[17;57H[K[24;67H3-57[17;57H[?25h[?25l[17;56H[K[24;67H2-56[17;56H[?25h[?25l[17;55H[K[24;67H1-55[17;55H[?25h[?25l[17;54H[K[24;67H0-54[17;54H[?25h[?25l[17;53H[K[24;66H39-53[17;53H[?25h[?25l[17;52H[K[24;67H8-52[17;52H[?25h[?25l[17;51H[K[24;67H7-51[17;51H[?25h[?25l[17;50H[K[24;67H6-50[17;50H[?25h[?25l[17;49H[K[24;67H5-49[17;49H[?25h[?25l[17;48H[K[24;67H4-48[17;48H[?25h[?25l[17;47H[K[24;67H3-47[17;47H[?25h[?25l[17;46H[K[24;67H2-46[17;46H[?25h[?25l[17;45H[K[24;67H1-45[17;45H[?25h[?25l[17;44H[K[24;67H0-44[17;44H[?25h[?25l[17;43H[K[24;66H29-43[17;43H[?25h[?25l[17;42H[K[24;67H8-42[17;42H[?25h[?25l[17;41H[K[24;67H7-41[17;41H[?25h[?25l[24;67H6-40[17;40H[?25h[?25l[24;67H5-39[17;39H[?25h[?25l[24;67H4-38[17;38H[?25h[?25l[24;67H3-37[17;37H[?25h[?25l[24;67H2-36[17;36H[?25h[?25l[17;35H[K[24;67H1-35[17;35H[?25h[?25l[17;34H[K[24;67H0-34[17;34H[?25h[?25l[17;33H[K[24;66H19-33[17;33H[?25h[?25l[17;32H[K[24;67H8-32[17;32H[?25h[?25l[17;31H[K[24;67H7-31[17;31H[?25h[?25l[17;30H[K[24;67H6-30[17;30H[?25h[?25l[24;67H5-29[17;29H[?25h[?25l[17;28H[K[24;67H4-28[17;28H[?25h[?25l[17;27H[K[24;67H3-27[17;27H[?25h[?25l[17;26H[K[24;67H2-26[17;26H[?25h[?25l[17;25H[K[24;67H1-25[17;25H[?25h[?25l[24;67H0-24[17;24H[?25h[?25l[24;66H9-23 [17;23H[?25h[?25l[24;66H8-22[17;22H[?25h[?25l[24;66H7-21[17;21H[?25h[?25l[24;66H6-20[17;20H[?25h[?25l[17;19H[K[24;66H5-19[17;19H[?25h[?25l[17;18H[K[24;66H4-18[17;18H[?25h[?25l[17;17H[K[24;66H3-17[17;17H[?25h[?25l[24;66H2-9 [17;9H[?25h[?25l[24;66H1  [17;1H[?25h[?25l[16;23r[23;1H
[1;24r[16;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[23;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H31,40-68      10%[16;68H[?25h[?25l[24;64H2,46-60[17;60H[?25h[?25l[24;64H3,7    [18;7H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H34,46-68      11%[18;68H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H35,44-68      12%[18;68H[?25h[?25l[24;67H5-69[18;69H[?25h[?25l[24;67H6-70[18;70H[?25h[?25l[24;67H7-71[18;71H[?25h[?25l[1;23r[23;1H
[1;24r[18;23r[18;1H[L[1;24r[24;63H[K[24;63H36,1[10C12%[18;1H[?25h[?25l[24;66H2-9[18;9H[?25h[?25l[24;66H1  [18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H37,1[10C13%[18;1H[?25h[?25l[24;64H6[17;1H[?25h[?25l[24;64H5[16;1H[?25h[?25l[24;64H6[17;1H[?25h[?25l[24;64H5[16;1H[?25h[?25l[24;64H6[17;1H[?25h[?25l[24;64H7[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H38,1[10C14%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H39,1[10C14%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[24;63H[K[24;63H40,1[10C15%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mresetHandler[m[30m[47m[24;63H[K[24;63H41,1[10C16%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mexit[m[30m[47m[24;63H[K[24;63H42,1[10C16%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H43,1[10C17%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[30m[47m[24;63H[K[24;63H44,1[10C18%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#and address of bios interrupt handler in chkAddr.[m[30m[47m[24;63H[K[24;63H45,1[10C19%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Point keyboard interrupt to intHandler [m[30m[47m[24;63H[K[24;63H46,1[10C19%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36msetupHandler[m[30m[47m:[24;63H[K[24;63H47,1[10C20%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H48,1[10C21%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mbx[m[30m[47m[24;63H[K[24;63H49,1[10C21%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mdx[m[30m[47m[24;63H[K[24;63H50,1[10C22%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mes[m[30m[47m[24;63H[K[24;63H51,1[10C23%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H52,1[10C23%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[34m#save address of handler for CHK_INT in chkAddr[m[30m[47m[24;63H[K[24;63H53,1[10C24%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCHK_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for checking keyboard buf[m[30m[47m[24;63H[K[24;63H54,1[10C25%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H55,1[10C26%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H56,1[10C26%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mchkAddr[m[30m[47m    [34m#save old int vector [m[30m[47m[24;63H[K[24;63H57,1[10C27%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mchkAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H58,1[10C28%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H59,1[10C28%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[34m#save address of handler for KEY_INT in intAddr[m[30m[47m[24;63H[K[24;63H60,1[10C29%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H61,1[10C30%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x35[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to read current int vector[m[30m[47m[24;63H[K[24;63H62,1[10C30%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#interrupt vector addr in es:bx[m[30m[47m[24;63H[K[24;63H63,1[10C31%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mbx[m[30m[47m, [36mintAddr[m[30m[47m    [34m#save old int vector[m[30m[47m[24;63H[K[24;63H64,1[10C32%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mes[m[30m[47m, [36mintAddr[m[30m[47m+[31m2[m[30m[47m  [34m#in mem[m[30m[47m[24;63H[K[24;63H65,1[10C33%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H66,1[10C33%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[34m#set address of keyboard interrupt handler to intHandler[m[30m[47m[24;63H[K[24;63H67,1[10C34%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m   [34m#replace int vec for reading keyboard[m[30m[47m[24;63H[K[24;63H68,1[10C35%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m      [34m#specify fn to write int vec from dx[m[30m[47m[24;63H[K[24;63H69,1[10C35%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mintHandler[m[30m[47m, %[36mdx[m[30m[47m[34m#point dx to new int handler[m[30m[47m[24;63H[K[24;63H70,1[10C36%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[24;63H[K[24;63H71,1[10C37%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mes[m[30m[47m[24;63H[K[24;63H72,1[10C38%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mdx[m[30m[47m[24;63H[K[24;63H73,1[10C38%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mbx[m[30m[47m[24;63H[K[24;63H74,1[10C39%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H75,1[10C40%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H76,1[10C40%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H77,1[10C41%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Cleanup keyboard interrupt handler: restore to original value saved[m[30m[47m[24;63H[K[24;63H78,1[10C42%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#in intAddr.[m[30m[47m[24;63H[K[24;63H79,1[10C42%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mresetHandler[m[30m[47m:[24;63H[K[24;63H80,1[10C43%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H81,1[10C44%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mdx[m[30m[47m[24;63H[K[24;63H82,1[10C45%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H83,1[10C45%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mKEY_INT[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H84,1[10C46%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x25[m[30m[47m, %[36mah[m[30m[47m[24;63H[K[24;63H85,1[10C47%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mintAddr[m[30m[47m, %[36mdx[m[30m[47m[24;63H[K[24;63H86,1[10C47%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mintAddr[m[30m[47m + [31m2[m[30m[47m, %[36max[m[30m[47m[24;63H[K[24;63H87,1[10C48%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[24;63H[K[24;63H88,1[10C49%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#set int address to ds:dx[m[30m[47m[24;63H[K[24;63H89,1[10C50%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mds[m[30m[47m[24;63H[K[24;63H90,1[10C50%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mdx[m[30m[47m[24;63H[K[24;63H91,1[10C51%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H92,1[10C52%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H93,1[10C52%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H94,1[10C53%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Interrupt handler for keyboard[m[30m[47m[24;63H[K[24;63H95,1[10C54%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#stack contains ret addr + flags[m[30m[47m[24;63H[K[24;63H96,1[10C54%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mintHandler[m[30m[47m:[24;63H[K[24;63H97,1[10C55%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36mds[m[30m[47m[24;63H[K[24;63H98,1[10C56%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H99,1[10C57%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mcs[m[30m[47m, %[36max[m[30m[47m[8C[34m#ensure ds register same as[m[30m[47m[24;63H[K[24;63H100,1[9C57%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36max[m[30m[47m, %[36mds[m[30m[47m[8C[34m#cs register[m[30m[47m[24;63H[K[24;63H101,1[9C58%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpushf[m[30m[47m[19C[34m#save flags[m[30m[47m[24;63H[K[24;63H102,1[9C59%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mlcall[m[30m[47m   *[36mintAddr[m[30m[47m[8C[34m#call original keyboard handler[m[30m[47m[24;63H[K[24;63H103,1[9C59%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x01[m[30m[47m, %[36mah[m[30m[47m      [34m#setup for keyboard status bios call[m[30m[47m[24;63H[K[24;63H104,1[9C60%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpushf[m[30m[47m[24;63H[K[24;63H105,1[9C61%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mlcall[m[30m[47m   *[36mchkAddr[m[30m[47m[8C[34m#call bios interrupt handler[m[30m[47m[24;63H[K[24;63H106,1[9C61%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mcli[m[30m[47m[21C[34m#disable interrupts[m[30m[47m[24;63H[K[24;63H107,1[9C62%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mintHandler1[m[30m[47m     [34m#no key available[m[30m[47m[24;63H[K[24;63H108,1[9C63%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x1[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H109,1[9C64%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#signal we have a key[m[30m[47m[24;63H[K[24;63H110,1[9C64%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mintHandler1[m[30m[47m:    [36msti[m[30m[47m[21C[34m#renable interrupts[m[30m[47m[24;63H[K[24;63H111,1[9C65%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[34m#stack contains flags[m[30m[47m[24;63H[K[24;63H112,1[9C66%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H113,1[9C66%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36mds[m[30m[47m[24;63H[K[24;63H114,1[9C67%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36miret[m[30m[47m[20C[34m#special return from interrupt handler[m[30m[47m[24;63H[K[24;63H115,1[9C68%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H116,1[9C69%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Read next char from stdin into inChar.  Quit if ^C[m[30m[47m[24;63H[K[24;63H117,1[9C69%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mgetchar[m[30m[47m:[24;63H[K[24;63H118,1[9C70%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H119,1[9C71%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x08[m[30m[47m, %[36mah[m[30m[47m      [34m#setup input function[m[30m[47m[24;63H[K[24;63H120,1[9C71%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#read stdin into %al[m[30m[47m[24;63H[K[24;63H121,1[9C72%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36minChar[m[30m[47m     [34m#mov char read to inChar[m[30m[47m[24;63H[K[24;63H122,1[9C73%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mxor[m[30m[47m     %[36mal[m[30m[47m, %[36mal[m[30m[47m[24;63H[K[24;63H123,1[9C73%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     %[36mal[m[30m[47m, [36mhasKey[m[30m[47m     [34m#reset hasKey flag[m[30m[47m[24;63H[K[24;63H124,1[9C74%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H125,1[9C75%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H126,1[9C76%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H127,1[9C76%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[34m#Write inChar to console        [m[30m[47m[24;63H[K[24;63H128,1[9C77%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mputchar[m[30m[47m:[24;63H[K[24;63H129,1[9C78%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpush[m[30m[47m    %[36max[m[30m[47m[24;63H[K[24;63H130,1[9C78%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    $[31m02,[m[30m[47m%[36mah[m[30m[47m[9C[34m#setup output call[m[30m[47m[24;63H[K[24;63H131,1[9C79%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmovb[m[30m[47m    [36minChar[m[30m[47m,%[36mdl[m[30m[47m      [34m#char to output[m[30m[47m[24;63H[K[24;63H132,1[9C80%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#output inChar[m[30m[47m[24;63H[K[24;63H133,1[9C80%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mpop[m[30m[47m     %[36max[m[30m[47m[24;63H[K[24;63H134,1[9C81%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mret[m[30m[47m[24;63H[K[24;63H135,1[9C82%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H136,1[9C83%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;1H[36mexit[m[30m[47m:[24;63H[K[24;63H137,1[9C83%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x4c[m[30m[47m,%[36mah[m[30m[47m[7C[34m#setup program exit[m[30m[47m[24;63H[K[24;63H138,1[9C84%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[31m0x0[m[30m[47m,%[36mal[m[30m[47m[8C[34m#setup exit status[m[30m[47m[24;63H[K[24;63H139,1[9C85%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[23;17H[36mint[m[30m[47m     $[36mDOS_INT[m[30m[47m[8C[34m#exit program[m[30m[47m[24;63H[K[24;63H140,1[9C85%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H141,1[9C86%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H142,1[9C87%[18;1H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H143,1[9C88%[18;1H[?25h[24;1H[K[18;1H[?25l[24;53H^[[18;1H[24;53H  [18;1H[24;63H143,1-8[7C88%[18;8H[?25h[?25l[24;53H/[18;8H[24;53H[K[24;1H/[?2004h[?25hh[?25l[18;33H[7m[36mh[m[30m[47m[24;63H143,15-33     88%[24;63H[K[24;3H[?25ha[?25l[27m[23m[29m[m[30m[47m[H[2J[1;1H[36mCHK_INT[m[30m[47m[9C=[7C[31m0x16[m[30m[47m  [34m#[m[30m[47m
[36mCOUNT[m[30m[47m[11C=[9C[31m50[m[30m[47m
[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'
[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m
[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m

[34m#Entered at program startup.[m[30m[47m[8;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m


[34m#data area      [m[30m[47m
[36minC[m[30m[47m[7m[36mha[m[30m[47m[36mr[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mhasKey[m[30m[47m:[9C[1m[38;5;130m.byte[m[30m[47m   [31m0[m[30m[47m
[36mintAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m
[36mchkAddr[m[30m[47m:[8C[1m[38;5;130m.word[m[30m[47m   [31m0,[m[30m[47m [31m0[m[30m[47m

[36mmain[m[30m[47m:[18;17H[36mcall[m[30m[47m    [36msetupHandler
main1[m[30m[47m:[20;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[21;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[22;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H20,4[11C5%/ha[24;63H[K[24;4H[?25hs[?25l[1;23r[23;1H
[1;24r[11;4H[36mha[m[30m[47m
[7m[36mhas[m[30m[47m[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;1H[K[24;63H21,1[11C6%/has[24;63H[K[24;5H[?25hK[?25l[12;4H[7m[36mK[m[30m[47m[24;63H21,1[11C6%[24;63H[K[24;6H[?25he[?25l[12;5H[7m[36me[m[30m[47m[24;63H21,1[11C6%[24;63H[K[24;7H[?25hy[?25l[12;6H[7m[36my[m[30m[47m[24;63H21,1[11C6%[24;63H[K[24;8H[?25h[?25l[31msearch hit BOTTOM, continuing at TOP[12;1H[m[30m[47m[36mhasKey[m[30m[47m[24;63H21,1[11C6%[24;63H[K[24;63H21,1[11C6%[12;1H[?25h[?25l[24;53Hn[12;1H[24;1H/hasKey[24;8H[K[24;1H[18;25H[1;23r[1;1H[7M[1;24r[17;1H[36mmain2[m[30m[47m:[18;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[19;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[21;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[22;17H[36mcall[m[30m[47m    [36mgetchar
main4[m[30m[47m:[24;1H[K[24;63H34,7-25[7C11%[18;25H[?25h[?25l[24;66H2-16[18;16H[?25h[?25l[24;53H1[18;16H[18;9H[48;5;248m       [m[30m[47m[24;1H[1m-- VISUAL --[m[30m[47m[24;53H[K[24;53H1[18;16H[24;63H34,2-9[8C11%[18;16H[?25h[?25l[18;9H [6C[48;5;248m [?25h[?25l[m[30m[47m[24;53H3[18;18H[18;9H[48;5;248m [m[30m[47m[7C[36m[48;5;248mm[m[30m[47m[24;66H4-18[18;18H[?25h[?25l[24;53H4[18;19H[36m[48;5;248mo[m[30m[47m[24;66H5-19[18;19H[?25h[?25l[24;53H5[18;24H[36m[48;5;248mv[m[30m[47m[48;5;248m    [m[30m[47m[24;66H6-24[18;24H[?25h[?25l[?25h[?25l[24;53H6[18;25H[48;5;248m [m[30m[47m[24;66H7-25[18;25H[?25h[?25l[24;53H8[18;27H[36m[48;5;248mha[m[30m[47m[24;66H9-27[18;27H[?25h[?25l[24;53H10[18;29H[36m[48;5;248msK[m[30m[47m[24;66H11-29[18;29H[?25h[?25l[24;54H3[18;32H[36m[48;5;248mey[m[30m[47m[48;5;248m,[m[30m[47m[24;67H4-32[18;32H[?25h[?25l[24;54H4[18;33H[48;5;248m [m[30m[47m[24;67H5-33[18;33H[?25h[?25l[24;54H5[18;34H[48;5;248m%[m[30m[47m[24;67H6-34[18;34H[?25h[?25l[24;54H6[18;35H[36m[48;5;248ma[m[30m[47m[24;67H7-35[18;35H[?25h[?25l[24;54H7[18;40H[36m[48;5;248ml[m[30m[47m[48;5;248m    [m[30m[47m[24;67H8-40[18;40H[?25h[?25l[?25h[?25l[?25h[?25l[24;54H8[18;41H[48;5;248m [m[30m[47m[24;67H9-41[18;41H[?25h[?25l[24;54H9[18;42H[34m[48;5;248m#[m[30m[47m[24;66H20-42[18;42H[?25h[?25l[24;53H20[18;43H[34m[48;5;248mp[m[30m[47m[24;67H1-43[18;43H[?25h[?25l[24;54H2[18;45H[34m[48;5;248mut[m[30m[47m[24;67H3-45[18;45H[?25h[?25l[24;54H3[18;46H[34m[48;5;248m [m[30m[47m[24;67H4-46[18;46H[?25h[?25l[24;54H4[18;47H[34m[48;5;248mc[m[30m[47m[24;67H5-47[18;47H[?25h[?25l[24;54H6[18;49H[34m[48;5;248mhe[m[30m[47m[24;67H7-49[18;49H[?25h[?25l[24;54H8[18;51H[34m[48;5;248mck[m[30m[47m[24;67H9-51[18;51H[?25h[?25l[24;53H30[18;53H[34m[48;5;248mKe[m[30m[47m[24;66H31-53[18;53H[?25h[?25l[24;54H1[18;54H[34m[48;5;248my[m[30m[47m[24;67H2-54[18;54H[?25h[?25l[24;54H2[18;55H[34m[48;5;248m [m[30m[47m[24;67H3-55[18;55H[?25h[?25l[24;54H3[18;56H[34m[48;5;248mr[m[30m[47m[24;67H4-56[18;56H[?25h[?25l[24;53H2 [19;57H[18;56H[34m[48;5;248mesult into al[m[30m[47m[48;5;248m 
                [m[30m[47m[36m[48;5;248mtest[m[30m[47m[48;5;248m    %[m[30m[47m[36m[48;5;248mal[m[30m[47m[48;5;248m, %[m[30m[47m[36m[48;5;248mal[m[30m[47m[48;5;248m        [m[30m[47m[34m[48;5;248m#non-zero if key[m[30m[47m[24;64H5,33-57[19;57H[?25h[?25l[1C[34m[48;5;248mb[m[30m[47m[24;67H4-58[19;58H[?25h[?25l[1C[34m[48;5;248mo[m[30m[47m[24;67H5-59[19;59H[?25h[?25l[1C[34m[48;5;248ma[m[30m[47m[24;67H6-60[19;60H[?25h[?25l[1C[34m[48;5;248mr[m[30m[47m[24;67H7-61[19;61H[?25h[?25l[2C[34m[48;5;248md [m[30m[47m[24;67H9-63[19;63H[?25h[?25l[1C[34m[48;5;248mh[m[30m[47m[24;66H40-64[19;64H[?25h[?25l[1C[34m[48;5;248ma[m[30m[47m[24;67H1-65[19;65H[?25h[?25l[1C[34m[48;5;248ms[m[30m[47m[24;67H2-66[19;66H[?25h[?25l[1C[34m[48;5;248m [m[30m[47m[24;67H3-67[19;67H[?25h[?25l[1C[34m[48;5;248mc[m[30m[47m[24;67H4-68[19;68H[?25h[?25l[1C[34m[48;5;248mh[m[30m[47m[24;67H5-69[19;69H[?25h[?25l[24;53H46[18;69H[18;69H[K[19;1H                [36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m        [34m#non-zero if keyboard has ch[m[30m[47m[24;64H4,47[18;69H[?25h[?25l[?25h[?25l[?25h[?25l[24;53H  [18;68H[18;9H        [36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;1H[K[24;63H34,46-68      11%[18;68H[?25h[?25l[24;53H2[18;69H[34m[48;5;248ml[m[30m[47m[24;1H[1m-- VISUAL --[m[30m[47m[24;53H[K[24;53H2[18;69H[24;63H34,47-69      11%[18;69H[?25h[?25l[24;53H1[18;68H[34ml[m[30m[47m[24;67H6-68[18;68H[?25h[?25l[24;53H2[18;67H[1C[34m[48;5;248ml[m[30m[47m[24;67H5-67[18;67H[?25h[?25l[24;53H3[18;66H[1C[34m[48;5;248ma[m[30m[47m[24;67H4-66[18;66H[?25h[?25l[24;53H4[18;65H[1C[34m[48;5;248m [m[30m[47m[24;67H3-65[18;65H[?25h[?25l[24;53H5[18;64H[1C[34m[48;5;248mo[m[30m[47m[24;67H2-64[18;64H[?25h[?25l[24;53H6[18;63H[1C[34m[48;5;248mt[m[30m[47m[24;67H1-63[18;63H[?25h[?25l[24;53H7[18;62H[1C[34m[48;5;248mn[m[30m[47m[24;67H0-62[18;62H[?25h[?25l[24;53H8[18;61H[1C[34m[48;5;248mi[m[30m[47m[24;66H39-61[18;61H[?25h[?25l[24;53H10[18;59H[1C[34m[48;5;248mt [m[30m[47m[24;67H7-59[18;59H[?25h[?25l[24;54H1[18;58H[1C[34m[48;5;248ml[m[30m[47m[24;67H6-58[18;58H[?25h[?25l[24;54H2[18;57H[1C[34m[48;5;248mu[m[30m[47m[24;67H5-57[18;57H[?25h[?25l[24;54H3[18;56H[1C[34m[48;5;248ms[m[30m[47m[24;67H4-56[18;56H[?25h[?25l[24;54H4[18;55H[1C[34m[48;5;248me[m[30m[47m[24;67H3-55[18;55H[?25h[?25l[24;54H5[18;54H[1C[34m[48;5;248mr[m[30m[47m[24;67H2-54[18;54H[?25h[?25l[24;54H6[18;53H[1C[34m[48;5;248m [m[30m[47m[24;67H1-53[18;53H[?25h[?25l[24;54H8[18;51H[1C[34m[48;5;248mey[m[30m[47m[24;66H29-51[18;51H[?25h[?25l[24;53H20[18;49H[1C[34m[48;5;248mkK[m[30m[47m[24;67H7-49[18;49H[?25h[?25l[24;54H1[18;48H[1C[34m[48;5;248mc[m[30m[47m[24;67H6-48[18;48H[?25h[?25l[24;54H2[18;47H[1C[34m[48;5;248me[m[30m[47m[24;67H5-47[18;47H[?25h[?25l[24;54H3[18;46H[1C[34m[48;5;248mh[m[30m[47m[24;67H4-46[18;46H[?25h[?25l[24;54H5[18;44H[1C[34m[48;5;248m c[m[30m[47m[24;67H2-44[18;44H[?25h[?25l[24;54H6[18;43H[1C[34m[48;5;248mt[m[30m[47m[24;67H1-43[18;43H[?25h[?25l[24;54H8[18;41H[1C[34m[48;5;248mpu[m[30m[47m[24;66H19-41[18;41H[?25h[?25l[24;54H9[18;36H [48;5;248m    [m[30m[47m[34m[48;5;248m#[m[30m[47m[24;67H8-36[18;36H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H30[18;35H[1C[48;5;248m [m[30m[47m[24;67H7-35[18;35H[?25h[?25l[24;54H2[18;33H%[36m[48;5;248mal[m[30m[47m[24;67H5-33[18;33H[?25h[?25l[24;54H3[18;32H [48;5;248m%[m[30m[47m[24;67H4-32[18;32H[?25h[?25l[24;54H4[18;31H,[48;5;248m [m[30m[47m[24;67H3-31[18;31H[?25h[?25l[24;54H5[18;30H[1C[48;5;248m,[m[30m[47m[24;67H2-30[18;30H[?25h[?25l[24;54H6[18;29H[1C[36m[48;5;248my[m[30m[47m[24;67H1-29[18;29H[?25h[?25l[24;54H7[18;28H[1C[36m[48;5;248me[m[30m[47m[24;67H0-28[18;28H[?25h[?25l[24;54H8[18;27H[1C[36m[48;5;248mK[m[30m[47m[24;66H9-27 [18;27H[?25h[?25l[24;54H9[18;26H[1C[36m[48;5;248ms[m[30m[47m[24;66H8-26[18;26H[?25h[?25l[24;53H40[18;25H[1C[36m[48;5;248ma[m[30m[47m[24;66H7-25[18;25H[?25h[?25l[24;54H1[18;20H [48;5;248m    [m[30m[47m[36m[48;5;248mh[m[30m[47m[24;66H6-20[18;20H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;54H2[18;19H[1C[48;5;248m [m[30m[47m[24;66H5-19[18;19H[?25h[?25l[24;54H3[18;18H[1C[36m[48;5;248mv[m[30m[47m[24;66H4-18[18;18H[?25h[?25l[24;54H4[18;17H[1C[36m[48;5;248mo[m[30m[47m[24;66H3-17[18;17H[?25h[?25l[24;54H5[18;9H [48;5;248m       [m[30m[47m[36m[48;5;248mm[m[30m[47m[24;66H2-9 [18;9H[?25h[?25l[?25h[?25l[24;53H  [18;16H       [36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;1H[K[24;63H34,2-16[7C11%[18;16H[?25h[?25l[24;53H2[18;17H[18;9H[48;5;248m        [m[30m[47m[24;1H[1m-- VISUAL --[m[30m[47m[24;53H[K[24;53H2[18;17H[24;63H34,3-17[7C11%[18;17H[?25h[?25l[24;53H3[18;18H[36m[48;5;248mm[m[30m[47m[24;66H4-18[18;18H[?25h[?25l[24;53H4[18;19H[36m[48;5;248mo[m[30m[47m[24;66H5-19[18;19H[?25h[?25l[24;53H5[18;24H[36m[48;5;248mv[m[30m[47m[48;5;248m    [m[30m[47m[24;66H6-24[18;24H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H6[18;25H[48;5;248m [m[30m[47m[24;66H7-25[18;25H[?25h[?25l[24;53H7[18;26H[36m[48;5;248mh[m[30m[47m[24;66H8-26[18;26H[?25h[?25l[24;53H9[18;28H[36m[48;5;248mas[m[30m[47m[24;66H10-28[18;28H[?25h[?25l[24;53H10[18;29H[36m[48;5;248mK[m[30m[47m[24;67H1-29[18;29H[?25h[?25l[24;54H1[18;30H[36m[48;5;248me[m[30m[47m[24;67H2-30[18;30H[?25h[?25l[24;54H2[18;31H[36m[48;5;248my[m[30m[47m[24;67H3-31[18;31H[?25h[?25l[24;54H3[18;32H[48;5;248m,[m[30m[47m[24;67H4-32[18;32H[?25h[?25l[24;54H4[18;33H[48;5;248m [m[30m[47m[24;67H5-33[18;33H[?25h[?25l[24;54H5[18;34H[48;5;248m%[m[30m[47m[24;67H6-34[18;34H[?25h[?25l[24;54H6[18;35H[36m[48;5;248ma[m[30m[47m[24;67H7-35[18;35H[?25h[?25l[24;54H7[18;40H[36m[48;5;248ml[m[30m[47m[48;5;248m    [m[30m[47m[24;67H8-40[18;40H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;54H8[18;41H[48;5;248m [m[30m[47m[24;67H9-41[18;41H[?25h[?25l[24;54H9[18;42H[34m[48;5;248m#[m[30m[47m[24;66H20-42[18;42H[?25h[?25l[24;53H20[18;43H[34m[48;5;248mp[m[30m[47m[24;67H1-43[18;43H[?25h[?25l[24;54H1[18;44H[34m[48;5;248mu[m[30m[47m[24;67H2-44[18;44H[?25h[?25l[24;54H2[18;45H[34m[48;5;248mt[m[30m[47m[24;67H3-45[18;45H[?25h[?25l[24;54H3[18;46H[34m[48;5;248m [m[30m[47m[24;67H4-46[18;46H[?25h[?25l[24;54H5[18;48H[34m[48;5;248mch[m[30m[47m[24;67H6-48[18;48H[?25h[?25l[24;54H6[18;49H[34m[48;5;248me[m[30m[47m[24;67H7-49[18;49H[?25h[?25l[24;54H7[18;50H[34m[48;5;248mc[m[30m[47m[24;67H8-50[18;50H[?25h[?25l[24;54H8[18;51H[34m[48;5;248mk[m[30m[47m[24;67H9-51[18;51H[?25h[?25l[24;54H9[18;52H[34m[48;5;248mK[m[30m[47m[24;66H30-52[18;52H[?25h[?25l[24;53H30[18;53H[34m[48;5;248me[m[30m[47m[24;67H1-53[18;53H[?25h[?25l[24;54H1[18;54H[34m[48;5;248my[m[30m[47m[24;67H2-54[18;54H[?25h[?25l[24;54H2[18;55H[34m[48;5;248m [m[30m[47m[24;67H3-55[18;55H[?25h[?25l[24;54H3[18;56H[34m[48;5;248mr[m[30m[47m[24;67H4-56[18;56H[?25h[?25l[24;54H4[18;57H[34m[48;5;248me[m[30m[47m[24;67H5-57[18;57H[?25h[?25l[24;54H5[18;58H[34m[48;5;248ms[m[30m[47m[24;67H6-58[18;58H[?25h[?25l[24;54H6[18;59H[34m[48;5;248mu[m[30m[47m[24;67H7-59[18;59H[?25h[?25l[24;54H7[18;60H[34m[48;5;248ml[m[30m[47m[24;67H8-60[18;60H[?25h[?25l[24;54H8[18;61H[34m[48;5;248mt[m[30m[47m[24;67H9-61[18;61H[?25h[?25l[24;54H9[18;62H[34m[48;5;248m [m[30m[47m[24;66H40-62[18;62H[?25h[?25l[24;53H40[18;63H[34m[48;5;248mi[m[30m[47m[24;67H1-63[18;63H[?25h[?25l[24;54H1[18;64H[34m[48;5;248mn[m[30m[47m[24;67H2-64[18;64H[?25h[?25l[24;54H2[18;65H[34m[48;5;248mt[m[30m[47m[24;67H3-65[18;65H[?25h[?25l[24;54H3[18;66H[34m[48;5;248mo[m[30m[47m[24;67H4-66[18;66H[?25h[?25l[24;54H4[18;67H[34m[48;5;248m [m[30m[47m[24;67H5-67[18;67H[?25h[?25l[24;54H5[18;68H[34m[48;5;248ma[m[30m[47m[24;67H6-68[18;68H[?25h[?25l[24;54H6[18;69H[34m[48;5;248ml[m[30m[47m[24;67H7-69[18;69H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H  [18;68H[18;9H        [36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;1H[K[24;63H34,46-68      11%[18;68H[?25h[?25l[24;53H^[[18;68H[24;53H  [18;68H[24;53H^[[18;68H[24;53H  [18;68H[?25h[?25l[24;53H2[18;69H[34m[48;5;248ml[m[30m[47m[24;1H[1m-- VISUAL --[m[30m[47m[24;53H[K[24;53H2[18;69H[24;63H34,47-69      11%[18;69H[?25h[?25l[24;53H1[18;68H[34ml[m[30m[47m[24;67H6-68[18;68H[?25h[?25l[24;53H2[18;67H[1C[34m[48;5;248ml[m[30m[47m[24;67H5-67[18;67H[?25h[?25l[24;53H3[18;66H[1C[34m[48;5;248ma[m[30m[47m[24;67H4-66[18;66H[?25h[?25l[24;53H5[18;64H[1C[34m[48;5;248mo [m[30m[47m[24;67H2-64[18;64H[?25h[?25l[24;53H6[18;63H[1C[34m[48;5;248mt[m[30m[47m[24;67H1-63[18;63H[?25h[?25l[24;53H7[18;62H[1C[34m[48;5;248mn[m[30m[47m[24;67H0-62[18;62H[?25h[?25l[24;53H8[18;61H[1C[34m[48;5;248mi[m[30m[47m[24;66H39-61[18;61H[?25h[?25l[24;53H9[18;60H[1C[34m[48;5;248m [m[30m[47m[24;67H8-60[18;60H[?25h[?25l[24;53H10[18;59H[1C[34m[48;5;248mt[m[30m[47m[24;67H7-59[18;59H[?25h[?25l[24;54H1[18;58H[1C[34m[48;5;248ml[m[30m[47m[24;67H6-58[18;58H[?25h[?25l[24;54H4[18;55H[1C[34m[48;5;248mesu[m[30m[47m[24;67H3-55[18;55H[?25h[?25l[24;54H5[18;54H[1C[34m[48;5;248mr[m[30m[47m[24;67H2-54[18;54H[?25h[?25l[24;54H6[18;53H[1C[34m[48;5;248m [m[30m[47m[24;67H1-53[18;53H[?25h[?25l[24;54H7[18;52H[1C[34m[48;5;248my[m[30m[47m[24;67H0-52[18;52H[?25h[?25l[24;54H8[18;51H[1C[34m[48;5;248me[m[30m[47m[24;66H29-51[18;51H[?25h[?25l[24;53H20[18;49H[1C[34m[48;5;248mkK[m[30m[47m[24;67H7-49[18;49H[?25h[?25l[24;54H1[18;48H[1C[34m[48;5;248mc[m[30m[47m[24;67H6-48[18;48H[?25h[?25l[24;54H3[18;46H[1C[34m[48;5;248mhe[m[30m[47m[24;67H4-46[18;46H[?25h[?25l[24;54H4[18;45H[1C[34m[48;5;248mc[m[30m[47m[24;67H3-45[18;45H[?25h[?25l[24;54H5[18;44H[1C[34m[48;5;248m [m[30m[47m[24;67H2-44[18;44H[?25h[?25l[24;54H6[18;43H[1C[34m[48;5;248mt[m[30m[47m[24;67H1-43[18;43H[?25h[?25l[24;54H7[18;42H[1C[34m[48;5;248mu[m[30m[47m[24;67H0-42[18;42H[?25h[?25l[24;54H8[18;41H[1C[34m[48;5;248mp[m[30m[47m[24;66H19-41[18;41H[?25h[?25l[24;54H9[18;36H [48;5;248m    [m[30m[47m[34m[48;5;248m#[m[30m[47m[24;67H8-36[18;36H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H30[18;35H[1C[48;5;248m [m[30m[47m[24;67H7-35[18;35H[?25h[?25l[24;54H1[18;34H[1C[36m[48;5;248ml[m[30m[47m[24;67H6-34[18;34H[?25h[?25l[24;54H3[18;32H [48;5;248m%[m[30m[47m[36m[48;5;248ma[m[30m[47m[24;67H4-32[18;32H[?25h[?25l[24;54H4[18;31H,[48;5;248m [m[30m[47m[24;67H3-31[18;31H[?25h[?25l[24;54H5[18;30H[1C[48;5;248m,[m[30m[47m[24;67H2-30[18;30H[?25h[?25l[24;54H6[18;29H[1C[36m[48;5;248my[m[30m[47m[24;67H1-29[18;29H[?25h[?25l[24;54H7[18;28H[1C[36m[48;5;248me[m[30m[47m[24;67H0-28[18;28H[?25h[?25l[24;54H8[18;27H[1C[36m[48;5;248mK[m[30m[47m[24;66H9-27 [18;27H[?25h[?25l[24;54H9[18;26H[1C[36m[48;5;248ms[m[30m[47m[24;66H8-26[18;26H[?25h[?25l[24;53H40[18;25H[1C[36m[48;5;248ma[m[30m[47m[24;66H7-25[18;25H[?25h[?25l[24;54H1[18;20H [48;5;248m    [m[30m[47m[36m[48;5;248mh[m[30m[47m[24;66H6-20[18;20H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;54H2[18;19H[1C[48;5;248m [m[30m[47m[24;66H5-19[18;19H[?25h[?25l[24;54H3[18;18H[1C[36m[48;5;248mv[m[30m[47m[24;66H4-18[18;18H[?25h[?25l[24;54H4[18;17H[1C[36m[48;5;248mo[m[30m[47m[24;66H3-17[18;17H[?25h[?25l[24;54H5[18;9H [48;5;248m       [m[30m[47m[36m[48;5;248mm[m[30m[47m[24;66H2-9 [18;9H[?25h[?25l[?25h[?25l[24;53H^[[18;9H[24;53H45[18;9H[24;55H^[[18;9H[24;53H    [18;16H       [36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;1H[K[24;63H34,2-16[7C11%[18;16H[?25h[?25l[24;53H2[18;17H[18;9H[48;5;248m        [m[30m[47m[24;1H[1m-- VISUAL --[m[30m[47m[24;53H[K[24;53H2[18;17H[24;63H34,3-17[7C11%[18;17H[?25h[?25l[24;53H3[18;18H[36m[48;5;248mm[m[30m[47m[24;66H4-18[18;18H[?25h[?25l[24;53H4[18;19H[36m[48;5;248mo[m[30m[47m[24;66H5-19[18;19H[?25h[?25l[24;53H5[18;24H[36m[48;5;248mv[m[30m[47m[48;5;248m    [m[30m[47m[24;66H6-24[18;24H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53H6[18;25H[48;5;248m [m[30m[47m[24;66H7-25[18;25H[?25h[?25l[24;53H7[18;26H[36m[48;5;248mh[m[30m[47m[24;66H8-26[18;26H[?25h[?25l[24;53H8[18;27H[36m[48;5;248ma[m[30m[47m[24;66H9-27[18;27H[?25h[?25l[24;53H9[18;28H[36m[48;5;248ms[m[30m[47m[24;66H10-28[18;28H[?25h[?25l[24;53H11[18;30H[36m[48;5;248mKe[m[30m[47m[24;67H2-30[18;30H[?25h[?25l[24;54H2[18;31H[36m[48;5;248my[m[30m[47m[24;67H3-31[18;31H[?25h[?25l[24;54H3[18;32H[48;5;248m,[m[30m[47m[24;67H4-32[18;32H[?25h[?25l[24;54H4[18;33H[48;5;248m [m[30m[47m[24;67H5-33[18;33H[?25h[?25l[24;54H5[18;34H[48;5;248m%[m[30m[47m[24;67H6-34[18;34H[?25h[?25l[24;54H6[18;35H[36m[48;5;248ma[m[30m[47m[24;67H7-35[18;35H[?25h[?25l[24;54H7[18;40H[36m[48;5;248ml[m[30m[47m[48;5;248m    [m[30m[47m[24;67H8-40[18;40H[?25h[?25l[?25h[?25l[24;54H8[18;41H[48;5;248m [m[30m[47m[24;67H9-41[18;41H[?25h[?25l[24;54H9[18;42H[34m[48;5;248m#[m[30m[47m[24;66H20-42[18;42H[?25h[?25l[24;53H20[18;43H[34m[48;5;248mp[m[30m[47m[24;67H1-43[18;43H[?25h[?25l[24;54H1[18;44H[34m[48;5;248mu[m[30m[47m[24;67H2-44[18;44H[?25h[?25l[24;54H2[18;45H[34m[48;5;248mt[m[30m[47m[24;67H3-45[18;45H[?25h[?25l[24;54H3[18;46H[34m[48;5;248m [m[30m[47m[24;67H4-46[18;46H[?25h[?25l[24;54H5[18;48H[34m[48;5;248mch[m[30m[47m[24;67H6-48[18;48H[?25h[?25l[24;54H6[18;49H[34m[48;5;248me[m[30m[47m[24;67H7-49[18;49H[?25h[?25l[24;54H7[18;50H[34m[48;5;248mc[m[30m[47m[24;67H8-50[18;50H[?25h[?25l[24;54H [19;51H[18;50H[34m[48;5;248mkKey result into al[m[30m[47m[48;5;248m 
                [m[30m[47m[36m[48;5;248mtest[m[30m[47m[48;5;248m    %[m[30m[47m[36m[48;5;248mal[m[30m[47m[48;5;248m, %[m[30m[47m[36m[48;5;248mal[m[30m[47m[48;5;248m        [m[30m[47m[34m[48;5;248m#non-zero [m[30m[47m[24;64H5,27-51[19;51H[?25h[?25l[1C[34m[48;5;248mi[m[30m[47m[24;67H8-52[19;52H[?25h[?25l[1C[34m[48;5;248mf[m[30m[47m[24;67H9-53[19;53H[?25h[?25l[1C[34m[48;5;248m [m[30m[47m[24;66H30-54[19;54H[?25h[?25l[1C[34m[48;5;248mk[m[30m[47m[24;67H1-55[19;55H[?25h[?25l[1C[34m[48;5;248me[m[30m[47m[24;67H2-56[19;56H[?25h[?25l[1C[34m[48;5;248my[m[30m[47m[24;67H3-57[19;57H[?25h[?25l[1C[34m[48;5;248mb[m[30m[47m[24;67H4-58[19;58H[?25h[?25l[1C[34m[48;5;248mo[m[30m[47m[24;67H5-59[19;59H[?25h[?25l[1C[34m[48;5;248ma[m[30m[47m[24;67H6-60[19;60H[?25h[?25l[2C[34m[48;5;248mrd[m[30m[47m[24;67H8-62[19;62H[?25h[?25l[1C[34m[48;5;248m [m[30m[47m[24;67H9-63[19;63H[?25h[?25l[1C[34m[48;5;248mh[m[30m[47m[24;66H40-64[19;64H[?25h[?25l[1C[34m[48;5;248ma[m[30m[47m[24;67H1-65[19;65H[?25h[?25l[1C[34m[48;5;248ms[m[30m[47m[24;67H2-66[19;66H[?25h[?25l[1C[34m[48;5;248m [m[30m[47m[24;67H3-67[19;67H[?25h[?25l[24;53H45[18;68H[34ml[m[30m[47m[18;69H[K[19;1H                [36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m        [34m#non-zero if keyboard has [m[30m[47m[24;64H4,46-68[18;68H[?25h[?25l[24;54H6[18;69H[34m[48;5;248ml[m[30m[47m[24;67H7-69[18;69H[?25h[?25l[?25h[?25l[?25h[?25l[?25h[?25l[24;53Hy [18;69H[24;53H [18;16H[18;9H        [36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;1H[K[24;63H34,2-16[7C11%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [17;6H[24;64H3,6   [17;6H[?25h[?25l[24;53H~@k[17;6H[24;53H   [16;16H[24;64H2,2-16[16;16H[?25h[?25l[24;53H~@k[16;16H[24;53H   [15;16H[24;64H1[15;16H[?25h[?25l[24;53H~@k[15;16H[24;53H   [14;16H[24;64H0[14;16H[?25h[?25l[24;53H~@k[14;16H[24;53H   [13;16H[24;63H29[13;16H[?25h[?25l[24;53H~@k[13;16H[24;53H   [12;16H[24;64H8[12;16H[?25h[?25l[24;53H~@k[12;16H[24;53H   [11;8H[24;64H7,7-8 [11;8H[?25h[?25l[24;53H~@k[11;8H[24;53H   [10;16H[24;64H6,9-16[10;16H[?25h[?25l[24;53H~@k[10;16H[24;53H   [9;5H[24;64H5,5   [9;5H[?25h[?25l[24;53H~@k[9;5H[24;53H   [8;1H[24;64H4,0-1[8;1H[?25h[?25l[24;53H~@k[8;1H[24;53H   [7;16H[24;64H3,9-16[7;16H[?25h[?25l[24;53H~@k[7;16H[24;53H   [6;16H[24;64H2[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;17H[36mjmp[m[30m[47m     [36mmain[m[30m[47m[24;63H[K[24;63H21,16[9C10%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;1H[34m#Entered at program startup.[m[30m[47m[24;63H[K[24;63H20,9-16[8C9%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H19,11-16[7C9%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_HI[m[30m[47m[8C=[7C[31m0x2[m[30m[47m[24;63H[K[24;63H18,0-1[9C8%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[36mDELAY_LO[m[30m[47m[8C=[7C[31m0x0[m[30m[47m[24;63H[K[24;63H17,0-1[9C7%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;1H[36mQUIT[m[30m[47m[12C=[7C'[36mq[m[30m[47m'[24;63H[K[24;63H16,2-16[8C7%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;1H[36mCOUNT[m[30m[47m[11C=[9C[31m50[m[30m[47m[24;63H[K[24;63H15,16[10C6%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;1H[1;23r[1;1H[L[1;24r[1;1H[36mCHK_INT[m[30m[47m[9C=[7C[31m0x16[m[30m[47m  [34m#[m[30m[47m[24;63H[K[24;63H14,0-1[9C5%[6;1H[?25h[?25l[24;53H~@k[6;1H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;1H[36mKEY_INT[m[30m[47m[9C=[7C[31m0x9[m[30m[47m   [34m#interrupt vector # for keyboard interrupt[m[30m[47m[24;63H[K[24;63H13,10-16[7C4%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;1H[36mDOS_INT[m[30m[47m[9C=[7C[31m0x21[m[30m[47m  [34m#use INT 0x21 to generate s/w interrupt to DOS[m[30m[47m[24;63H[K[24;63H12,10-16[7C4%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;1H[34m#Define constants[m[30m[47m[24;63H[K[24;63H11,9-16[8C3%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H10,9-16[8C2%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.code16[m[30m[47m[24;63H[K[24;63H9,9-16[9C2%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[24;63H[K[24;63H8,9-16[9C1%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;17H[1m[38;5;130m.org[m[30m[47m    [31m0x100[m[30m[47m[24;63H[K[24;63H7,9-16[9C0%[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [6;16H[1;23r[1;1H[L[1;24r[1;17H[34m#dos starts all .com programs at this offset[m[30m[47m[24;63H[K[24;63H6,16[10CTop[6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [5;1H[24;63H5,0-1[5;1H[?25h[?25l[24;53H~@k[5;1H[24;53H   [4;16H[24;63H4,9-16[4;16H[?25h[?25l[24;53H~@k[4;16H[24;53H   [3;1H[24;63H3,0-1 [3;1H[?25h[?25l[24;53H~@k[3;1H[24;53H   [2;16H[24;63H2,2-16[2;16H[?25h[?25l[24;53H~@k[2;16H[24;53H   [1;16H[24;63H1[1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [1;16H[?25h[?25l[24;53H~@k[1;16H[24;53H   [2;16H[24;63H2[2;16H[?25h[?25l[24;53H~@k[2;16H[24;53H   [3;1H[24;63H3,0-1 [3;1H[?25h[?25l[24;53H~@k[3;1H[24;53H   [4;16H[24;63H4,9-16[4;16H[?25h[?25l[24;53H~@k[4;16H[24;53H   [5;1H[24;63H5,0-1 [5;1H[?25h[?25l[24;53H~@k[5;1H[24;53H   [6;16H[24;63H6,16 [6;16H[?25h[?25l[24;53H~@k[6;16H[24;53H   [7;16H[24;63H7,9-16[7;16H[?25h[?25l[24;53H~@k[7;16H[24;53H   [8;16H[24;63H8[8;16H[?25h[?25l[24;53H~@k[8;16H[24;53H   [9;16H[24;63H9[9;16H[?25h[?25l[24;53H~@k[9;16H[24;53H   [10;16H[24;63H10,9-16[10;16H[?25h[?25l[24;53H~@k[10;16H[24;53H   [11;16H[24;64H1[11;16H[?25h[?25l[24;53H~@k[11;16H[24;53H   [12;16H[24;64H2,10-16[12;16H[?25h[?25l[24;53H~@k[12;16H[24;53H   [13;16H[24;64H3[13;16H[?25h[?25l[24;53H~@k[13;16H[24;53H   [14;1H[24;64H4,0-1  [14;1H[?25h[?25l[24;53H~@k[14;1H[24;53H   [15;16H[24;64H5,16 [15;16H[?25h[?25l[24;53H~@k[15;16H[24;53H   [16;16H[24;64H6,2-16[16;16H[?25h[?25l[24;53H~@k[16;16H[24;53H   [17;1H[24;64H7,0-1 [17;1H[?25h[?25l[24;53H~@k[17;1H[24;53H   [18;1H[24;64H8[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H19,11-16[7C0%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mmain[m[30m[47m:[24;63H[K[24;63H20,9-16[8C1%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36msetupHandler[m[30m[47m[24;63H[K[24;63H21,16[10C2%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mmain1[m[30m[47m:[24;63H[K[24;63H22,9-16[8C2%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[24;63H[K[24;63H23,9-16[8C3%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[24;63H[K[24;63H24,0-1[9C4%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;5H[1;23r[23;1H
[1;24r[23;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[24;63H[K[24;63H25,5[11C4%[18;5H[?25h[?25l[24;53H~@k[18;5H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[24;63H[K[24;63H26,9-16[8C5%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m[24;63H[K[24;63H27,7-8[9C6%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mmain2[m[30m[47m:[24;63H[K[24;63H28,2-16[8C7%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[24;63H[K[24;63H29,2-16[8C7%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[24;63H[K[24;63H30,2-16[8C8%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[24;63H[K[24;63H31,2-16[8C9%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[24;63H[K[24;63H32,2-16[8C9%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[24;63H[K[24;63H33,6[10C10%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mmain4[m[30m[47m:[24;63H[K[24;63H34,2-16[7C11%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[24;63H[K[24;63H35,2-16[7C11%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[24;63H[K[24;63H36,0-1[8C12%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[24;63H[K[24;63H37,9-16[7C13%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[24;63H[K[24;63H38,2-16[7C14%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m[24;63H[K[24;63H39,7-8[8C14%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;1H[36mmain3[m[30m[47m:[24;63H[K[24;63H40,9-16[7C15%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [18;16H[1;23r[23;1H
[1;24r[23;17H[36mcall[m[30m[47m    [36mresetHandler[m[30m[47m[24;63H[K[24;63H41,2-16[7C16%[18;16H[?25h[?25l[24;53H~@k[18;16H[24;53H   [17;16H[24;64H0,9[17;16H[?25h[?25l[24;53H~@k[17;16H[24;53H   [16;8H[24;63H39,7-8 [16;8H[?25h[?25l[24;53H~@k[16;8H[24;53H   [15;16H[24;64H8,2-16[15;16H[?25h[?25l[24;53H~@k[15;16H[24;53H   [14;16H[24;64H7,9[14;16H[?25h[?25l[24;53H~@k[14;16H[24;53H   [13;1H[24;64H6,0-1 [13;1H[?25h[?25l[24;53H^I[13;1H[24;53H  [13;1H[?25h[?25l[24;53H^I[13;1H[24;53H  [13;1H[?25h[?25l[24;53H^I[13;1H[24;53H  [13;1H[?25h[?25l[24;53H^I[13;1H[24;53H  [13;1H[?25h[?25l[24;53H~@k[13;1H[24;53H   [13;1H[24;1H[1m-- INSERT --[m[30m[47m[24;63H[K[24;63H36,1[10C16%[13;1H[?25h[?25l[24;66H2-9[13;9H[?25h[?25l[24;66H3-17[13;17H[?25h[?25l[36mm[m[30m[47m[24;66H4-18[13;18H[?25h[?25l[36mo[m[30m[47m[24;66H5-19[13;19H[?25h[?25l[36mv[m[30m[47m[24;66H6-20[13;20H[?25h[?25l[24;66H7-25[13;25H[?25h[?25l[36mh[m[30m[47m[24;66H8-26[13;26H[?25h[?25l[36ma[m[30m[47m[24;66H9-27[13;27H[?25h[?25l[36ms[m[30m[47m[24;66H10-28[13;28H[?25h[?25l[36mK[m[30m[47m[24;67H1-29[13;29H[?25h[?25l[36me[m[30m[47m[24;67H2-30[13;30H[?25h[?25l[36my[m[30m[47m[24;67H3-31[13;31H[?25h[?25l,[24;67H4-32[13;32H[?25h[?25l[24;67H5-33[13;33H[?25h[?25l[24;67H4-32[13;32H[?25h[?25l[13;31H[K[24;67H3-31[13;31H[?25h[?25l[13;30H[K[24;67H2-30[13;30H[?25h[?25l[13;29H[K[24;67H1-29[13;29H[?25h[?25l[36me[m[30m[47m[24;67H2-30[13;30H[?25h[?25l[36my[m[30m[47m[24;67H3-31[13;31H[?25h[?25l,[24;67H4-32[13;32H[?25h[?25l[24;67H5-33[13;33H[?25h[?25l%[24;67H6-34[13;34H[?25h[?25l[36ma[m[30m[47m[24;67H7-35[13;35H[?25h[?25l[36ml[m[30m[47m[24;67H8-36[13;36H[?25h[?25l[24;67H9-41[13;41H[?25h[24;1H[K[13;40H[?25l[24;53H^[[13;40H[24;53H  [13;41H[24;63H36,18-40      16%[13;40H[?25h[?25l[24;53H:[13;40H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"key-int.s" 165L, 4365C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[39;49m[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=key-int.lst key-int.s -o key-int.o
objcopy -O binary key-int.o key-int.bin
rm key-int.o
dd if=key-int.bin of=key-int.com bs=256 skip=1
0+1 records in
0+1 records out
212 bytes copied, 0.00128413 s, 165 kB/s
rm key-int.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbx[Kox &
[5] 9633
[4]   Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
[5]-  Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ ^C
amchugh2@g7-37:~/i220a_new/work/lab14$ k[Kvim key-int.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.c" [New File][2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[2;1H[94m~                                                                               [3;1H~                                                                               [4;1H~                                                                               [5;1H~                                                                               [6;1H~                                                                               [7;1H~                                                                               [8;1H~                                                                               [9;1H~                                                                               [10;1H~                                                                               [11;1H~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[24;63H0,0-1[9CAll]2;key-int.c (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.c[1;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[2;1H[94m~                                                                               [3;1H~                                                                               [4;1H~                                                                               [5;1H~                                                                               [6;1H~                                                                               [7;1H~                                                                               [8;1H~                                                                               [9;1H~                                                                               [10;1H~                                                                               [11;1H~                                                                               [12;1H~                                                                               [13;1H~                                                                               [14;1H~                                                                               [15;1H~                                                                               [16;1H~                                                                               [17;1H~                                                                               [18;1H~                                                                               [19;1H~                                                                               [20;1H~                                                                               [21;1H~                                                                               [22;1H~                                                                               [23;1H~                                                                               [m[24;63H0,0-1[9CAll"key-int.c" [New File][1;1H[?25h[?25l[24;53H:[1;1H[24;1H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[24;1H[K[24;1H[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ vim ke-[Ky-int.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.s" 165L, 4365C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[36mmain[m:[2;17H[36mcall[m    [36msetupHandler
main1[m:[4;17H[36mcall[m    [36mgetchar[m[9C[34m#read input char into inChar[m[5;17H[36mmov[m     [36minChar[m, %[36mal[m     [34m#al set to char read[m[6;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[7;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[8;17H[36mmov[m     $[36mCOUNT[m, %[36mcx[m     [34m#set output counter[m
[36mmain2[m:[10;17H[36mmov[m     [36mhasKey[m, %[36mal[m     [34m#put checkKey result into al[m[11;17H[36mtest[m    %[36mal[m, %[36mal[m[8C[34m#non-zero if keyboard has char[m[12;17H[36mmov[m     [36mhasKey[m, %[36mal[13;17Hjz[m      [36mmain4[m[11C[34m#no key press[m[14;17H[36mcall[m    [36mgetchar
main4[m:[16;17H[36mcall[m    [36mputchar[m[9C[34m#output inChar to console[m[17;17H[36mcall[m    [36mdelay[m[11C[34m#delay for time proportional to DELAY[m[18;17H[36mdec[m     %[36mcx[m[13C[34m#decrement loop counter[m[19;17H[36mjnz[m     [36mmain2[m[11C[34m#loop if output counter nonzero[m[20;17H[36mjmp[m     [36mmain1[m[11C[34m#back to read next char[m
[36mmain3[m:[22;17H[36mcall[m    [36mresetHandler[23;17Hcall[m    [36mexit[m[24;63H36,18-40      16%]2;key-int.s (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[12;40H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[96mmain[m:[2;17H[1m[96mcall[m    [1m[96msetupHandler
main1[m:[4;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[5;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[6;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[7;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[8;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[10;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[11;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[m[12;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[13;17Hjz[m      [1m[96mmain4[m[11C[96m#no key press[m[14;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[16;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[17;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[18;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[19;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[20;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m
[1m[96mmain3[m:[22;17H[1m[96mcall[m    [1m[96mresetHandler[23;17Hcall[m    [1m[96mexit[m[24;63H36,18-40      16%"key-int.s" 165L, 4365C[12;40H[?25h[?25l[24;53H:[12;40H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25ho[?25l[?25hl[?25l[?25ho[?25l[?25h[?25l [?25ho[?25l[?25h[?25l[24;7H[K[24;7H[?25hm[?25l[?25ho[?25l[?25hr[?25l[?25hn[?25l[?25hi[?25l[?25hn[?25l[?25hg[?25l[?25h[?25l[30m[47m[12;40H[27m[23m[29m[m[30m[47m[H[2J[1;1H[36mmain[m[30m[47m:[2;17H[36mcall[m[30m[47m    [36msetupHandler
main1[m[30m[47m:[4;17H[36mcall[m[30m[47m    [36mgetchar[m[30m[47m[9C[34m#read input char into inChar[m[30m[47m[5;17H[36mmov[m[30m[47m     [36minChar[m[30m[47m, %[36mal[m[30m[47m     [34m#al set to char read[m[30m[47m[6;17H[36mcmp[m[30m[47m     $[36mQUIT[m[30m[47m, %[36mal[m[30m[47m      [34m#is it a QUIT character?[m[30m[47m[7;17H[36mjz[m[30m[47m      [36mmain3[m[30m[47m[11C[34m#quit if got QUIT character[m[30m[47m[8;17H[36mmov[m[30m[47m     $[36mCOUNT[m[30m[47m, %[36mcx[m[30m[47m     [34m#set output counter[m[30m[47m
[36mmain2[m[30m[47m:[10;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[m[30m[47m     [34m#put checkKey result into al[m[30m[47m[11;17H[36mtest[m[30m[47m    %[36mal[m[30m[47m, %[36mal[m[30m[47m[8C[34m#non-zero if keyboard has char[m[30m[47m[12;17H[36mmov[m[30m[47m     [36mhasKey[m[30m[47m, %[36mal[13;17Hjz[m[30m[47m      [36mmain4[m[30m[47m[11C[34m#no key press[m[30m[47m[14;17H[36mcall[m[30m[47m    [36mgetchar
main4[m[30m[47m:[16;17H[36mcall[m[30m[47m    [36mputchar[m[30m[47m[9C[34m#output inChar to console[m[30m[47m[17;17H[36mcall[m[30m[47m    [36mdelay[m[30m[47m[11C[34m#delay for time proportional to DELAY[m[30m[47m[18;17H[36mdec[m[30m[47m     %[36mcx[m[30m[47m[13C[34m#decrement loop counter[m[30m[47m[19;17H[36mjnz[m[30m[47m     [36mmain2[m[30m[47m[11C[34m#loop if output counter nonzero[m[30m[47m[20;17H[36mjmp[m[30m[47m     [36mmain1[m[30m[47m[11C[34m#back to read next char[m[30m[47m
[36mmain3[m[30m[47m:[22;17H[36mcall[m[30m[47m    [36mresetHandler[23;17Hcall[m[30m[47m    [36mexit[m[30m[47m[24;63H36,18-40      16%[12;40H[?25h[?25l[24;53H~@k[12;40H[24;53H   [11;40H[24;64H5,16[11;40H[?25h[?25l[24;53H~@k[11;40H[24;53H   [12;40H[24;64H6,18[12;40H[?25h[?25l[24;53H~@k[12;40H[24;53H   [12;36H[24;1H[1m-- INSERT --[m[30m[47m[24;63H[K[24;63H36,18-36      16%[12;36H[?25h[?25l[24;64H5,16-33[11;33H[?25h[?25l[24;64H4,18-36[10;36H[?25h[?25l[24;64H3,7    [9;7H[?25h[?25l[24;64H2,22-36[8;36H[?25h[?25l[24;64H1,12-33[7;33H[?25h[?25l[24;64H0,17-35[6;35H[?25h[?25l[24;64H1,12-33[7;33H[?25h[?25l[24;64H2,22-36[8;36H[?25h[?25l[24;64H3,7    [9;7H[?25h[?25l[24;64H4,18-36[10;36H[?25h[?25l[24;64H3,7    [9;7H[?25h[?25l[24;64H2,22-36[8;36H[?25h[?25l[24;64H1,12-33[7;33H[?25h[?25l[24;64H2,22-36[8;36H[?25h[?25l[24;64H1,12-33[7;33H[?25h[?25l[24;64H2,22-36[8;36H[?25h[?25l[24;64H3,7    [9;7H[?25h[?25l[24;64H2,22-36[8;36H[?25h[?25l[24;64H3,7    [9;7H[?25h[?25l[24;64H4,18-36[10;36H[?25h[?25l[24;64H5,16-33[11;33H[?25h[?25l[24;64H6,18-36[12;36H[?25h[?25l[24;67H9-41[12;41H[?25h[?25l[24;67H8-36[12;36H[?25h[?25l[24;64H5,16-33[11;33H[?25h[?25l[24;64H4,18-36[10;36H[?25h[?25l[24;64H5,16-33[11;33H[?25h[?25l[24;64H6,18-36[12;36H[?25h[?25l[24;67H7-35[12;35H[?25h[?25l[24;67H6-34[12;34H[?25h[?25l[24;67H5-33[12;33H[?25h[?25l[24;67H4-32[12;32H[?25h[?25l[24;67H3-31[12;31H[?25h[?25l[24;67H2-30[12;30H[?25h[?25l[24;67H1-29[12;29H[?25h[?25l[24;67H0-28[12;28H[?25h[?25l[24;66H9-27 [12;27H[?25h[?25l[24;66H8-26[12;26H[?25h[?25l[24;66H7-25[12;25H[?25h[?25l[24;66H6-20[12;20H[?25h[?25l[24;66H5-19[12;19H[?25h[?25l[24;66H4-18[12;18H[?25h[?25l[24;66H3-17[12;17H[?25h[?25l[24;66H2-9 [12;9H[?25h[?25l[24;66H3-17[12;17H[?25h[?25l[34m#mov    hasKey, %al     [m[30m[47m[24;66H4-18]2;key-int.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[12;18H[?25h[?25l[24;64H7,11-18[13;18H[?25h[?25l[24;64H8,4-18 [14;18H[?25h[?25l[24;64H9,8-9 [15;9H[?25h[?25l[24;63H40,11-18[16;18H[?25h[?25l[24;64H1,4-18 [17;18H[?25h[?25l[24;64H2,18  [18;18H[?25h[?25l[1;23r[23;1H
[1;24r[24;63H[K[24;63H43,4-18[7C17%[18;18H[?25h[?25l[24;64H2,18  [17;18H[?25h[?25l[24;64H1,4-18[16;18H[?25h[?25l[24;64H0,11-18[15;18H[?25h[?25l[24;63H39,8-9  [14;9H[?25h[?25l[24;63H40,11-18[15;18H[?25h[?25l[24;64H1,4-18 [16;18H[?25h[?25l[24;64H0,11-18[15;18H[?25h[?25l[24;64H1,4-18 [16;18H[?25h[?25l[24;66H5-19[16;19H[?25h[?25l[24;66H6-20[16;20H[?25h[?25l[24;66H7-21[16;21H[?25h[?25l[24;66H8-22[16;22H[?25h[?25l[24;66H9-23[16;23H[?25h[?25l[24;66H10-24[16;24H[?25h[?25l[24;67H1-25[16;25H[?25h[?25l[24;67H2-26[16;26H[?25h[?25l[24;67H3-27[16;27H[?25h[?25l[24;67H4-28[16;28H[?25h[?25l[24;67H5-29[16;29H[?25h[?25l[24;67H6-30[16;30H[?25h[?25l[24;67H7-31[16;31H[?25h[?25l[24;67H8-32[16;32H[?25h[?25l[24;67H9-33[16;33H[?25h[?25l[24;66H20-34[16;34H[?25h[?25l[24;67H1-35[16;35H[?25h[?25l[24;67H2-36[16;36H[?25h[?25l[24;67H3-37[16;37H[?25h[?25l[24;67H4-38[16;38H[?25h[?25l[24;67H5-39[16;39H[?25h[?25l[24;67H6-40[16;40H[?25h[?25l[24;67H7-41[16;41H[?25h[?25l[24;67H8-42[16;42H[?25h[?25l[24;67H9-43[16;43H[?25h[?25l[24;66H30-44[16;44H[?25h[?25l[24;67H1-45[16;45H[?25h[?25l[24;67H2-46[16;46H[?25h[?25l[24;67H3-47[16;47H[?25h[?25l[24;67H4-48[16;48H[?25h[?25l[24;67H5-49[16;49H[?25h[?25l[24;67H6-50[16;50H[?25h[?25l[24;67H7-51[16;51H[?25h[?25l[24;67H8-52[16;52H[?25h[?25l[24;67H9-53[16;53H[?25h[?25l[24;66H40-54[16;54H[?25h[?25l[24;67H1-55[16;55H[?25h[?25l[24;67H2-56[16;56H[?25h[?25l[24;67H3-57[16;57H[?25h[?25l[24;67H4-58[16;58H[?25h[?25l[24;67H5-59[16;59H[?25h[?25l[24;67H6-60[16;60H[?25h[?25l[24;67H7-61[16;61H[?25h[?25l[24;67H8-62[16;62H[?25h[?25l[24;67H9-63[16;63H[?25h[?25l[24;66H50-64[16;64H[?25h[?25l[24;67H1-65[16;65H[?25h[?25l[24;67H2-66[16;66H[?25h[?25l[24;67H3-67[16;67H[?25h[?25l[24;67H4-68[16;68H[?25h[?25l[24;67H5-69[16;69H[?25h[?25l[24;67H6-70[16;70H[?25h[?25l[24;67H7-71[16;71H[?25h[?25l[24;67H8-72[16;72H[?25h[?25l[24;67H9-73[16;73H[?25h[?25l[24;66H60-74[16;74H[?25h[?25l[24;67H1-75[16;75H[?25h[?25l[24;67H2-76[16;76H[?25h[?25l[24;67H3-77[16;77H[?25h[?25l[24;67H4-78[16;78H[?25h[?25l[17;23r[17;1H[L[1;24r[24;63H[K[24;63H42,1[10C17%[17;1H[?25h[?25l[24;66H2-9[17;9H[?25h[?25l[24;66H3-17[17;17H[?25h[?25l[36mm[m[30m[47m[24;66H4-18[17;18H[?25h[?25l[36mo[m[30m[47m[24;66H5-19[17;19H[?25h[?25l[36mv[m[30m[47m[24;66H6-20[17;20H[?25h[?25l[24;66H7-21[17;21H[?25h[?25l[36mh[m[30m[47m[24;66H8-22[17;22H[?25h[?25l[36ma[m[30m[47m[24;66H9-23[17;23H[?25h[?25l[36ms[m[30m[47m[24;66H10-24[17;24H[?25h[?25l[36mK[m[30m[47m[24;67H1-25[17;25H[?25h[?25l[36me[m[30m[47m[24;67H2-26[17;26H[?25h[?25l[36my[m[30m[47m[24;67H3-27[17;27H[?25h[?25l,[24;67H4-28[17;28H[?25h[?25l[24;67H5-29[17;29H[?25h[?25l[24;67H4-28[17;28H[?25h[?25l[17;27H[K[24;67H3-27[17;27H[?25h[?25l[17;26H[K[24;67H2-26[17;26H[?25h[?25l[17;25H[K[24;67H1-25[17;25H[?25h[?25l[17;24H[K[24;67H0-24[17;24H[?25h[?25l[17;23H[K[24;66H9-23 [17;23H[?25h[?25l[17;22H[K[24;66H8-22[17;22H[?25h[?25l[17;21H[K[24;66H7-21[17;21H[?25h[?25l[24;66H8-25[17;25H[?25h[?25l[36mh[m[30m[47m[24;66H9-26[17;26H[?25h[?25l[36ma[m[30m[47m[24;66H10-27[17;27H[?25h[?25l[36ms[m[30m[47m[24;67H1-28[17;28H[?25h[?25l[36mK[m[30m[47m[24;67H2-29[17;29H[?25h[?25l[36me[m[30m[47m[24;67H3-30[17;30H[?25h[?25l[36my[m[30m[47m[24;67H4-31[17;31H[?25h[?25l,[24;67H5-32[17;32H[?25h[?25l[24;67H6-33[17;33H[?25h[?25l%[24;67H7-34[17;34H[?25h[?25l[36ma[m[30m[47m[24;67H8-35[17;35H[?25h[?25l[36ml[m[30m[47m[24;67H9-36[17;36H[?25h[24;1H[K[17;35H[?25l[24;53H^[[17;35H[24;53H  [17;36H[24;63H42,18-35      17%[17;35H[?25h[?25l[24;53H:[17;35H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"key-int.s" 166L, 4385C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[39;49m[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=key-int.lst key-int.s -o key-int.o
objcopy -O binary key-int.o key-int.bin
rm key-int.o
dd if=key-int.bin of=key-int.com bs=256 skip=1
0+1 records in
0+1 records out
212 bytes copied, 0.00141313 s, 150 kB/s
rm key-int.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbox &
[3] 9781
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
[3]-  Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbox &[4Pmakevim key-int.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.s" 166L, 4385C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[2;17H[36mmov[m     $[36mCOUNT[m, %[36mcx[m     [34m#set output counter[m
[36mmain2[m:[4;17H[36mmov[m     [36mhasKey[m, %[36mal[m     [34m#put checkKey result into al[m[5;17H[36mtest[m    %[36mal[m, %[36mal[m[8C[34m#non-zero if keyboard has char[6;17H#mov    hasKey, %al     [m[7;17H[36mjz[m      [36mmain4[m[11C[34m#no key press[m[8;17H[36mcall[m    [36mgetchar
main4[m:[10;17H[36mcall[m    [36mputchar[m[9C[34m#output inChar to console[m[11;17H[36mcall[m    [36mdelay[m[11C[34m#delay for time proportional to DELAY[m[12;17H[36mmov[m     [36mhasKey[m, %[36mal[13;17Hdec[m     %[36mcx[m[13C[34m#decrement loop counter[m[14;17H[36mjnz[m     [36mmain2[m[11C[34m#loop if output counter nonzero[m[15;17H[36mjmp[m     [36mmain1[m[11C[34m#back to read next char[m
[36mmain3[m:[17;17H[36mcall[m    [36mresetHandler[18;17Hcall[m    [36mexit[m

[34m#Save address of current interrupt handler for keyboard interrupt in intAddr
#and address of bios interrupt handler in chkAddr.
#Point keyboard interrupt to intHandler [m
[36msetupHandler[m:[24;63H42,18-35      20%]2;key-int.s (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[12;35H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[2;17H[1m[96mmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[4;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[5;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[6;17H#mov    hasKey, %al     [m[7;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[8;17H[1m[96mcall[m    [1m[96mgetchar
main4[m:[10;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[11;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[12;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[13;17Hdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[14;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[15;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m
[1m[96mmain3[m:[17;17H[1m[96mcall[m    [1m[96mresetHandler[18;17Hcall[m    [1m[96mexit[m

[96m#Save address of current interrupt handler for keyboard interrupt in intAddr
#and address of bios interrupt handler in chkAddr.
#Point keyboard interrupt to intHandler [m
[1m[96msetupHandler[m:[24;63H42,18-35      20%"key-int.s" 166L, 4385C[12;35H[?25h[?25l[24;53H:[12;35H[24;1H[K[24;1H:[?2004h[?25h [?25l[12;35H[24;63H42,18-35      20%[12;35H[?25h[?25l[24;53H~@k[12;35H[24;53H   [11;35H[24;64H1,21[11;35H[?25h[?25l[24;53H~@k[11;35H[24;53H   [10;35H[24;64H0,28[10;35H[?25h[?25l[24;53H~@k[10;35H[24;53H   [11;35H[24;64H1,21[11;35H[?25h[?25l[24;53H~@k[11;35H[24;53H   [12;35H[24;64H2,18[12;35H[?25h[?25l[24;53H~@k[12;35H[24;53H   [12;34H[24;67H7-34[12;34H[?25h[?25l[24;53H~@k[12;34H[24;53H   [12;33H[24;67H6-33[12;33H[?25h[?25l[24;53H~@k[12;33H[24;53H   [12;32H[24;67H5-32[12;32H[?25h[?25l[24;53H~@k[12;32H[24;53H   [12;31H[24;67H4-31[12;31H[?25h[?25l[24;53H~@k[12;31H[24;53H   [12;30H[24;67H3-30[12;30H[?25h[?25l[24;53H~@k[12;30H[24;53H   [12;29H[24;67H2-29[12;29H[?25h[?25l[24;53H~@k[12;29H[24;53H   [12;28H[24;67H1-28[12;28H[?25h[?25l[24;53H~@k[12;28H[24;53H   [12;27H[24;67H0-27[12;27H[?25h[?25l[24;53H~@k[12;27H[24;53H   [12;26H[24;66H9-26 [12;26H[?25h[?25l[24;53H~@k[12;26H[24;53H   [12;25H[24;66H8-25[12;25H[?25h[?25l[24;53H~@k[12;25H[24;53H   [12;24H[24;66H7-24[12;24H[?25h[?25l[24;53H~@k[12;24H[24;53H   [12;20H[24;66H6-20[12;20H[?25h[?25l[24;53H~@k[12;20H[24;53H   [12;19H[24;66H5-19[12;19H[?25h[?25l[24;53H~@k[12;19H[24;53H   [12;18H[24;66H4-18[12;18H[?25h[?25l[24;53H~@k[12;18H[24;53H   [12;17H[24;66H3-17[12;17H[?25h[?25l[24;53H~@k[12;17H[24;53H   [12;17H[24;1H[1m-- INSERT --[m[24;63H[K[24;63H42,3-17[7C20%[12;17H[?25h[?25l[96m#mov    hasKey, %al[m[24;66H4-18]2;key-int.s + (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[12;18H[?25h[?25l[24;64H1[11;18H[?25h[?25l[24;64H0,11-18[10;18H[?25h[?25l[24;63H39,8-9  [9;9H[?25h[?25l[24;64H8,4-18[8;18H[?25h[?25l[24;64H7,11-18[7;18H[?25h[?25l[24;64H6,4-18 [6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[24;63H[K[24;63H35,4-18[7C20%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[24;63H[K[24;63H34,4-18[7C19%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[24;63H[K[24;63H33,7[10C18%[6;7H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain1[m:[24;63H[K[24;63H32,4-18[7C18%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;17H[1m[96mcall[m    [1m[96msetupHandler[m[24;63H[K[24;63H31,4-18[7C17%[6;18H[?25h[?25l[1;23r[1;1H[L[1;24r[1;1H[1m[96mmain[m:[24;63H[K[24;63H30,4-18[7C16%[6;18H[?25h[?25l[24;64H1[7;18H[?25h[?25l[24;64H2[8;18H[?25h[?25l[24;64H1[7;18H[?25h[?25l[24;64H2[8;18H[?25h[?25l[24;66H5-19[8;19H[?25h[?25l[24;64H1[7;19H[?25h[?25l[24;66H6-25[7;25H[?25h[?25l[24;66H7-26[7;26H[?25h[?25l[24;66H8-27[7;27H[?25h[?25l[24;66H9-28[7;28H[?25h[?25l[24;66H10-29[7;29H[?25h[?25l[24;67H1-30[7;30H[?25h[?25l[24;67H2-33[7;33H[?25h[?25l[24;67H3-41[7;41H[?25h[?25l[24;67H4-42[7;42H[?25h[?25l[24;67H5-43[7;43H[?25h[?25l[24;67H6-44[7;44H[?25h[?25l[24;67H7-45[7;45H[?25h[?25l[24;67H8-46[7;46H[?25h[?25l[24;67H9-47[7;47H[?25h[?25l[24;66H20-48[7;48H[?25h[?25l[24;67H1-49[7;49H[?25h[?25l[24;67H2-50[7;50H[?25h[?25l[24;67H3-51[7;51H[?25h[?25l[24;67H4-52[7;52H[?25h[?25l[24;67H5-53[7;53H[?25h[?25l[24;67H6-54[7;54H[?25h[?25l[24;67H7-55[7;55H[?25h[?25l[24;67H8-56[7;56H[?25h[?25l[24;67H9-57[7;57H[?25h[?25l[24;66H30-58[7;58H[?25h[?25l[24;67H1-59[7;59H[?25h[?25l[24;67H2-60[7;60H[?25h[?25l[24;67H3-61[7;61H[?25h[?25l[24;67H4-62[7;62H[?25h[?25l[24;67H5-63[7;63H[?25h[?25l[24;67H6-64[7;64H[?25h[?25l[24;67H7-65[7;65H[?25h[?25l[24;67H8-66[7;66H[?25h[?25l[24;67H9-67[7;67H[?25h[?25l[24;66H40-68[7;68H[?25h[?25l[8;23r[8;1H[L[1;24r[24;63H[K[24;63H32,1[10C16%[8;1H[?25h[?25l[24;66H2-9[8;9H[?25h[?25l[24;66H3-17[8;17H[?25h[?25l[1m[96mm[m[24;66H4-18[8;18H[?25h[?25l[1m[96mo[m[24;66H5-19[8;19H[?25h[?25l[1m[96mv[m[24;66H6-20[8;20H[?25h[?25l[24;66H7-25[8;25H[?25h[?25l[1m[96mh[m[24;66H8-26[8;26H[?25h[?25l[1m[96ma[m[24;66H9-27[8;27H[?25h[?25l[1m[96ms[m[24;66H10-28[8;28H[?25h[?25l[1m[96mK[m[24;67H1-29[8;29H[?25h[?25l[1m[96me[m[24;67H2-30[8;30H[?25h[?25l[1m[96my[m[24;67H3-31[8;31H[?25h[?25l,[24;67H4-32[8;32H[?25h[?25l[24;67H5-33[8;33H[?25h[?25l%[24;67H6-34[8;34H[?25h[?25l[1m[96ma[m[24;67H7-35[8;35H[?25h[?25l[1m[96ml[m[24;67H8-36[8;36H[?25h[24;1H[K[8;35H[?25l[24;53H^[[8;35H[24;53H  [8;36H[24;63H32,17-35      16%[8;35H[?25h[?25l[24;53H:[8;35H[24;53H[K[24;1H:[?2004h[?25hx[?25l[?25h[?25l[?1006l[?1002l[?2004l"key-int.s" 167L, 4404C written]2;Terminal - ]1;Terminal - [23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0tamchugh2@g7-37:~/i220a_new/work/lab14$ make
as --32 -a=key-int.lst key-int.s -o key-int.o
objcopy -O binary key-int.o key-int.bin
rm key-int.o
dd if=key-int.bin of=key-int.com bs=256 skip=1
0+1 records in
0+1 records out
212 bytes copied, 0.00131826 s, 161 kB/s
rm key-int.bin
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbox &
[3] 9938
amchugh2@g7-37:~/i220a_new/work/lab14$ DOSBox version 0.74-2
Copyright 2002-2018 DOSBox Team, published under GNU GPL.
---
CONFIG:Loading primary settings from config file /home/amchugh2/.dosbox/dosbox-0.74-2.conf
MIXER:Got different values from SDL: freq 44100, blocksize 512
ALSA:Can't subscribe to MIDI port (65:0) nor (17:0)
MIDI:Opened device:none
^C
[3]-  Done                    dosbox
amchugh2@g7-37:~/i220a_new/work/lab14$ ^C
amchugh2@g7-37:~/i220a_new/work/lab14$ dosbox &[4Pmakevim key-int.s
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[24;1H"key-int.s" 167L, 4404C[2;1H‚ñΩ[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#Entered at program startup.[m[2;17H[36mjmp[m     [36mmain[m


[34m#data area      [m
[36minChar[m:[9C[38;5;130m.byte[m   [31m0[m
[36mhasKey[m:[9C[38;5;130m.byte[m   [31m0[m
[36mintAddr[m:[8C[38;5;130m.word[m   [31m0,[m [31m0[m
[36mchkAddr[m:[8C[38;5;130m.word[m   [31m0,[m [31m0[m

[36mmain[m:[12;17H[36mcall[m    [36msetupHandler
main1[m:[14;17H[36mcall[m    [36mgetchar[m[9C[34m#read input char into inChar[m[15;17H[36mmov[m     [36minChar[m, %[36mal[m     [34m#al set to char read[m[16;17H[36mcmp[m     $[36mQUIT[m, %[36mal[m      [34m#is it a QUIT character?[m[17;17H[36mjz[m      [36mmain3[m[11C[34m#quit if got QUIT character[m[18;17H[36mmov[m     [36mhasKey[m, %[36mal[19;17Hmov[m     $[36mCOUNT[m, %[36mcx[m     [34m#set output counter[m
[36mmain2[m:[21;17H[36mmov[m     [36mhasKey[m, %[36mal[m     [34m#put checkKey result into al[m[22;17H[36mtest[m    %[36mal[m, %[36mal[m[8C[34m#non-zero if keyboard has char[23;17H#mov    hasKey, %al     [m[24;63H32,17-35[7C9%]2;key-int.s (~/git-repos/i220a_new/work/lab14) - VIM]1;key-int.s[18;35H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?1000l[?1006h[?1002h[?1006l[?1002l[?1006h[?1002h[27m[23m[29m[m[H[2J[?25l[1;1H[96m#Entered at program startup.[m[2;17H[1m[96mjmp[m     [1m[96mmain[m


[96m#data area      [m
[1m[96minChar[m:[9C[93m.byte[m   [95m0[m
[1m[96mhasKey[m:[9C[93m.byte[m   [95m0[m
[1m[96mintAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m
[1m[96mchkAddr[m:[8C[93m.word[m   [95m0,[m [95m0[m

[1m[96mmain[m:[12;17H[1m[96mcall[m    [1m[96msetupHandler
main1[m:[14;17H[1m[96mcall[m    [1m[96mgetchar[m[9C[96m#read input char into inChar[m[15;17H[1m[96mmov[m     [1m[96minChar[m, %[1m[96mal[m     [96m#al set to char read[m[16;17H[1m[96mcmp[m     $[1m[96mQUIT[m, %[1m[96mal[m      [96m#is it a QUIT character?[m[17;17H[1m[96mjz[m      [1m[96mmain3[m[11C[96m#quit if got QUIT character[m[18;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[19;17Hmov[m     $[1m[96mCOUNT[m, %[1m[96mcx[m     [96m#set output counter[m
[1m[96mmain2[m:[21;17H[1m[96mmov[m     [1m[96mhasKey[m, %[1m[96mal[m     [96m#put checkKey result into al[m[22;17H[1m[96mtest[m    %[1m[96mal[m, %[1m[96mal[m[8C[96m#non-zero if keyboard has char[23;17H#mov    hasKey, %al     [m[24;63H32,17-35[7C9%"key-int.s" 167L, 4404C[18;35H[?25h[?25l[24;53H:[18;35H[24;1H[K[24;1H:[?2004h[?25hc[?25l[?25h[?25l[24;2H[K[24;2H[?25h [?25l[18;35H[24;63H32,17-35[7C9%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [17;40H[24;64H1,12-40[17;40H[?25h[?25l[24;53H~@k[17;40H[24;53H   [18;35H[24;64H2,17-35[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mjz[m      [1m[96mmain4[m[11C[96m#no key press[m[24;63H[K[24;63H33,21-35      10%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mgetchar[m[24;63H[K[24;63H34,6[10C11%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain4[m:[24;63H[K[24;63H35,17-35      11%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;40H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mputchar[m[9C[96m#output inChar to console[m[24;63H[K[24;63H36,16-40      12%[18;40H[?25h[?25l[24;53H~@k[18;40H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mdelay[m[11C[96m#delay for time proportional to DELAY[m[24;63H[K[24;63H37,18-35      13%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[96m#mov    hasKey, %al[m[24;63H[K[24;63H38,23-35      13%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;31H[1;23r[23;1H
[1;24r[23;17H[1m[96mdec[m     %[1m[96mcx[m[13C[96m#decrement loop counter[m[24;63H[K[24;63H39,14-31      14%[18;31H[?25h[?25l[24;53H~@k[18;31H[24;53H   [18;8H[1;23r[23;1H
[1;24r[23;17H[1m[96mjnz[m     [1m[96mmain2[m[11C[96m#loop if output counter nonzero[m[24;63H[K[24;63H40,7-8[8C15%[18;8H[?25h[?25l[24;53H~@k[18;8H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mjmp[m     [1m[96mmain1[m[11C[96m#back to read next char[m[24;63H[K[24;63H41,28-35      15%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;1H[1m[96mmain3[m:[24;63H[K[24;63H42,21-35      16%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mresetHandler[m[24;63H[K[24;63H43,19-35      17%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mcall[m    [1m[96mexit[m[24;63H[K[24;63H44,31-35      18%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[24;63H[K[24;63H45,21-35      18%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;1H[96m#Save address of current interrupt handler for keyboard interrupt in intAddr[m[24;63H[K[24;63H46,21-35      19%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;6H[1;23r[23;1H
[1;24r[23;1H[96m#and address of bios interrupt handler in chkAddr.[m[24;63H[K[24;63H47,6[10C20%[18;6H[?25h[?25l[24;53H~@k[18;6H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;1H[96m#Point keyboard interrupt to intHandler [m[24;63H[K[24;63H48,21-35      20%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;28H[1;23r[23;1H
[1;24r[23;1H[1m[96msetupHandler[m:[24;63H[K[24;63H49,11-28      21%[18;28H[?25h[?25l[24;53H~@k[18;28H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96max[m[24;63H[K[24;63H50,0-1[8C22%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mbx[m[24;63H[K[24;63H51,35[9C22%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mdx[m[24;63H[K[24;63H52,35[9C23%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mpush[m    %[1m[96mes[m[24;63H[K[24;63H53,35[9C24%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;13H[1;23r[23;1H
[1;24r[24;63H[K[24;63H54,13[9C25%[18;13H[?25h[?25l[24;53H~@k[18;13H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[96m#save address of handler for CHK_INT in chkAddr[m[24;63H[K[24;63H55,10-27      25%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mCHK_INT[m, %[1m[96mal[m   [96m#int vec for checking keyboard buf[m[24;63H[K[24;63H56,10-27      26%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H57,10-27      27%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;27H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H58,10-27      27%[18;27H[?25h[?25l[24;53H~@k[18;27H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mchkAddr[m    [96m#save old int vector [m[24;63H[K[24;63H59,0-1[8C28%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mchkAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H60,28-35      29%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[24;63H[K[24;63H61,17-35      29%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[96m#save address of handler for KEY_INT in intAddr[m[24;63H[K[24;63H62,17-35      30%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;40H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#int vec for reading keyboard[m[24;63H[K[24;63H63,15-40      31%[18;40H[?25h[?25l[24;53H~@k[18;40H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x35[m, %[1m[96mah[m      [96m#specify fn to read current int vector[m[24;63H[K[24;63H64,21-35      31%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mint[m     $[1m[96mDOS_INT[m[8C[96m#interrupt vector addr in es:bx[m[24;63H[K[24;63H65,21-35      32%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;1H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mbx[m, [1m[96mintAddr[m    [96m#save old int vector[m[24;63H[K[24;63H66,0-1[8C33%[18;1H[?25h[?25l[24;53H~@k[18;1H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     %[1m[96mes[m, [1m[96mintAddr[m+[95m2[m  [96m#in mem[m[24;63H[K[24;63H67,28-35      34%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[24;63H[K[24;63H68,17-35      34%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[96m#set address of keyboard interrupt handler to intHandler[m[24;63H[K[24;63H69,17-35      35%[18;35H[?25h[?25l[24;53H~@k[18;35H[24;53H   [18;40H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[1m[96mKEY_INT[m, %[1m[96mal[m   [96m#replace int vec for reading keyboard[m[24;63H[K[24;63H70,15-40      36%[18;40H[?25h[?25l[24;53H~@k[18;40H[24;53H   [18;35H[1;23r[23;1H
[1;24r[23;17H[1m[96mmov[m     $[95m0x25[m, %[1m[96mah